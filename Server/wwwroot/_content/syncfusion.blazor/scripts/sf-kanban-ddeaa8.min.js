!function(e){var t={};function s(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=t,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="_content/Syncfusion.Blazor/scripts/",s(s.s="./bundles/sf-kanban.js")}({"./bundles/sf-kanban.js":function(e,t,s){"use strict";s.r(t);s("./modules/sf-kanban.js")},"./modules/sf-kanban.js":function(e,t){window.sfBlazor=window.sfBlazor||{},window.sfBlazor.Kanban=function(){"use strict";var e="e-kanban-content",t="e-show-add-button",s=function(){function s(e){this.parent=e,this.dragObj={element:null,cloneElement:null,instance:null,targetClone:null,draggedClone:null,targetCloneMulti:null,selectedCards:[],pageX:0,pageY:0,navigationInterval:null,cardDetails:[],modifiedData:[]},this.isDragging=!1,this.dragEdges={left:!1,right:!1,top:!1,bottom:!1},this.isExternalDrop=!1}return s.prototype.wireDragEvents=function(t){var s;null!=!this.parent.element&&this.parent.externalDropId&&0===this.parent.externalDropId.length&&(s=this.parent.element.querySelector("."+e)),this.dragObj.instance=new sf.base.Draggable(t,{clone:!0,enableTapHold:this.parent.isAdaptive,enableTailMode:!0,cursorAt:{top:-10,left:-10},dragArea:s,dragStart:this.dragStart.bind(this),drag:this.drag.bind(this),dragStop:this.dragStop.bind(this),enableAutoScroll:!1,helper:this.dragHelper.bind(this)})},s.prototype.dragHelper=function(e){if(this.dragObj.element=sf.base.closest(e.sender.target,".e-card"),sf.base.isNullOrUndefined(this.dragObj.element))return null;this.dragObj.element.style.width=sf.base.formatUnit(this.dragObj.element.offsetWidth);var t=this.dragObj.element.cloneNode(!0);return this.dragObj.cloneElement=t,sf.base.addClass([this.dragObj.cloneElement],"e-cloned-card"),this.dragObj.element.parentElement.appendChild(this.dragObj.cloneElement),this.dragObj.targetCloneMulti=sf.base.createElement("div",{className:"e-target-multi-clone"}),this.dragObj.targetClone=sf.base.createElement("div",{className:"e-target-dropped-clone",styles:"width:100%;height:"+sf.base.formatUnit(this.dragObj.element.offsetHeight)}),this.dragObj.modifiedData=[],this.dragObj.cloneElement},s.prototype.dragStart=function(e){var t=this;if(this.dragObj.selectedCards=this.dragObj.element,this.dragObj.element.classList.contains("e-selection")){var s=sf.base.closest(this.dragObj.element,".e-content-row");this.dragObj.selectedCards=[].slice.call(s.querySelectorAll(".e-card.e-selection:not(.e-cloned-card)"))}var n=[];if(this.dragObj.selectedCards instanceof HTMLElement){var i=this.dragObj.selectedCards.getAttribute("data-id");n.push(i)}else this.dragObj.selectedCards.forEach((function(e){n.push(e.getAttribute("data-id"))}));if(this.parent.dotNetRef.invokeMethodAsync("DragStart",n,"DragStart"),e.bindEvents(e.dragElement),this.dragObj.element.classList.contains("e-selection")){if(this.dragObj.selectedCards.forEach((function(e){t.draggedClone(e)})),this.dragObj.selectedCards.length>1){this.dragObj.cloneElement.innerHTML="";var o=sf.base.createElement("div",{className:"e-multi-card-text",innerHTML:this.dragObj.selectedCards.length+" Cards"});this.dragObj.cloneElement.appendChild(o),sf.base.classList(this.dragObj.cloneElement,["e-multi-card-clone"],["e-selection"]),this.dragObj.cloneElement.style.width="90px"}}else this.draggedClone(this.dragObj.element)},s.prototype.drag=function(e){var t=this;if(e.target){var s=sf.base.closest(e.target,".e-card"),n=s||e.target,i=sf.base.closest(n,".e-content-row:not(.e-swimlane-row) .e-content-cells.e-droppable");if(this.externalDrop(n,"drag"),this.target=this.parent.isExternalKanbanDrop?this.externalTarget:this.parent.element,this.calculateArgs(e),i&&"not-allowed"!==document.body.style.cursor){var o=this.getColumnKey(i),l=o.split(",");this.multiCloneRemove();var r=o===this.getColumnKey(sf.base.closest(this.dragObj.draggedClone,".e-content-cells"));if(1===l.length||r)if(n.classList.contains("e-card")||n.classList.contains("e-target-dragged-clone")){var a=n.classList.contains("e-target-dragged-clone")&&n.previousElementSibling.classList.contains("e-kanban-dragged-card")?null:n.previousElementSibling,c="afterend";if(sf.base.isNullOrUndefined(a)){var d=n.classList.contains("e-target-dragged-clone")?this.dragObj.pageY/2:this.dragObj.pageY,h=n.classList.contains("e-target-dragged-clone")?n.offsetHeight:n.offsetHeight/2;d-(this.target.getBoundingClientRect().top+n.offsetTop)<h&&(c="beforebegin")}n.insertAdjacentElement(c,this.dragObj.targetClone)}else n.classList.contains("e-content-cells")&&!sf.base.closest(n,".e-swimlane-row")?n.querySelector(".e-card-container").appendChild(this.dragObj.targetClone):n.classList.contains("e-card-container")&&!sf.base.closest(n,".e-swimlane-row")&&0===i.querySelectorAll(".e-card").length&&n.appendChild(this.dragObj.targetClone);else l.length>1&&i.classList.contains("e-dropping")&&this.multiCloneCreate(l,i)}0===this.target.querySelectorAll(".e-dropping").length&&this.cellDropping();var u=sf.base.closest(n,".e-column-key");if(u){var p=[].slice.call(this.target.querySelectorAll(".e-column-key:not(.e-disabled)")).filter((function(e){return t.getColumnKey(e)===t.getColumnKey(u)}));p.length>0&&(sf.base.addClass(p,"e-multi-active"),p[0].previousElementSibling&&sf.base.addClass([p[0].previousElementSibling],"e-multi-bottom-border"))}document.body.style.cursor=i&&i.classList.contains("e-dropping")?"":"not-allowed",s&&!sf.base.closest(s,".e-content-cells").classList.contains("e-dropping")&&(s.style.cursor="not-allowed",document.body.style.cursor="not-allowed"),this.isExternalDrop&&"not-allowed"===document.body.style.cursor&&(document.body.style.cursor=""),"not-allowed"===document.body.style.cursor&&(this.removeElement(this.dragObj.targetClone,this.target),this.multiCloneRemove()),this.updateScrollPosition(),this.parent.isExternalKanbanDrop=!1,this.isExternalDrop=!1}},s.prototype.dragStop=function(e){var t,s=sf.base.closest(this.dragObj.targetClone,".e-content-cells"),n=0;if(this.externalDrop(e.target,"dragStop"),this.dragObj.targetClone.parentElement){n=[].slice.call(this.dragObj.targetClone.parentElement.querySelectorAll(".e-card:not(.e-kanban-dragged-card),.e-target-dropped-clone")).indexOf(this.dragObj.targetClone)}if(this.target&&this.target.querySelector(".e-target-multi-clone")&&(t=sf.base.closest(e.target,".e-column-key:not(.e-disabled)")),s||t){var i=void 0;s?i=this.getColumnKey(s):(i=this.getColumnKey(t),s=sf.base.closest(t,".e-content-cells"));var o=void 0;if(this.parent.swimlaneSettings.keyField&&this.parent.swimlaneSettings.allowDragAndDrop){var l=sf.base.closest(s,".e-content-row").previousElementSibling;o=this.getColumnKey(l)}var r=[];if(this.dragObj.selectedCards instanceof HTMLElement){var a=this.dragObj.selectedCards.getAttribute("data-id");r.push(a)}else this.dragObj.selectedCards.forEach((function(e){r.push(e.getAttribute("data-id"))}));var c=!1,d=void 0,h="";this.parent.sortSettings.field&&"Index"===this.parent.sortSettings.sortBy&&(!(d="Ascending"===this.parent.sortSettings.direction?this.dragObj.targetClone.previousElementSibling:this.dragObj.targetClone.nextElementSibling)||d.classList.contains("e-kanban-dragged-card")||d.classList.contains("e-cloned-card")||d.classList.contains("e-target-dragged-clone")?this.dragObj.targetClone.nextElementSibling&&"Ascending"===this.parent.sortSettings.direction?d=this.dragObj.targetClone.nextElementSibling:this.dragObj.targetClone.previousElementSibling&&"Descending"===this.parent.sortSettings.direction&&(d=this.dragObj.targetClone.previousElementSibling):c=!0),d&&(h=d.getAttribute("data-id")),this.parent.dotNetRef.invokeMethodAsync("DragStop",r,i,o,n,c,h,this.parent.isExternalKanbanDrop)}this.removeElement(this.dragObj.draggedClone),this.removeElement(this.dragObj.targetClone,this.target),this.removeElement(this.dragObj.cloneElement),[].slice.call(this.parent.element.querySelectorAll(".e-target-dragged-clone")).forEach((function(e){return sf.base.remove(e)})),this.dragObj.element.style.removeProperty("width"),this.multiCloneRemove(),this.dragObj.selectedCards instanceof HTMLElement?sf.base.removeClass([this.dragObj.selectedCards],"e-kanban-dragged-card"):sf.base.removeClass(this.dragObj.selectedCards,"e-kanban-dragged-card"),clearInterval(this.dragObj.navigationInterval),this.dragObj.navigationInterval=null,"not-allowed"===document.body.style.cursor&&(document.body.style.cursor=""),[].slice.call(this.parent.element.querySelectorAll(".e-card[style]")).forEach((function(e){e.style.cursor=""}));[].slice.call(this.parent.element.querySelectorAll(".e-content-row:not(.e-swimlane-row) .e-content-cells")).forEach((function(e){return sf.base.removeClass([e],"e-dropping")})),this.dragObj.cardDetails=this.dragObj.modifiedData=[],this.isDragging=!1,this.parent.isExternalKanbanDrop=!1,this.target=null,this.externalTarget=null},s.prototype.draggedClone=function(e){this.dragObj.draggedClone=sf.base.createElement("div",{className:"e-target-dragged-clone",styles:"width:"+sf.base.formatUnit(e.offsetWidth-1)+";height:"+sf.base.formatUnit(e.offsetHeight)}),e.insertAdjacentElement("afterend",this.dragObj.draggedClone),sf.base.addClass([e],"e-kanban-dragged-card")},s.prototype.calculateArgs=function(e){var t=this.getPageCoordinates(e);this.dragObj.pageY=t.pageY,this.dragObj.pageX=t.pageX,this.isDragging=!0},s.prototype.getPageCoordinates=function(e){var t=e.event;return t&&t.changedTouches?t.changedTouches[0]:e.changedTouches?e.changedTouches[0]:t||e},s.prototype.getColumnKey=function(e){return e&&e.getAttribute("data-key")?e.getAttribute("data-key").trim():""},s.prototype.multiCloneRemove=function(){if(this.target){var e=[].slice.call(this.target.querySelectorAll(".e-target-multi-clone"));if(e.length>0)[].slice.call(this.target.querySelectorAll(".e-column-key")).forEach((function(e){return sf.base.remove(e)})),e.forEach((function(e){var s=sf.base.closest(e,".e-content-cells");s&&(s.style.borderStyle="",s.querySelector("."+t)&&sf.base.removeClass([s.querySelector("."+t)],"e-multi-card-container"),sf.base.removeClass([s.querySelector(".e-card-container")],"e-multi-card-container"))})),this.removeElement(this.dragObj.targetCloneMulti,this.target)}},s.prototype.removeElement=function(e,t){(t=t||this.parent.element).getElementsByClassName(e.className).length>0&&sf.base.remove(e)},s.prototype.externalDrop=function(e,t){var s=this;this.parent.externalDropId&&this.parent.externalDropId.forEach((function(n){if(s.externalTarget=sf.base.closest(e,n),s.externalTarget)if(s.externalTarget.classList.contains("e-kanban")){s.parent.isExternalKanbanDrop=!0;var i=[].slice.call(s.externalTarget.querySelectorAll(".e-content-row:not(.e-swimlane-row):not(.e-collapsed) .e-content-cells"));"drag"===t?sf.base.addClass(i,"e-dropping"):sf.base.removeClass(i,"e-dropping")}else s.isExternalDrop=!0}))},s.prototype.multiCloneCreate=function(e,s){var n=s.offsetHeight,i=s.querySelector(".e-limits");i&&(n-=i.offsetHeight),this.dragObj.targetCloneMulti.style.height=sf.base.formatUnit(n),s.querySelector("."+t)&&sf.base.addClass([s.querySelector("."+t)],"e-multi-card-container"),sf.base.addClass([s.querySelector(".e-card-container")],"e-multi-card-container"),s.querySelector(".e-card-container").style.height="auto",s.style.borderStyle="none",this.removeElement(this.dragObj.targetClone);for(var o=0,l=e;o<l.length;o++){var r=l[o],a=sf.base.closest(this.dragObj.draggedClone,".e-content-cells"),c=this.parent.transition[a.cellIndex].transitionColumn,d=this.allowedTransition(this.dragObj.element.getAttribute("data-key"),r,c),h=d?"":" e-disabled",u=sf.base.createElement("div",{className:"e-column-key"+h,attrs:{"data-key":r.trim()}}),p=sf.base.createElement("div",{className:"e-text",innerHTML:r.trim()});s.appendChild(this.dragObj.targetCloneMulti).appendChild(u).appendChild(p),u.style.cursor=d?"":"not-allowed",u.style.lineHeight=u.style.height=sf.base.formatUnit(n/e.length),p.style.top=sf.base.formatUnit(n/2-p.offsetHeight/2)}},s.prototype.allowedTransition=function(e,t,s){for(var n=!0,i=t.split(","),o=0;o<i.length;o++){if(e===i[o].trim())return!0;if(s){if(1===s.length&&0===s[0].length)return!0;for(var l=0;l<s.length;l++){if(i[o].trim()===s[l].trim())return!0;n=!1}}}return n},s.prototype.cellDropping=function(){var e=this,t=sf.base.closest(this.dragObj.draggedClone,".e-content-cells"),s=sf.base.closest(this.dragObj.draggedClone,".e-content-row");if(this.addDropping(s,t),t&&t.classList.contains("e-drop")&&sf.base.addClass([t],"e-dropping"),this.parent.swimlaneSettings.keyField&&this.parent.swimlaneSettings.allowDragAndDrop){var n=[].slice.call(this.target.querySelectorAll(".e-content-row:not(.e-swimlane-row):not(.e-collapsed)"));[].slice.call(n).forEach((function(n){s!==n&&e.addDropping(n,t)}))}},s.prototype.addDropping=function(e,t){var s=this;t&&e&&[].slice.call(e.children).forEach((function(e){var n=s.parent.transition[t.cellIndex].transitionColumn;e!==t&&e.classList.contains("e-drop")&&s.allowedTransition(t.getAttribute("data-key"),e.getAttribute("data-key"),n)&&sf.base.addClass([e],"e-dropping")}))},s.prototype.updateScrollPosition=function(){var e=this;sf.base.isNullOrUndefined(this.dragObj.navigationInterval)&&(this.dragObj.navigationInterval=window.setInterval((function(){e.autoScroll()}),100))},s.prototype.autoScrollValidation=function(){var t=this.dragObj.pageY,s=this.dragObj.pageX,n={left:!1,right:!1,top:!1,bottom:!1},i=this.target.querySelector("."+e).getBoundingClientRect();t<i.top+30+window.pageYOffset&&t>i.top+window.pageYOffset&&(n.top=!0),t>i.bottom-30+window.pageYOffset&&t<i.bottom+window.pageYOffset&&(n.bottom=!0),s<i.left+30+window.pageXOffset&&s>i.left+window.pageXOffset&&(n.left=!0),s>i.right-30+window.pageXOffset&&s<i.right+window.pageXOffset&&(n.right=!0),this.dragEdges=n},s.prototype.autoScroll=function(){this.autoScrollValidation();if(this.parent.isAdaptive){var t;if(this.dragEdges.top||this.dragEdges.bottom?t=this.dragObj.targetClone?sf.base.closest(this.dragObj.targetClone,".e-card-container"):sf.base.closest(this.dragObj.draggedClone,".e-card-container"):(this.dragEdges.right||this.dragEdges.left)&&(t=this.target.querySelector("."+e)),t){var s=t.offsetHeight<=t.scrollHeight,n=t.offsetWidth<=t.scrollWidth,i=t.scrollTop>=0&&t.scrollTop+t.offsetHeight<=t.scrollHeight,o=t.scrollLeft>=0&&t.scrollLeft+t.offsetWidth<=t.scrollWidth;if(s&&i&&(this.dragEdges.top||this.dragEdges.bottom)&&(t.scrollTop+=this.dragEdges.top?-66:30),n&&o&&(this.dragEdges.left||this.dragEdges.right))(this.getWidth()*(this.target.querySelector(".e-content-row:not(.e-swimlane-row)").childElementCount-1)>t.scrollLeft||this.dragEdges.left)&&(t.scrollLeft+=this.dragEdges.left?-30:30)}}else{var l=this.target.querySelector("."+e),r=this.dragObj.targetClone.parentElement,a=l.offsetHeight<=l.scrollHeight,c=l.offsetWidth<=l.scrollWidth,d=a&&l.scrollTop>=0&&l.scrollTop+l.offsetHeight<=l.scrollHeight,h=c&&l.scrollLeft>=0&&l.scrollLeft+l.offsetWidth<=l.scrollWidth;d&&(this.dragEdges.top||this.dragEdges.bottom)&&(l.scrollTop+=this.dragEdges.top?-30:30,r&&(r.scrollTop+=this.dragEdges.top?-30:30)),h&&(this.dragEdges.left||this.dragEdges.right)&&(l.scrollLeft+=this.dragEdges.left?-30:30,r&&(r.scrollLeft+=this.dragEdges.left?-30:30)),this.dragObj.pageY-window.scrollY<30?window.scrollTo(window.scrollX,window.scrollY-30):window.innerHeight-(this.dragObj.pageY-window.scrollY)<30&&window.scrollTo(window.scrollX,window.scrollY+30)}},s.prototype.getWidth=function(){return 80*window.innerWidth/100},s.prototype.unWireDragEvents=function(){this.dragObj.instance&&!this.dragObj.instance.isDestroyed&&this.dragObj.instance.destroy()},s.prototype.destroy=function(){this.unWireDragEvents()},s}(),n=function(){function e(e){this.keyConfigs={firstCardSelection:"36",lastCardSelection:"35",upArrow:"38",downArrow:"40",rightArrow:"39",leftArrow:"37",multiSelectionEnter:"ctrl+13",multiSelectionSpace:"ctrl+32",multiSelectionByUpArrow:"shift+38",multiSelectionByDownArrow:"shift+40",shiftTab:"shift+tab",enter:"13",tab:"tab",delete:"46",escape:"27",space:"32"},this.parent=e,this.parent.element.tabIndex=-1===this.parent.element.tabIndex?0:this.parent.element.tabIndex,this.keyboardModule=new sf.base.KeyboardEvents(this.parent.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}),this.multiSelection=!1}return e.prototype.keyActionHandler=function(e){var s,n=this.parent.element.querySelectorAll(".e-card.e-selection").item(0);if(n||sf.base.closest(document.activeElement,".e-kanban"))switch(e.action){case"upArrow":case"downArrow":case"multiSelectionByUpArrow":case"multiSelectionByDownArrow":this.processUpDownArrow(e.action,n);break;case"rightArrow":case"leftArrow":this.processLeftRightArrow(e);break;case"firstCardSelection":case"lastCardSelection":this.processCardSelection(e.action,n);break;case"multiSelectionEnter":case"multiSelectionSpace":document.activeElement&&this.parent.cardSelection(document.activeElement,!0,!1);break;case"space":case"enter":this.processEnter(e,n);break;case"escape":if(document.activeElement.classList.contains("e-card")||document.activeElement.classList.contains(t))if(document.activeElement.classList.contains("e-selection"))sf.base.removeClass([document.activeElement],"e-selection"),document.activeElement.focus();else{var i=sf.base.closest(document.activeElement,".e-content-cells"),o=[].slice.call(i.querySelectorAll(".e-card"));sf.base.removeClass(o,"e-selection"),i.focus(),this.cardTabIndexRemove(),this.addRemoveTabIndex("Add")}break;case"tab":case"shiftTab":s=sf.base.closest(document.activeElement,".e-content-cells"),document.activeElement.classList.contains("e-card")&&(document.activeElement.nextElementSibling||"tab"!==e.action||e.preventDefault(),!document.activeElement.previousElementSibling&&s.querySelector("."+t)&&"tab"===e.action&&sf.base.addClass([s.querySelector("."+t)],"e-show-add-focus")),document.activeElement.classList.contains(t)&&(!s.querySelector(".e-card")&&"tab"===e.action||"shiftTab"===e.action)&&e.preventDefault(),document.activeElement.classList.contains("e-kanban")&&(this.cardTabIndexRemove(),this.addRemoveTabIndex("Add"))}},e.prototype.processCardSelection=function(e,t){if(t){sf.base.removeClass([t],"e-selection"),this.parent.disableAttributeSelection(t);var s=this.parent.selectionArray;s.splice(s.indexOf(t.getAttribute("data-id")),1)}this.cardTabIndexRemove();var n=[].slice.call(this.parent.element.querySelectorAll(".e-card")),i="firstCardSelection"===e?n[0]:n[n.length-1];this.parent.cardSelection(i,!1,!1),this.addRemoveTabIndex("Remove"),i.focus(),[].slice.call(sf.base.closest(i,".e-content-cells").querySelectorAll(".e-card")).forEach((function(e){e.setAttribute("tabindex","0")}))},e.prototype.processLeftRightArrow=function(e){document.activeElement.classList.contains("e-content-cells")&&("rightArrow"===e.action&&document.activeElement.nextElementSibling?document.activeElement.nextElementSibling.focus():"leftArrow"===e.action&&document.activeElement.previousElementSibling&&document.activeElement.previousElementSibling.focus())},e.prototype.processUpDownArrow=function(e,s){if("upArrow"===e&&document.activeElement){if(document.activeElement.classList.contains("e-card")&&document.activeElement.previousElementSibling)document.activeElement.previousElementSibling.focus();else if(document.activeElement.classList.contains(t)){document.activeElement.setAttribute("tabindex","-1"),sf.base.removeClass([document.activeElement],"e-show-add-focus");var n=sf.base.closest(document.activeElement,".e-content-cells");n.querySelectorAll(".e-card").length>0&&[].slice.call(n.querySelectorAll(".e-card")).slice(-1)[0].focus()}this.removeSelection()}else if("downArrow"===e&&document.activeElement&&document.activeElement.classList.contains("e-card")){if(document.activeElement.nextElementSibling)document.activeElement.nextElementSibling.focus();else if(sf.base.closest(document.activeElement,".e-card-container").nextElementSibling){var i=sf.base.closest(document.activeElement,".e-card-container").nextElementSibling;i.setAttribute("tabindex","0"),sf.base.addClass([i],"e-show-add-focus"),i.focus()}this.removeSelection()}if(("multiSelectionByUpArrow"===e||"multiSelectionByDownArrow"===e)&&s&&"Multiple"===this.parent.cardSettings.selectionType){var o=void 0;(o="multiSelectionByUpArrow"===e?document.activeElement.previousElementSibling:document.activeElement.nextElementSibling)&&(this.parent.cardSelection(o,!1,!0),o.focus(),this.multiSelection=!0)}},e.prototype.removeSelection=function(){if(this.multiSelection){var e=this.parent.getSelectedCards();e.length>0&&(sf.base.removeClass(e,"e-selection"),this.parent.disableAttributeSelection(e)),this.multiSelection=!1}},e.prototype.cardTabIndexRemove=function(){[].slice.call(this.parent.element.querySelectorAll(".e-card")).forEach((function(e){e.setAttribute("tabindex","-1")})),[].slice.call(this.parent.element.querySelectorAll("."+t)).forEach((function(e){e.setAttribute("tabindex","-1"),sf.base.removeClass([e],"e-show-add-focus")}))},e.prototype.processEnter=function(e,s){var n=e.target;if(n.classList.contains("e-header-icon")&&n.click(),(n.classList.contains("e-swimlane-row-expand")||n.classList.contains("e-swimlane-row-collapse"))&&n.click(),document.activeElement.classList.contains("e-card")&&this.parent.cardSelection(document.activeElement,!1,!1),document.activeElement.classList.contains(t)&&document.activeElement.focus(),n.classList.contains("e-content-cells")){var i=[].slice.call(n.querySelectorAll(".e-card"));this.addRemoveTabIndex("Remove"),i.length>0&&(n.querySelector(".e-card").focus(),i.forEach((function(e){e.setAttribute("tabindex","0")}))),n.querySelector("."+t)&&(n.querySelector("."+t).setAttribute("tabindex","0"),n.querySelector("."+t).focus())}s===document.activeElement&&1===this.parent.element.querySelectorAll(".e-selection").length&&s.focus()},e.prototype.addRemoveTabIndex=function(e){var t="Add"===e?"0":"-1",s=[].slice.call(this.parent.element.querySelectorAll(".e-header-icon"));s.length>0&&s.forEach((function(e){e.setAttribute("tabindex",t)}));var n=[].slice.call(this.parent.element.querySelectorAll(".e-swimlane-row-expand"));n.length>0&&n.forEach((function(e){e.setAttribute("tabindex",t)}));[].slice.call(this.parent.element.querySelectorAll(".e-content-row:not(.e-swimlane-row) .e-content-cells")).forEach((function(e){e.setAttribute("tabindex",t)}))},e.prototype.destroy=function(){this.keyboardModule.destroy()},e}(),i=function(){function t(e){this.parent=e,this.tabHold=!1}return t.prototype.wireTouchEvents=function(){this.element=this.parent.element.querySelector("."+e),this.touchObj=new sf.base.Touch(this.element,{tapHold:this.tapHoldHandler.bind(this)})},t.prototype.tapHoldHandler=function(e){this.tabHold=!0,sf.base.closest(e.originalEvent.target,".e-card")&&"Multiple"===this.parent.cardSettings.selectionType&&(this.mobilePopup||(this.renderMobilePopup(),this.mobilePopup.show()),this.updatePopupContent())},t.prototype.renderMobilePopup=function(){if("Multiple"===this.parent.cardSettings.selectionType){var e=sf.base.createElement("div",{className:"e-mobile-popup-wrapper e-popup-close",innerHTML:'<div class="e-popup-header"><button class="e-btn e-close e-flat e-round e-small"><span class="e-icons e-close-icon"></span></button></div><div class="e-popup-content"></div>'});document.body.appendChild(e),sf.base.addClass([e],"e-device"),this.mobilePopup=new sf.popups.Popup(e,{targetType:"container",enableRtl:this.parent.enableRtl,hideAnimation:{name:"ZoomOut"},showAnimation:{name:"ZoomIn"},collision:{X:"fit",Y:"fit"},position:{X:"left",Y:"top"},viewPortElement:document.body,zIndex:1004,close:this.popupClose.bind(this)});var t=this.mobilePopup.element.querySelector(".e-close");sf.base.EventHandler.add(t,"click",this.closeClick,this)}},t.prototype.closeClick=function(){this.mobilePopup.hide()},t.prototype.popupClose=function(){this.popupDestroy()},t.prototype.getPopupContent=function(){var e,t=this.parent.getSelectedCards();return t.length>1?e="("+t.length+") Cards Selected":1===t.length&&(e=" "+t[0].getAttribute("data-id")),e},t.prototype.updatePopupContent=function(){if(this.mobilePopup){var e=this.getPopupContent();e?this.mobilePopup.element.querySelector(".e-popup-content").textContent=e:this.mobilePopup.hide()}},t.prototype.popupDestroy=function(){this.mobilePopup&&this.mobilePopup.element&&(this.mobilePopup.destroy(),sf.base.remove(this.mobilePopup.element),this.mobilePopup=null)},t.prototype.unWireTouchEvents=function(){this.touchObj&&this.touchObj.destroy(),this.touchObj=null,this.element=null},t.prototype.destroy=function(){this.popupDestroy(),this.unWireTouchEvents(),this.tabHold=!1},t}(),o=function(){function t(e,t,s){this.element=e,this.dotNetRef=s,this.updateContext(t),this.columnToggleArray=[],this.selectionArray=[],this.lastCardSelection=null,this.lastSelectionRow=null,this.lastCard=null,this.selectedCardsElement=[],this.selectedCardsData=[],this.hideColumnKeys=[],this.scrollPosition={content:{},column:{}},this.initializeModules(),this.scrollUiUpdate(),this.wireEvents(),this.element&&(this.element.blazor__instance=this)}return t.prototype.initializeModules=function(){(this.isAdaptive||sf.base.Browser.isTouch)&&(this.touchModule=new i(this)),this.allowDragAndDrop&&(this.dragAndDropModule=new s(this)),this.allowKeyboard&&(this.keyboardModule=new n(this)),this.scrollPosition.content={left:0,top:0},this.initializeSwimlaneTree()},t.prototype.updateContext=function(e){sf.base.extend(this,this,e)},t.prototype.getSelectedCards=function(){return[].slice.call(this.element.querySelectorAll(".e-card.e-selection"))},t.prototype.documentClick=function(e){if(e.target.classList.contains("e-swimlane-overlay")&&this.element.querySelector(".e-swimlane-resource").classList.contains("e-popup-open")&&(this.treePopup.hide(),sf.base.removeClass([this.popupOverlay],"e-enable")),!sf.base.closest(e.target,".e-kanban")){var t=[].slice.call(this.element.querySelectorAll(".e-card.e-selection"));sf.base.removeClass(t,"e-selection"),this.disableAttributeSelection(t)}},t.prototype.disableAttributeSelection=function(e){e instanceof Element?e.setAttribute("aria-selected","false"):e.forEach((function(e){e.setAttribute("aria-selected","false")}))},t.prototype.wireDragEvent=function(){var e=this;if(this.allowDragAndDrop){var t=[].slice.call(this.element.querySelectorAll(".e-content-cells.e-drag .e-card:not(e-draggable)"));sf.base.addClass(t,"e-droppable"),t.forEach((function(t){return e.dragAndDropModule.wireDragEvents(t)}))}},t.prototype.initializeSwimlaneTree=function(){if(this.swimlaneSettings.keyField&&this.isAdaptive){var t=this.element.querySelector(".e-swimlane-header").offsetHeight,s=window.innerHeight-t;this.popupOverlay=this.element.querySelector(".e-swimlane-content .e-swimlane-overlay"),sf.base.setStyleAttribute(this.element.querySelector(".e-swimlane-overlay"),{height:s+"px"}),sf.base.setStyleAttribute(this.element.querySelector(".e-swimlane-content"),{top:t+"px"});var n=this.element.querySelector(".e-swimlane-resource");sf.base.setStyleAttribute(n,{height:s+"px"});var i={targetType:"relative",actionOnScroll:"none",enableRtl:this.enableRtl,zIndex:10,hideAnimation:{name:"SlideLeftOut",duration:500},showAnimation:{name:"SlideLeftIn",duration:500},viewPortElement:this.element.querySelector("."+e)};this.treePopup=new sf.popups.Popup(n,i)}},t.prototype.cardSelection=function(e,t,s){var n=this;if(e){var i=this.getSelectedCards();if("None"!==this.cardSettings.selectionType){var o=sf.base.closest(e,".e-content-row");if((sf.base.isNullOrUndefined(this.lastSelectionRow)?o.rowIndex:this.lastSelectionRow.rowIndex)!==o.rowIndex&&(t||s)&&"Multiple"===this.cardSettings.selectionType)return;if(0===i.length||t&&"Single"!==this.cardSettings.selectionType||(sf.base.removeClass(i,"e-selection"),this.disableAttributeSelection(i),i.forEach((function(e){n.selectionArray.splice(n.selectionArray.indexOf(e.getAttribute("data-id")),1),n.selectedCardsElement.splice(n.selectedCardsElement.indexOf(e),1)}))),i.length>0&&s&&"Multiple"===this.cardSettings.selectionType){var l=[],r=void 0,a=void 0,c=void 0,d=[].slice.call(o.querySelectorAll(".e-card"));d.forEach((function(e){return l.push(e.getAttribute("data-id"))}));var h=e.getAttribute("data-id"),u=this.lastCard.getAttribute("data-id"),p=a=l.indexOf(h),f=r=l.indexOf(u),g=p>f?"next":"prev";for("prev"===g&&(r=p,a=f),c=r;c<=a;c++){var b=d[c];sf.base.addClass([b],"e-selection"),b.setAttribute("aria-selected","true"),b.setAttribute("tabindex","0"),this.selectionArray.push(b.getAttribute("data-id")),this.selectedCardsElement.push(b),this.lastCardSelection=b,"prev"===g&&(this.lastCardSelection=d[r])}}else if(sf.base.addClass([e],"e-selection"),e.setAttribute("aria-selected","true"),e.setAttribute("tabindex","0"),this.selectionArray.push(e.getAttribute("data-id")),this.selectedCardsElement.push(e),this.lastCard=this.lastCardSelection=e,this.lastSelectionRow=sf.base.closest(e,".e-content-row"),this.lastSelectionRow.previousElementSibling){var m=this.lastSelectionRow.previousElementSibling.querySelector(".e-swimlane-row-expand,.e-swimlane-row-collapse");m&&m.classList.contains("e-swimlane-row-collapse")&&m.click()}}}},t.prototype.scrollUiUpdate=function(){var t=this,s=this.element.querySelector(".e-kanban-header"),n=this.element.querySelector("."+e),i=this.element.offsetHeight-s.offsetHeight;if(this.isAdaptive){i=window.innerHeight-(s.offsetHeight+25);var o=this.element.querySelector(".e-swimlane-header");o&&(i-=o.offsetHeight),[].slice.call(this.element.querySelectorAll(".e-content-cells")).forEach((function(e){var s=e.querySelector(".e-card-container");s.classList.contains("e-multi-card-container")||(s.style.height=sf.base.formatUnit(i),sf.base.EventHandler.add(e,"touchmove",t.onAdaptiveScroll,t))}))}"auto"!==this.height&&"100%"!==this.height&&(n.style.height=sf.base.formatUnit(i)),[].slice.call(s.children).forEach((function(e){var s=0;n.offsetWidth-n.clientWidth>0&&(s=17,n.offsetHeight-n.clientHeight>0&&(e.style.width=sf.base.formatUnit(n.clientWidth))),t.enableRtl?e.style.paddingLeft=sf.base.formatUnit(s):e.style.paddingRight=sf.base.formatUnit(s)}))},t.prototype.onContentScroll=function(e){var t=e.target,s=this.element.querySelector(".e-kanban-header");[].slice.call(s.children).forEach((function(e){e.scrollLeft=t.scrollLeft})),this.scrollPosition.content={left:t.scrollLeft,top:t.scrollTop}},t.prototype.onColumnScroll=function(e){var t=e.target;if(t.offsetParent){var s=t.offsetParent.getAttribute("data-key");this.scrollPosition.column[s]={left:t.scrollLeft,top:t.scrollTop}}},t.prototype.onAdaptiveScroll=function(e){this.touchModule.tabHold&&!this.touchModule.mobilePopup&&e.preventDefault()},t.prototype.updateScrollPosition=function(){var t=this,s=this.element.querySelector("."+e);s&&s.scrollTo(this.scrollPosition.content.left,this.scrollPosition.content.top),[].slice.call(this.element.querySelectorAll(".e-card-container")).forEach((function(e){if(e.offsetParent){var s=t.scrollPosition.column[e.offsetParent.getAttribute("data-key")];s&&e.scrollTo(s.left,s.top)}}))},t.prototype.wireEvents=function(){var t=this,s=this.element.querySelector("."+e);sf.base.EventHandler.add(s,"scroll",this.onContentScroll,this),sf.base.EventHandler.add(document,sf.base.Browser.touchStartEvent,this.documentClick,this),[].slice.call(this.element.querySelectorAll(".e-card-container")).forEach((function(e){e.offsetParent&&(t.scrollPosition.column[e.offsetParent.getAttribute("data-key")]={left:0,top:0}),sf.base.EventHandler.add(e,"scroll",t.onColumnScroll,t)})),this.isAdaptive&&this.touchModule.wireTouchEvents(),this.wireDragEvent()},t.prototype.unWireEvents=function(){var t=this,s=this.element.querySelector("."+e);(sf.base.EventHandler.remove(s,"scroll",this.onContentScroll),sf.base.EventHandler.remove(document,sf.base.Browser.touchStartEvent,this.documentClick),[].slice.call(this.element.querySelectorAll(".e-card-container")).forEach((function(e){sf.base.EventHandler.remove(e,"scroll",t.onColumnScroll)})),this.isAdaptive)&&([].slice.call(this.element.querySelectorAll(".e-content-cells")).forEach((function(e){sf.base.EventHandler.remove(e,"touchmove",t.onAdaptiveScroll)})),this.touchModule.unWireTouchEvents())},t.prototype.onCardClick=function(e,t){if(e.classList.contains("e-selection"))sf.base.removeClass([e],"e-selection"),this.disableAttributeSelection(e);else{var s=t.ctrlKey;this.isAdaptive&&this.touchModule&&(s=this.touchModule.mobilePopup&&this.touchModule.tabHold||s),this.cardSelection(e,s,t.shiftKey)}this.isAdaptive&&this.touchModule&&this.touchModule.updatePopupContent();var n=sf.base.closest(e,".e-content-cells");this.allowKeyboard&&([].slice.call(n.querySelectorAll(".e-card")).forEach((function(e){e.setAttribute("tabindex","0")})),this.keyboardModule.addRemoveTabIndex("Remove"))},t.prototype.onMenuClick=function(){this.element.querySelector(".e-swimlane-resource").classList.contains("e-popup-open")?(this.treePopup.hide(),sf.base.removeClass([this.popupOverlay],"e-enable")):(this.treePopup.show(),sf.base.addClass([this.popupOverlay],"e-enable"))},t.prototype.onListViewClick=function(){this.treePopup.hide(),sf.base.removeClass([this.popupOverlay],"e-enable")},t.prototype.onPropertyChanged=function(e){for(var t=0,s=e;t<s.length;t++){switch(s[t]){case"width":this.setWidth();break;case"height":this.setHeight();break;case"enableRtl":this.enableRtl?sf.base.addClass([this.element],"e-rtl"):sf.base.removeClass([this.element],"e-rtl")}}},t.prototype.onSwimlaneProperties=function(e,t){this.swimlaneSettings.allowDragAndDrop=e,this.swimlaneSettings.keyField=t},t.prototype.setWidth=function(){"100%"===this.width?this.element.style.width="":sf.base.setStyleAttribute(this.element,{width:sf.base.formatUnit(this.width)})},t.prototype.setHeight=function(){sf.base.setStyleAttribute(this.element,{height:sf.base.formatUnit(this.height)})},t.prototype.destroy=function(){this.touchModule&&this.touchModule.destroy(),this.dragAndDropModule&&this.dragAndDropModule.destroy(),this.keyboardModule&&this.keyboardModule.destroy(),this.unWireEvents()},t}();return{initialize:function(e,t,s){e&&new o(e,t,s)},isDevice:function(e){e.invokeMethodAsync("WindowWidth",70*window.innerWidth/100)},updateScrollPosition:function(e){e&&e.blazor__instance&&e.blazor__instance.updateScrollPosition()},wireDragEvents:function(e){e&&e.blazor__instance&&e.blazor__instance.wireDragEvent()},propertyChanged:function(e,t){sf.base.isNullOrUndefined(e)||e.blazor__instance.onPropertyChanged(t)},swimlaneProperties:function(e,t,s){sf.base.isNullOrUndefined(e)||e.blazor__instance.onSwimlaneProperties(t,s)},cardClick:function(e,t,s){e.blazor__instance.onCardClick(t,s)},menuClick:function(e){e.blazor__instance.onMenuClick()},listViewClick:function(e){e.blazor__instance.onListViewClick()},getTargetDetails:function(e,t,s,n){if(e&&e.blazor__instance){var i=document.elementFromPoint(t,s),o=void 0,l=null;return n?(o=sf.base.closest(i,".e-card"),l=JSON.stringify(o.getAttribute("data-id"))):i.classList.contains("e-tooltip-text")&&(l=JSON.stringify(i.innerHTML)),l}return null},destroy:function(e){e&&e.blazor__instance&&e.blazor__instance.destroy()}}}()}});