!function(e){var t={};function s(i){if(t[i])return t[i].exports;var l=t[i]={i:i,l:!1,exports:{}};return e[i].call(l.exports,l,l.exports,s),l.l=!0,l.exports}s.m=e,s.c=t,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)s.d(i,l,function(t){return e[t]}.bind(null,l));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="_content/Syncfusion.Blazor/scripts/",s(s.s="./bundles/dashboardlayout.js")}({"./bundles/dashboardlayout.js":function(e,t,s){"use strict";s.r(t);s("./modules/dashboardlayout.js")},"./modules/dashboardlayout.js":function(e,t){function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window.sf=window.sf||{};sf.layouts=sf.base.extend({},sf.layouts,function(e){"use strict";var t,i=(t=function(e,s){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(e,s)},function(e,s){function i(){this.constructor=e}t(e,s),e.prototype=null===s?Object.create(s):(i.prototype=s.prototype,new i)}),l=function(e,t,i,l){var n,a=arguments.length,o=a<3?t:null===l?l=Object.getOwnPropertyDescriptor(t,i):l;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,l);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(o=(a<3?n(o):a>3?n(t,i,o):n(t,i))||o);return a>3&&o&&Object.defineProperty(t,i,o),o},n="e-drag",a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),l([sf.base.Property("")],t.prototype,"id",void 0),l([sf.base.Property("")],t.prototype,"cssClass",void 0),l([sf.base.Property("")],t.prototype,"header",void 0),l([sf.base.Property("")],t.prototype,"content",void 0),l([sf.base.Property(!0)],t.prototype,"enabled",void 0),l([sf.base.Property(0)],t.prototype,"row",void 0),l([sf.base.Property(0)],t.prototype,"col",void 0),l([sf.base.Property(1)],t.prototype,"sizeX",void 0),l([sf.base.Property(1)],t.prototype,"sizeY",void 0),l([sf.base.Property(1)],t.prototype,"minSizeY",void 0),l([sf.base.Property(1)],t.prototype,"minSizeX",void 0),l([sf.base.Property(null)],t.prototype,"maxSizeY",void 0),l([sf.base.Property(null)],t.prototype,"maxSizeX",void 0),l([sf.base.Property(1e3)],t.prototype,"zIndex",void 0),t}(sf.base.ChildProperty),o=function(e){function t(t,s){var i=e.call(this,t,s)||this;return i.rows=1,i.panelID=0,i.movePanelCalled=!1,i.resizeCalled=!1,i.mOffX=0,i.mOffY=0,i.maxTop=9999,i.maxRows=100,i.mouseX=0,i.mouseY=0,i.minTop=0,i.minLeft=0,i.isBlazor=!1,i.isInlineRendering=!1,i.removeAllCalled=!1,i.isPanelRemoved=!1,i.panelsSizeY=0,i.resizeHeight=!1,sf.base.setValue("mergePersistData",i.mergePersistPanelData,i),i}return i(t,e),t.prototype.preRender=function(){this.isBlazor=sf.base.isBlazor()&&this.isServerRendered,this.panelCollection=[],this.sortedArray=[],this.gridPanelCollection=[],this.overlapElement=[],this.overlapElementClone=[],this.overlapSubElementClone=[],this.collisionChecker={},this.dragCollection=[],this.elementRef={top:"",left:"",height:"",width:""},this.dimensions=[],this.allItems=[],this.oldRowCol={},this.availableClasses=[],this.setOldRowCol(),this.calculateCellSize(),this.contentTemplateChild=[].slice.call(this.element.children)},t.prototype.setOldRowCol=function(){for(var e=0;e<this.panels.length;e++)this.panels[e].id||(this.panelPropertyChange(this.panels[e],{id:"layout_"+this.panelID.toString()}),this.panelID=this.panelID+1),this.oldRowCol[this.panels[e].id]={row:this.panels[e].row,col:this.panels[e].col}},t.prototype.createPanelElement=function(e,t){var s=this.createElement("div");return e&&e.length>0&&sf.base.addClass([s],e),t&&s.setAttribute("id",t),s},t.prototype.render=function(){this.initialize(),this.isRenderComplete=!0,this.showGridLines&&!this.checkMediaQuery()&&this.initGridLines(),this.updateDragArea(),this.renderComplete(),this.updateServerPanelData(),this.renderReactTemplates()},t.prototype.updateServerPanelData=function(){sf.base.isBlazor()&&this.isServerRendered&&(this.setProperties({panels:this.panels},!0),this.allowServerDataBinding=!0,this.serverDataBind())},t.prototype.initGridLines=function(){this.table=document.createElement("table");var e=document.createElement("tbody");this.table.classList.add("e-dashboard-gridline-table");for(var t=0;t<this.maxRow();t++){for(var s=document.createElement("tr"),i=0;i<this.columns;i++){var l=document.createElement("td");l.classList.add("e-dashboard-gridline"),this.setAttributes({value:{row:t.toString(),col:i.toString(),sizeX:"1",sizeY:"1"}},l),l.setAttribute("id",""+i),this.setPanelPosition(l,t,i),this.setHeightAndWidth(l,{row:t,col:i,sizeX:1,sizeY:1}),s.appendChild(l)}e.appendChild(s)}this.table.appendChild(e),this.element.appendChild(this.table),this.renderReactTemplates()},t.prototype.initialize=function(){if(this.updateRowHeight(),this.element.childElementCount>0&&this.element.querySelectorAll(".e-panel").length>0&&!(this.isBlazor&&this.panels.length>0)){var e=[];this.setProperties({panels:[]},!0),this.isInlineRendering=!0;for(var t=0;t<this.element.querySelectorAll(".e-panel").length;t++)e.push(this.element.querySelectorAll(".e-panel")[t]);for(t=0;t<e.length;t++){var s=e[t];this.enableRtl&&sf.base.addClass([s],"e-rtl"),this.getInlinePanels(s),this.maxCol(),this.maxRow()}for(t=0;t<this.panels.length;t++){s=this.element.querySelector("#"+this.panels[t].id);if(this.setMinMaxValues(this.panels[t]),this.maxColumnValue<this.panels[t].col||this.maxColumnValue<this.panels[t].col+this.panels[t].sizeX){var i=this.maxColumnValue-this.panels[t].sizeX;this.panelPropertyChange(this.panels[t],{col:i<0?0:i})}this.setXYAttributes(s,this.panels[t]),this.isBlazor=!1;var l=this.renderPanels(s,this.panels[t],this.panels[t].id,!1);this.isBlazor=sf.base.isBlazor()&&this.isServerRendered,this.panelCollection.push(l),this.setHeightAndWidth(s,this.panels[t]),this.tempObject=this,this.mediaQuery&&!window.matchMedia("("+this.mediaQuery+")").matches&&(this.setPanelPosition(s,this.panels[t].row,this.panels[t].col),this.mainElement=s,this.updatePanelLayout(s,this.panels[t]),this.mainElement=null),this.setClasses([s])}this.updateOldRowColumn(),this.checkMediaQuery()&&this.checkMediaQuerySizing()}else this.renderDashBoardCells(this.panels);!this.allowDragging||this.mediaQuery&&window.matchMedia("("+this.mediaQuery+")").matches||this.enableDraggingContent(this.panelCollection),this.sortedPanel(),this.bindEvents(),this.updatePanels(),this.updateCloneArrayObject(),this.checkColumnValue=this.maxColumnValue,this.checkMediaQuery()||this.panelResponsiveUpdate(),this.isBlazor||this.setEnableRtl()},t.prototype.checkMediaQuery=function(){return this.mediaQuery&&window.matchMedia("("+this.mediaQuery+")").matches},t.prototype.calculateCellSize=function(){this.cellSize=[],this.checkMediaQuery()?this.cellSize[1]=this.element.parentElement&&this.element.parentElement.offsetWidth/this.cellAspectRatio:(this.cellSize[0]=this.element.parentElement&&this.element.parentElement.offsetWidth,this.cellSize[0]=this.element.parentElement&&(this.element.parentElement.offsetWidth-(this.maxCol()-1)*this.cellSpacing[0])/this.maxCol(),this.cellSize[1]=this.cellSize[0]/this.cellAspectRatio)},t.prototype.maxRow=function(e){var t=1;if(this.rows>1&&sf.base.isNullOrUndefined(e))return t=this.rows;for(var s=0;s<this.panels.length;s++)this.panels[s].sizeY+this.panels[s].row>t&&(t=this.panels[s].sizeY+this.panels[s].row);return 0===this.panels.length&&(t=this.columns),t},t.prototype.maxCol=function(){var e;return e=this.columns,this.maxColumnValue=e,e},t.prototype.updateOldRowColumn=function(){for(var e=0;e<this.panels.length;e++){var t=this.panels[e].id;if(document.getElementById(t)){var s=parseInt(document.getElementById(t).getAttribute("data-row"),10),i=parseInt(document.getElementById(t).getAttribute("data-col"),10);this.oldRowCol[this.panels[e].id]={row:s,col:i}}}},t.prototype.createSubElement=function(e,t,s){var i=this.createElement("div");return s&&sf.base.addClass([i],[s]),e&&e.length>0&&sf.base.addClass([i],e),t&&i.setAttribute("id",t),i},t.prototype.templateParser=function(e){if(e)try{if(document.querySelectorAll(e).length)return sf.base.compile(document.querySelector(e).innerHTML.trim())}catch(s){var t=sf.base.SanitizeHtmlHelper.sanitize(e);return sf.base.compile(this.enableHtmlSanitizer&&"string"==typeof e?t:e)}},t.prototype.renderTemplate=function(e,t,s,i,l){var n=this.templateParser(e),a=[];if("."!==e[0]&&"#"!==e[0]||"SCRIPT"===document.querySelector(e).tagName){var o=n({},this,l,s,i,null,t);if(o){for(var r=0,h=o;r<h.length;r++){var d=h[r];a.push(d)}sf.base.append([].slice.call(a),t)}}else{var p=document.querySelector(e);if(!sf.base.isNullOrUndefined(p))return"none"===p.style.display&&p.style.removeProperty("display"),""===p.getAttribute("style")&&p.removeAttribute("style"),void t.appendChild(p);e=e.trim()}},t.prototype.renderPanels=function(e,t,s,i){this.isBlazor||sf.base.addClass([e],["e-panel","e-panel-transition"]);var l=t.cssClass?t.cssClass.split(" "):null;if(this.panelContent=e.querySelector(".e-panel-container")?e.querySelector(".e-panel-container"):this.createSubElement(l,e.id+"_content","e-panel-container"),this.isBlazor||(e.appendChild(this.panelContent),t.enabled||this.disablePanel(e)),t.header){var n=e.querySelector(".e-panel-header")?e.querySelector(".e-panel-header"):this.createSubElement([],e.id+"template","");if(this.isBlazor||sf.base.addClass([n],["e-panel-header"]),!e.querySelector(".e-panel-header")&&!this.isBlazor){var a=this.element.id+"HeaderTemplate"+s;this.renderTemplate(t.header,n,a,i,"header"),this.panelContent.appendChild(n),this.renderReactTemplates(),sf.base.updateBlazorTemplate(a,"HeaderTemplate",t)}}if(t.content){var o=t.cssClass?t.cssClass.split(" "):null;this.panelBody=e.querySelector(".e-panel-content")?e.querySelector(".e-panel-content"):this.createSubElement(o,e.id+"_body","e-panel-content");var r="calc( 100% - "+(this.panelContent.querySelector(".e-panel-header")?window.getComputedStyle(this.panelContent.querySelector(".e-panel-header")).height:"0px")+")";if(sf.base.setStyleAttribute(this.panelBody,{height:r}),!e.querySelector(".e-panel-content")&&!this.isBlazor){a=this.element.id+"ContentTemplate"+s;this.renderTemplate(t.content,this.panelBody,a,i,"content"),this.panelContent.appendChild(this.panelBody),this.renderReactTemplates(),sf.base.updateBlazorTemplate(a,"ContentTemplate",t)}}return e},t.prototype.disablePanel=function(e){sf.base.addClass([e],["e-disabled"])},t.prototype.getInlinePanels=function(e){var t={sizeX:e.hasAttribute("data-sizex")?parseInt(e.getAttribute("data-sizex"),10):1,sizeY:e.hasAttribute("data-sizey")?parseInt(e.getAttribute("data-sizey"),10):1,minSizeX:e.hasAttribute("data-minsizex")?parseInt(e.getAttribute("data-minsizex"),10):1,minSizeY:e.hasAttribute("data-minsizey")?parseInt(e.getAttribute("data-minsizey"),10):1,maxSizeX:e.hasAttribute("data-maxsizex")?parseInt(e.getAttribute("data-maxsizex"),10):null,maxSizeY:e.hasAttribute("data-maxsizey")?parseInt(e.getAttribute("data-maxsizey"),10):null,row:e.hasAttribute("data-row")?parseInt(e.getAttribute("data-row"),10):0,col:e.hasAttribute("data-col")?parseInt(e.getAttribute("data-col"),10):0,id:e.getAttribute("id"),zIndex:e.hasAttribute("data-zindex")?parseInt(e.getAttribute("data-zIndex"),10):1e3,header:e.querySelector(".e-panel-header")&&".e-panel-header",content:e.querySelector(".e-panel-content")&&".e-panel-content"};t.id||(t.id="layout_"+this.panelID.toString(),e.setAttribute("id",t.id),this.panelID=this.panelID+1),sf.base.isUndefined(t.enabled)&&(t.enabled=!0),e.style.zIndex=""+t.zIndex;var s=new a(this,"panels",t,!0);this.panels.push(s)},t.prototype.resizeEvents=function(){if(this.allowResizing)for(var e=this.element.querySelectorAll(".e-panel .e-panel-container .e-resize"),t=0;t<e.length;t++){var s="msie"===sf.base.Browser.info.name?"mousedown pointerdown":"mousedown";sf.base.EventHandler.add(e[t],s,this.downResizeHandler,this),"msie"!==sf.base.Browser.info.name&&sf.base.EventHandler.add(e[t],"touchstart",this.touchDownResizeHandler,this)}},t.prototype.bindEvents=function(){window.addEventListener("resize",this.refresh.bind(this)),this.resizeEvents()},t.prototype.downResizeHandler=function(e){this.downHandler(e),this.lastMouseX=e.pageX,this.lastMouseY=e.pageY;var t="msie"===sf.base.Browser.info.name?"mousemove pointermove":"mousemove",s="msie"===sf.base.Browser.info.name?"mouseup pointerup":"mouseup";this.isMouseMoveBound||(sf.base.EventHandler.add(document,t,this.moveResizeHandler,this),this.isMouseMoveBound=!0),this.isMouseUpBound||(sf.base.EventHandler.add(document,s,this.upResizeHandler,this),this.isMouseUpBound=!0)},t.prototype.downHandler=function(e){this.resizeCalled=!1,this.panelsInitialModel=this.cloneModels(this.panels);var t=sf.base.closest(e.currentTarget,".e-panel"),s={event:e,element:t,isInteracted:!0};this.trigger("resizeStart",s),this.downTarget=e.currentTarget,this.shadowEle=document.createElement("div"),this.shadowEle.classList.add("e-holder"),sf.base.addClass([this.element],["e-prevent"]),this.element.appendChild(this.shadowEle),this.renderReactTemplates(),this.elementX=parseFloat(t.style.left),this.elementY=parseFloat(t.style.top),this.elementWidth=t.offsetWidth,this.elementHeight=t.offsetHeight,this.originalWidth=this.getCellInstance(t.id).sizeX,this.originalHeight=this.getCellInstance(t.id).sizeY,this.previousRow=this.getCellInstance(t.id).row},t.prototype.touchDownResizeHandler=function(e){this.downHandler(e),this.lastMouseX=e.changedTouches[0].pageX,this.lastMouseY=e.changedTouches[0].pageY,this.isMouseMoveBound||(sf.base.EventHandler.add(document,"touchmove",this.touchMoveResizeHandler,this),this.isMouseMoveBound=!0),this.isMouseUpBound||(sf.base.EventHandler.add(document,"touchend",this.upResizeHandler,this),this.isMouseUpBound=!0)},t.prototype.getCellSize=function(){return[this.cellSize[0],this.cellSize[1]]},t.prototype.updateMaxTopLeft=function(e){this.moveTarget=this.downTarget;var t={event:e,element:sf.base.closest(this.moveTarget,".e-panel"),isInteracted:!0};this.trigger("resize",t)},t.prototype.updateResizeElement=function(e){this.maxLeft=this.element.offsetWidth-1,this.maxTop=this.cellSize[1]*this.maxRows-1,sf.base.removeClass([e],"e-panel-transition"),sf.base.addClass([e],["e-dragging"]);for(var t=["e-east","e-west","e-north","e-south","e-south-east","e-north-east","e-north-west","e-south-west"],s=0;s<this.moveTarget.classList.length;s++)-1!==t.indexOf(this.moveTarget.classList[s])&&(this.handleClass=this.moveTarget.classList[s])},t.prototype.moveResizeHandler=function(e){this.updateMaxTopLeft(e);var t=sf.base.closest(this.moveTarget,".e-panel");if(this.lastMouseX!==e.pageX&&this.lastMouseY!==e.pageY){this.updateResizeElement(t);var s=this.getCellInstance(t.getAttribute("id"));this.mouseX=e.pageX,this.mouseY=e.pageY;var i=this.mouseY-this.lastMouseY+this.mOffY,l=this.mouseX-this.lastMouseX+this.mOffX;this.mOffX=this.mOffY=0,this.lastMouseY=this.mouseY,this.lastMouseX=this.mouseX,this.resizingPanel(t,s,l,i)}},t.prototype.touchMoveResizeHandler=function(e){this.updateMaxTopLeft(e);var t=sf.base.closest(this.moveTarget,".e-panel");if(this.lastMouseX!==e.changedTouches[0].pageX&&this.lastMouseY!==e.changedTouches[0].pageY){this.updateResizeElement(t);var s=this.getCellInstance(t.getAttribute("id"));this.mouseX=e.changedTouches[0].pageX,this.mouseY=e.changedTouches[0].pageY;var i=this.mouseX-this.lastMouseX+this.mOffX,l=this.mouseY-this.lastMouseY+this.mOffY;this.mOffX=this.mOffY=0,this.lastMouseX=this.mouseX,this.lastMouseY=this.mouseY,this.resizingPanel(t,s,i,l)}},t.prototype.resizingPanel=function(e,t,s,i){var l=this.getCellInstance(e.id).sizeX,n=this.getCellInstance(e.id).sizeY,a=i,o=s;this.handleClass.indexOf("north")>=0&&(this.elementHeight-a<this.getMinHeight(t)?(i=this.elementHeight-this.getMinHeight(t),this.mOffY=a-i):t.maxSizeY&&this.elementHeight-a>this.getMaxHeight(t)?(i=this.elementHeight-this.getMaxHeight(t),this.mOffY=a-i):this.elementY+a<this.minTop&&(i=this.minTop-this.elementY,this.mOffY=a-i),this.elementY+=i,this.elementHeight-=i),this.handleClass.indexOf("south")>=0&&(this.elementHeight+a<this.getMinHeight(t)?(i=this.getMinHeight(t)-this.elementHeight,this.mOffY=a-i):t.maxSizeY&&this.elementHeight+a>this.getMaxHeight(t)&&(i=this.getMaxHeight(t)-this.elementHeight,this.mOffY=a-i),this.elementHeight+=i),this.handleClass.indexOf("west")>=0&&(this.elementWidth-o<this.getMinWidth(t)?(s=this.elementWidth-this.getMinWidth(t),this.mOffX=o-s):t.maxSizeX&&this.elementWidth-o>this.getMaxWidth(t)?(s=this.elementWidth-this.getMaxWidth(t),this.mOffX=o-s):this.elementX+o<this.minLeft&&(s=this.minLeft-this.elementX,this.mOffX=o-s),this.elementX+=s,this.elementWidth-=s),this.handleClass.indexOf("east")>=0&&(this.elementWidth+o<this.getMinWidth(t)?(s=this.getMinWidth(t)-this.elementWidth,this.mOffX=o-s):t.maxSizeX&&this.elementWidth+o>this.getMaxWidth(t)?(s=this.getMaxWidth(t)-this.elementWidth,this.mOffX=o-s):this.elementX+this.elementWidth+o>this.maxLeft&&(s=this.maxLeft-this.elementX-this.elementWidth,this.mOffX=o-s),this.elementWidth+=s),e.style.top=this.elementY+"px",e.style.left=this.elementX+"px",e.style.width=this.elementWidth+"px",e.style.height=this.elementHeight+"px";var r=this.getResizeRowColumn(t,this.moveTarget);if(r.col+r.sizeX>this.columns&&this.panelPropertyChange(r,{sizeX:r.sizeX-1}),this.shadowEle.style.top=r.row*this.getCellSize()[1]+r.row*this.cellSpacing[1]+"px",this.shadowEle.style.left=r.col*this.getCellSize()[0]+r.col*this.cellSpacing[0]+"px",this.shadowEle.style.height=r.sizeY*(this.getCellSize()[1]+this.cellSpacing[1])+"px",this.shadowEle.style.width=r.sizeX*(this.getCellSize()[0]+this.cellSpacing[0])+"px",l!==r.sizeX||n!==r.sizeY){l=r.sizeX,n=r.sizeY;var h=this.getCellInstance(e.id),d={attributes:{row:h.row.toString(),col:h.col.toString(),sizeX:h.sizeX.toString(),sizeY:h.sizeY.toString()}};this.setAttributes(d,e),this.mainElement=e,this.updatePanelLayout(e,this.getCellInstance(e.id)),this.updateOldRowColumn(),this.sortedPanel()}},t.prototype.upResizeHandler=function(e){if(!sf.base.isNullOrUndefined(this.downTarget)){this.updateServerPanelData(),this.upTarget=this.downTarget;var t=sf.base.closest(this.upTarget,".e-panel"),s={event:e,element:t,isInteracted:!0};if(t){sf.base.addClass([t],"e-panel-transition");var i="msie"===sf.base.Browser.info.name?"mousemove pointermove":"mousemove",l="msie"===sf.base.Browser.info.name?"mouseup pointerup":"mouseup";sf.base.EventHandler.remove(document,i,this.moveResizeHandler),sf.base.EventHandler.remove(document,l,this.upResizeHandler),"msie"!==sf.base.Browser.info.name&&(sf.base.EventHandler.remove(document,"touchmove",this.touchMoveResizeHandler),sf.base.EventHandler.remove(document,"touchend",this.upResizeHandler)),this.isMouseUpBound=!1,this.isMouseMoveBound=!1,this.shadowEle&&sf.base.detach(this.shadowEle),this.shadowEle=null;var n=this.getCellInstance(t.getAttribute("id"));this.setPanelPosition(t,n.row,n.col),this.setHeightAndWidth(t,n)}sf.base.removeClass([t],["e-dragging"]),this.trigger("resizeStop",s),this.resizeCalled=!1,this.lastMouseX=this.lastMouseY=void 0,this.mOffX=this.mOffY=0,this.mainElement=null,this.allowFloating&&this.moveItemsUpwards(),this.updatePanels(),this.updateCloneArrayObject(),this.checkForChanges(!0)}},t.prototype.getResizeRowColumn=function(e,t){var s=!1,i=e.col;-1!==["e-west","e-south-west"].indexOf(this.handleClass)&&(i=this.pixelsToColumns(this.elementX,!1));var l=e.row;-1!==["e-north"].indexOf(this.handleClass)&&(l=this.pixelsToRows(this.elementY,!1),this.previousRow!==l&&(this.previousRow=l,s=!0));var n=e.sizeX;-1===["e-north","e-south"].indexOf(this.handleClass)&&(n=this.pixelsToColumns(this.elementWidth-n*this.cellSpacing[1],!0));var a=e.sizeY;return-1===["e-east","e-west"].indexOf(this.handleClass)&&("e-north"!==this.handleClass||s)&&(a=this.pixelsToRows(this.elementHeight-a*this.cellSpacing[0],!0)),e.col+e.sizeX>this.columns&&(e.sizeX=e.sizeX-1),(l>-1&&i>-1&&n+i<=this.maxCol()&&a+l<=this.maxRow()&&0===this.collisions(l,i,n,a,this.getPanelBase(e.id)).length||!1!==this.allowPushing)&&this.panelPropertyChange(e,{row:l,col:i,sizeX:n,sizeY:a}),e},t.prototype.pixelsToColumns=function(e,t){var s=this.cellSize[0];return t?Math.ceil(e/s):Math.floor(e/s)},t.prototype.pixelsToRows=function(e,t){return t?Math.round(e/this.cellSize[1]):Math.round(e/(this.cellSize[1]+this.cellSpacing[0]))},t.prototype.getMinWidth=function(e){return e.minSizeX*this.getCellSize()[0]},t.prototype.getMaxWidth=function(e){return e.maxSizeX*this.getCellSize()[0]},t.prototype.getMinHeight=function(e){return e.minSizeY*this.getCellSize()[1]},t.prototype.getMaxHeight=function(e){return e.maxSizeY*this.getCellSize()[1]},t.prototype.sortedPanel=function(){this.sortedArray=[];for(var e=0,t=this.panelCollection.length;e<t;++e)this.sortItem(this.panelCollection[e])},t.prototype.moveItemsUpwards=function(){if(!1!==this.allowFloating){for(var e=0,t=this.sortedArray.length;e<t;++e){var s=this.sortedArray[e];if(s)for(var i=0,l=s.length;i<l;++i){var n=s[i];n&&this.moveItemUpwards(n)}}this.updateGridLines()}},t.prototype.moveItemUpwards=function(e){if(!1!==this.allowFloating&&e!==this.mainElement){for(var t=this.getCellInstance(e.id).col,s=parseInt(e.getAttribute("data-sizeY"),10),i=parseInt(e.getAttribute("data-sizeX"),10),l=null,n=null,a=parseInt(e.getAttribute("data-row"),10)-1;a>-1;){if(0!==this.collisions(a,t,i,s,e).length)break;l=a,n=t,--a}null!==l&&this.sortItem(e,l,n)}},t.prototype.sortItem=function(e,t,s,i){this.overlapElement=[];var l=parseInt(e.getAttribute("data-col"),10),n=parseInt(e.getAttribute("data-row"),10);if(this.sortedArray[n]||(this.sortedArray[n]=[]),this.sortedArray[n][l]=e,void 0!==e&&void 0!==t&&void 0!==s){if(void 0!==this.oldRowCol[e.id]&&null!==this.oldRowCol[e.id].row&&void 0!==this.oldRowCol[e.id].col){var a=this.sortedArray[this.oldRowCol[e.id].row];this.oldRowCol[e.id]&&a[this.oldRowCol[e.id].col]===e&&(delete a[this.oldRowCol[e.id].col],this.updateOldRowColumn(),this.sortedPanel())}this.oldRowCol[e.id].row=t,this.oldRowCol[e.id].row=s,this.sortedArray[n]||(this.sortedArray[n]=[]),this.sortedArray[n][l]=e,-1===this.allItems.indexOf(e)&&this.allItems.push(e),this.panelPropertyChange(this.getCellInstance(e.id),{row:t,col:s});var o=this.getCellInstance(e.id);this.setAttributes({value:{col:o.col.toString(),row:o.row.toString()}},e),this.updateLayout(e,this.getCellInstance(e.id))}},t.prototype.updateLayout=function(e,t){this.setPanelPosition(e,t.row,t.col),this.setHeightAndWidth(e,t),this.updateRowHeight(),this.sortedPanel()},t.prototype.refresh=function(){if(this.panelsSizeY=0,this.updateDragArea(),this.checkMediaQuery())this.checkMediaQuerySizing();else{if(this.element.classList.contains("e-responsive")){sf.base.removeClass([this.element],["e-responsive"]);for(var e=0;e<this.element.querySelectorAll(".e-panel").length;e++){var t=this.element.querySelectorAll(".e-panel")[e],s=this.getCellInstance(t.id),i=parseInt(t.getAttribute("data-row"),10),l=parseInt(t.getAttribute("data-col"),10);this.panelPropertyChange(s,{row:i,col:l}),this.setHeightAndWidth(t,this.getCellInstance(t.id)),this.setPanelPosition(t,i,l),this.updateRowHeight()}}this.panelResponsiveUpdate(),this.updateGridLines()}this.removeResizeClasses(this.panelCollection),this.setClasses(this.panelCollection),this.resizeEvents(),this.checkDragging(this.dragCollection)},t.prototype.updateGridLines=function(){this.element.querySelector(".e-dashboard-gridline-table")&&(this.table&&sf.base.detach(this.table),this.initGridLines())},t.prototype.checkDragging=function(e){if(this.checkMediaQuery()||!this.allowDragging)for(var t=0;t<e.length;t++)e[t].destroy();else{for(t=0;t<e.length;t++)e[t].destroy();this.enableDraggingContent(this.panelCollection)}},t.prototype.sortPanels=function(){for(var e=[],t=function(t){for(var i=function(i){s.panels.filter((function(s){s.row===t&&s.col===i&&e.push(s)}))},l=0;l<s.columns;l++)i(l)},s=this,i=0;i<=this.rows;i++)t(i);return e},t.prototype.checkMediaQuerySizing=function(){var e;sf.base.addClass([this.element],["e-responsive"]),e=this.isPanelRemoved&&this.panels?this.panels:this.sortPanels(),this.updatedRows=e.length;for(var t=0;t<e.length;t++){var s=document.getElementById(e[t].id),i=void 0;if(s){if(sf.base.setStyleAttribute(s,{width:"100%"}),s.style.height=" "+(this.element.parentElement&&this.element.parentElement.offsetWidth/this.cellAspectRatio)*e[t].sizeY+"px",e[t].sizeY>1&&(i=(this.element.parentElement&&this.element.parentElement.offsetWidth/this.cellAspectRatio)*e[t].sizeY+parseInt((Math.round(e[t].sizeY/2)*this.cellSpacing[1]).toString(),0),s.style.height=i+"px"),this.resizeHeight=!0,this.addPanelCalled&&this.isBlazor){var l=this.getActualProperties(e[t]);l.row=t,l.col=0,this.panelPropertyChange(e[t],l),this.setPanelPosition(s,t,0)}else this.panelPropertyChange(e[t],{row:t,col:0}),this.setPanelPosition(s,e[t].row,e[t].col),this.panelsSizeY=this.panelsSizeY+e[t].sizeY;this.setClasses(this.panelCollection),this.checkDragging(this.dragCollection),this.removeResizeClasses(this.panelCollection)}}this.updateRowHeight()},t.prototype.panelResponsiveUpdate=function(){this.element.classList.add("e-responsive"),this.calculateCellSize();for(var e=0;e<this.element.querySelectorAll(".e-panel").length;e++){var t=this.element.querySelectorAll(".e-panel")[e],s=this.getCellInstance(t.id);this.setHeightAndWidth(t,s)}for(e=0;e<this.panels.length;e++)this.setPanelPosition(document.getElementById(this.panels[e].id),this.panels[e].row,this.panels[e].col);this.updateRowHeight()},t.prototype.updateRowHeight=function(){this.getRowColumn(),this.setHeightWidth()},t.prototype.setHeightWidth=function(){var e,t;e=this.checkMediaQuery()?this.maxRow()*(this.element.parentElement&&this.element.parentElement.offsetWidth/this.cellAspectRatio)+(this.maxRow()-1)*this.cellSpacing[1]+"px":this.maxRow()*(this.cellSize[0]/this.cellAspectRatio)+(this.maxRow()-1)*this.cellSpacing[1]+"px",sf.base.setStyleAttribute(this.element,{height:e}),t=window.getComputedStyle(this.element).width,sf.base.setStyleAttribute(this.element,{width:t})},t.prototype.setHeightAndWidth=function(e,t){sf.base.setStyleAttribute(e,{height:sf.base.formatUnit(this.setXYDimensions(t)[0])}),sf.base.setStyleAttribute(e,{width:sf.base.formatUnit(this.setXYDimensions(t)[1])})},t.prototype.renderCell=function(e,t,s){var i;this.dimensions=this.setXYDimensions(e),sf.base.isUndefined(e.enabled)&&(e.enabled=!0),this.isBlazor?i=document.getElementById(e.id):(this.contentTemplateChild.length>0&&!sf.base.isNullOrUndefined(s)?(i=this.contentTemplateChild[s],e.cssClass&&sf.base.addClass([i],[e.cssClass]),e.id&&i.setAttribute("id",e.id)):i=this.createPanelElement(e.cssClass?e.cssClass.split(" "):null,e.id),i.style.zIndex=""+e.zIndex,this.element.appendChild(i),this.renderReactTemplates());var l=this.renderPanels(i,e,e.id,t);if(this.panelCollection.push(l),this.isBlazor){var n=i.querySelector(".e-panel-content");if(n){var a="calc( 100% - "+(i.querySelector(".e-panel-header")?window.getComputedStyle(i.querySelector(".e-panel-header")).height:"0px")+")";sf.base.setStyleAttribute(n,{height:a})}}else this.setXYAttributes(i,e);return this.setHeightAndWidth(i,e),i},t.prototype.setPanelPosition=function(e,t,s){if(e){this.checkMediaQuery()&&this.calculateCellSize();var i=this.getCellSize()[1],l=this.getCellSize()[0],n=0===s?0:s*(l+this.cellSpacing[0]),a=0===t?0:t*(i+this.cellSpacing[1]);this.checkMediaQuery()&&(a=0===t?0:this.panelsSizeY*(i+this.cellSpacing[1])),sf.base.setStyleAttribute(e,{left:n+"px",top:a+"px"})}},t.prototype.getRowColumn=function(){if(this.rows=null,this.element.querySelectorAll(".e-panel").length>0&&!this.updatedRows)for(var e=this.element.querySelectorAll(".e-panel"),t=0;t<e.length;t++){var s=e[t],i=parseInt(s.getAttribute("data-row"),10),l=parseInt(s.getAttribute("data-sizeY"),10);this.rows=Math.max(this.rows,i+l)}else{this.updatedRows&&(this.rows=this.updatedRows,this.updatedRows=null);for(t=0;t<this.panels.length;t++)this.rows=Math.max(this.rows,this.panels[t].row)}},t.prototype.setMinMaxValues=function(e){!e.sizeX||e.sizeX<e.minSizeX?this.panelPropertyChange(e,{sizeX:e.minSizeX}):e.maxSizeX&&e.sizeX>e.maxSizeX?this.panelPropertyChange(e,{sizeX:e.maxSizeX}):e.sizeX>this.columns?this.panelPropertyChange(e,{sizeX:this.columns}):this.panelPropertyChange(e,{sizeX:e.sizeX}),!e.sizeY||e.sizeY<e.minSizeY?this.panelPropertyChange(e,{sizeY:e.minSizeY}):e.maxSizeY&&e.sizeY>e.maxSizeY?this.panelPropertyChange(e,{sizeY:e.maxSizeY}):this.panelPropertyChange(e,{sizeY:e.sizeY})},t.prototype.checkMinMaxValues=function(e){e.col+e.sizeX>this.columns&&this.panelPropertyChange(e,{sizeX:e.sizeX+(this.columns-(e.col+e.sizeX))})},t.prototype.panelPropertyChange=function(e,t){this.allowServerDataBinding=!1,e.setProperties(t,!0)},t.prototype.renderDashBoardCells=function(e){if(this.element.querySelectorAll(".e-panel").length>0||this.panels.length>0)for(var t=0;t<e.length;t++){this.gridPanelCollection.push(e[t]),this.isBlazor&&this.panels.length>0||this.setMinMaxValues(e[t]),(this.maxColumnValue<e[t].col||this.maxColumnValue<e[t].col+e[t].sizeX)&&this.panelPropertyChange(e[t],{col:this.maxColumnValue-e[t].sizeX});var s=this.renderCell(e[t],!1,t);this.isBlazor||(this.enableRtl&&sf.base.addClass([s],"e-rtl"),this.element.appendChild(s),this.renderReactTemplates()),this.checkMediaQuery()&&t===e.length-1?this.checkMediaQuerySizing():(this.setPanelPosition(s,e[t].row,e[t].col),this.mainElement=s,this.updatePanelLayout(s,e[t]),this.mainElement=null)}this.setClasses(this.panelCollection)},t.prototype.collisions=function(e,t,s,i,l){var n,a=[];s&&i||(s=i=1),!l||l instanceof Array||(l=[l]);for(var o=0;o<i;++o)for(var r=0;r<s;++r)!(n=this.getPanel(e+o,t+r,l))||l&&-1!==l.indexOf(document.getElementById(n.id))||-1!==a.indexOf(document.getElementById(n.id))||a.push(document.getElementById(n.id));return a},t.prototype.rightWardsSpaceChecking=function(e,t,s){var i=this,l=[],n=[];if(e.forEach((function(e){var s=parseInt(e.getAttribute("data-col"),10),n=parseInt(e.getAttribute("data-sizeX"),10);if(t<i.columns&&s>=t)if(n>1)for(var a=s;a<s+n;a++)l.push(a);else l.push(s)})),l.length>0)for(var a=t+1;a<=this.columns-1;a++)-1===l.indexOf(a)&&a!==t&&-1===n.indexOf(a)&&n.push(a);var o=this.getOccupiedColumns(s,"right");return o.forEach((function(e){e>t&&-1!==n.indexOf(e)&&n.splice(n.indexOf(e),1)})),this.getOccupiedColumns(this.checkingElement,"left").forEach((function(e){e>parseInt(s.getAttribute("data-col"),10)&&-1===o.indexOf(e)&&-1===n.indexOf(e)&&n.push(e)})),n=n.sort((function(e,t){return e-t}))},t.prototype.getOccupiedColumns=function(e,t){for(var s=[],i=parseInt(e.getAttribute("data-sizeX"),10),l=parseInt(e.getAttribute("data-col"),10),n=l;n<l+i&&n<=this.columns;n++)s.push(n);return s},t.prototype.leftWardsSpaceChecking=function(e,t,s){var i=this,l=[],n=[];if(e.forEach((function(e){var s=parseInt(e.getAttribute("data-col"),10),l=parseInt(e.getAttribute("data-sizeX"),10);if(t<=i.columns&&s<=t)if(l>1)for(var a=s;a<s+l;a++)n.push(a);else n.push(s)})),n.length>0)for(var a=0;a<=t;a++)-1===n.indexOf(a)&&a!==t&&-1===l.indexOf(a)&&l.push(a);var o=this.getOccupiedColumns(s,"left");return o.forEach((function(e){e<t&&-1!==l.indexOf(e)&&l.splice(l.indexOf(e),1)})),this.getOccupiedColumns(this.checkingElement,"left").forEach((function(e){e<parseInt(s.getAttribute("data-col"),10)&&-1===o.indexOf(e)&&-1===l.indexOf(e)&&l.push(e)})),l=(l=l.sort((function(e,t){return e-t}))).reverse()},t.prototype.adjustmentAvailable=function(e,t,s,i,l){this.leftAdjustable=void 0,this.rightAdjustable=void 0;var n,a,o=!1,r=[];this.topAdjustable=void 0;var h=parseInt(l.getAttribute("data-sizeX"),10),d=parseInt(l.getAttribute("data-col"),10);if(-1===(r=this.getRowElements(this.collisions(e,0,this.columns,s,[]))).indexOf(l)&&r.push(l),(n=this.leftWardsSpaceChecking(r,t,l)).length>0?(this.leftAdjustable=this.isLeftAdjustable(n,l,e,t,i,s),this.spacedColumnValue!==d-this.getCellInstance(this.checkingElement.id).sizeX&&(this.leftAdjustable=!1),this.leftAdjustable?this.rightAdjustable=!1:(this.leftAdjustable=!1,a=this.rightWardsSpaceChecking(r,t,l),this.rightAdjustable=a.length>0&&this.isRightAdjustable(a,l,e,t,i,s),this.spacedColumnValue!==h+d&&(this.rightAdjustable=!1),this.rightAdjustable||(this.rightAdjustable=!1))):(a=this.rightWardsSpaceChecking(r,t,l),this.rightAdjustable=a.length>0&&this.isRightAdjustable(a,l,e,t,i,s),this.spacedColumnValue!==h+d&&(this.rightAdjustable=!1),this.rightAdjustable&&(this.leftAdjustable=!1)),!this.rightAdjustable&&!this.leftAdjustable&&e>0){var p=this.getCellInstance(l.id).row,c=!1;this.startRow!==p&&(c=!0);for(var u=e;u>=0;u--){var m=this.getCellInstance(l.id).sizeY>1&&c?this.checkingElement:l;u!==p&&u===p-s&&0===this.collisions(u,t,i,s,m).length&&(c=!1,this.topAdjustable=!0,this.spacedRowValue=sf.base.isNullOrUndefined(this.spacedRowValue)?u:this.spacedRowValue,this.spacedColumnValue=t)}}return(this.rightAdjustable||this.leftAdjustable||this.topAdjustable)&&(o=!0,sf.base.isNullOrUndefined(this.spacedRowValue)&&(this.spacedRowValue=e)),o},t.prototype.isXSpacingAvailable=function(e,t){for(var s=!1,i=[],l=0;l<e.length;l++)if(e[l+1]-e[l]==1||e[l+1]-e[l]==-1){if(i.push(e[l]),2===t&&i.push(e[l+1]),l===e.length-2&&(i.push(e[l+1]),i.length>t&&i.splice(-1)),i.length===t)return s=!0,this.spacedColumnValue=i.sort((function(e,t){return e-t}))[0],this.spacedColumnValue<0&&(this.spacedColumnValue=1),s}else i=[];return s},t.prototype.getRowElements=function(e){for(var t=[],s=0;s<e.length;s++)t.push(e[s]);return t},t.prototype.isLeftAdjustable=function(e,t,s,i,l,n){var a;if(1===l&&1===n&&e.length>0)this.spacedColumnValue=e[0],a=!0;else if(l>1&&1===n)a=this.isXSpacingAvailable(e,l);else if(n>1)if(1===l){var o=void 0;if(e.length>=1&&(o=!0),o)for(var r=0;r<e.length;r++){if(0===this.collisions(s,e[r],l,n,this.checkingElement).length)return this.spacedColumnValue=e[r],a=!0;a=!1}}else a=this.replacable(e,l,s,n,t);return a},t.prototype.isRightAdjustable=function(e,t,s,i,l,n){var a;if(1===l&&1===n&&e.length>0)this.spacedColumnValue=e[0],a=!0;else if(l>1&&1===n)a=this.isXSpacingAvailable(e,l);else if(n>1)if(1===l){var o=void 0;if(e.length>=1&&(o=!0),o)for(var r=0;r<e.length;r++){for(var h=this.collisions(s,e[r],l,n,this.checkingElement),d=0;d<h.length;d++)parseInt(t.getAttribute("data-col"),10)!==e[r]&&h.splice(h.indexOf(h[d]),1);if(0===h.length)return a=!0,this.spacedColumnValue=e[r],a;a=!1}}else a=this.replacable(e,l,s,n,t);return a},t.prototype.replacable=function(e,t,s,i,l){for(var n,a=[],o=0;o<e.length;o++){if(this.isXSpacingAvailable(e,t)){var r=[];if(r.push(this.checkingElement),r.push(l),0===a.length)return n=!0,this.spacedColumnValue=this.spacedColumnValue,n;n=!1}}return n},t.prototype.sortCollisionItems=function(e){for(var t,s=[],i=function(i){t=[],e.forEach((function(e){e&&e.getAttribute("data-row")===i.toString()&&t.push(e)}));for(var n=function(e){t.forEach((function(t){t&&t.getAttribute("data-col")===e.toString()&&s.push(t)}))},a=l.columns-1;a>=0;a--)n(a)},l=this,n=this.rows-1;n>=0;n--)i(n);return s},t.prototype.updatedModels=function(e,t,s){var i=this,l=[];return this.mainElement||this.sortedPanel(),e.forEach((function(n){i.checkingElement=n;var a=i.getCellInstance(n.id),o=!i.adjustmentAvailable(a.row,a.col,a.sizeY,a.sizeX,s);if(a.sizeX>1&&o)for(var r=a.row;r<t.row+t.sizeY;r++){i.collisions(r,a.col,a.sizeX,a.sizeY,n).forEach((function(t){e.indexOf(t)>=0&&-1===l.indexOf(t)&&l.push(t)}))}})),l.forEach((function(t){l.indexOf(t)>=0&&e.splice(e.indexOf(t),1)})),e},t.prototype.resetLayout=function(e,t){var s=this.collisions(e.row,e.col,e.sizeX,e.sizeY,this.mainElement);if(!this.mainElement||this.addPanelCalled||this.resizeCalled||this.movePanelCalled)return s;if(this.mainElement&&this.oldRowCol!==this.cloneObject)for(var i=0;i<this.panels.length;i++){var l=document.getElementById(this.panels[i].id);if(l!==this.mainElement){var n=this.cloneObject[l.id].row,a=this.cloneObject[l.id].col;this.setPanelPosition(l,n,a),this.panelPropertyChange(this.getCellInstance(l.id),{row:n,col:a}),this.setAttributes({value:{col:a.toString(),row:n.toString()}},l),this.updateOldRowColumn()}}return this.sortedArray=this.cloneArray,s=this.collisions(e.row,e.col,e.sizeX,e.sizeY,this.mainElement),this.sortedPanel(),this.updateOldRowColumn(),this.checkCollision&&this.checkCollision.length>0&&-1===s.indexOf(this.checkCollision[0])&&this.cloneObject[this.checkCollision[0].id].row===e.row&&s.push(this.checkCollision[0]),s},t.prototype.swapAvailability=function(e,t){for(var s=!0,i=this.getCellInstance(t.id),l=0;l<e.length;l++)for(var n=this.getCellInstance(e[l].id),a=1;a<i.sizeY;a++){var o=[];o.push(t),o.push(e[l]);if(this.collisions(i.row+a,n.col,n.sizeX,n.sizeY,o).length>0)return s=!1,!1}return s},t.prototype.checkForSwapping=function(e,t,s){if(!this.mainElement||0===e.length)return!1;var i,l=parseInt(e[0].getAttribute("data-row"),10);if(this.startRow<l?i=1:this.startRow>l&&(i=0),!this.swapAvailability(e,t))return!1;for(var n=!1,a=0;a<e.length;a++)if(e.length>=1&&this.cloneObject[this.mainElement.id].row===this.oldRowCol[this.mainElement.id].row)return!1;for(var o=0===i?this.getCellInstance(this.mainElement.id).row+this.getCellInstance(this.mainElement.id).sizeY:this.startRow,r=0;r<e.length;r++){var h=this.getCellInstance(e[r].id),d=this.getCellInstance(t.id),p=[];if(1===h.sizeY&&-1===p.indexOf(e[r]))p.push(e[r]);else if(h.sizeY>1&&-1===p.indexOf(e[r]))if(1===i&&d.row===this.cloneObject[h.id].row+h.sizeY-1)p.push(e[r]);else{if(0!==i||d.row!==this.cloneObject[h.id].row)return!1;p.push(e[r])}h.sizeY<=d.sizeY&&-1===p.indexOf(e[r])&&p.push(e[r]);if(p.push(this.mainElement),this.collisions(o,h.col,h.sizeX,h.sizeY,p).length>0)return n=!1;r===e.length-1&&(n=!0)}return n},t.prototype.swapItems=function(e,t,s){var i,l=this,n=[];n.push(t);var a=parseInt(e[0].getAttribute("data-row"),10);this.startRow<a?i=1:this.startRow>a&&(i=0);var o=0===i?a+s.sizeY:this.startRow;if(!this.movePanelCalled){var r=this.getCellInstance(e[0].id);this.panelPropertyChange(s,{row:0===i?a:o+r.sizeY})}for(var h=0;h<e.length;h++)n.push(e[h]),this.setPanelPosition(e[h],o,this.getCellInstance(e[h].id).col),this.panelPropertyChange(this.getCellInstance(e[h].id),{row:o}),e[h].setAttribute("data-row",o.toString());t.setAttribute("data-row",s.row.toString()),this.setPanelPosition(this.shadowEle,s.row,s.col);for(var d=0;d<this.panels.length;d++)this.oldRowCol[this.panels[d].id]={row:this.panels[d].row,col:this.panels[d].col};this.startRow=s.row,this.updateOldRowColumn(),n.forEach((function(e){l.cloneObject[e.id]=l.oldRowCol[e.id];for(var t=l.getCellInstance(e.id),s=0;s<l.sortedArray.length;s++)if(l.sortedArray[s])for(var i=0;i<l.sortedArray[s].length;i++)l.sortedArray[s][i]===e&&(l.sortedArray[s][i]=void 0);l.sortedArray[t.row]||(l.sortedArray[t.row]=[]),l.sortedArray[t.row][t.col]=e,l.cloneArray=l.sortedArray}))},t.prototype.updatePanelLayout=function(e,t){this.collisionChecker={};var s=[],i=[];if((s=this.mainElement&&this.isRenderComplete?this.resetLayout(t,e):this.collisions(t.row,t.col,t.sizeX,t.sizeY,e)).length>0)if(s=this.sortCollisionItems(s),s=this.updatedModels(s,t,e),!sf.base.isNullOrUndefined(this.startRow)&&this.checkForSwapping(s,e,t))this.swapItems(s,e,t);else for(var l=0;l<s.length;l++){var n=this.getCellInstance(s[l].id);if(this.checkingElement=s[l],this.spacedRowValue=null,this.spacedColumnValue=null,this.adjustmentAvailable(n.row,n.col,n.sizeY,n.sizeX,e)&&!sf.base.isNullOrUndefined(this.spacedColumnValue)){this.setPanelPosition(s[l],this.spacedRowValue,this.spacedColumnValue),this.oldRowCol[s[l].id]={row:this.spacedRowValue,col:this.spacedColumnValue};var a={attributes:{row:this.spacedRowValue.toString(),col:this.spacedColumnValue.toString()}};if(this.setAttributes(a,s[l]),this.panelPropertyChange(n,{col:this.spacedColumnValue,row:this.spacedRowValue}),this.topAdjustable&&this.allowFloating&&(this.updatePanels(),this.updateCloneArrayObject()),this.spacedRowValue=null,l<s.length)continue}else i.push(s[l])}if(i.length>0){var o=this;i.forEach((function(e){-1===o.overlapElement.indexOf(e)&&o.overlapElement.push(e)})),this.overlapElement&&-1!==this.overlapElement.indexOf(e)&&this.overlapElement.splice(this.overlapElement.indexOf(e),1),i.length>0&&(this.updateRowColumn(t.row,this.overlapElement,e),this.checkForCompletePushing())}this.isSubValue||this.sortedPanel(),this.updateRowHeight(),this.updateGridLines()},t.prototype.checkForCompletePushing=function(){for(var e=0;e<this.panels.length;e++)if(this.collisionChecker[this.panels[e].id]&&null!==this.collisionChecker[this.panels[e].id]){this.overlapElement=[this.collisionChecker[this.panels[e].id].ele];var t=this.panels[e].id;this.updateRowColumn(this.collisionChecker[t].row,this.overlapElement,this.collisionChecker[t].srcEle)}},t.prototype.updateCollisionChecked=function(e){for(var t=0;t<Object.keys(this.collisionChecker).length;t++)this.collisionChecker[e.id]=null},t.prototype.updateRowColumn=function(e,t,s){if(s){var i=parseInt(s.getAttribute("data-sizeY"),10),l=parseInt(s.getAttribute("data-row"),10);this.overlapElementClone=(this.overlapElement&&this.shouldRestrict,this.overlapElement);for(var n=0;n<this.overlapElementClone.length;n++){if(0===this.overlapElementClone.length)return;for(var a=0;a<this.overlapElementClone.length;a++)this.collisionChecker[this.overlapElementClone[a].id]={ele:this.overlapElementClone[a],row:e,srcEle:s};var o=l+i,r=parseInt(this.overlapElementClone[n].getAttribute("data-sizeY"),10),h=parseInt(this.overlapElementClone[n].getAttribute("data-col"),10),d=parseInt(this.overlapElementClone[n].getAttribute("data-sizeX"),10),p=void 0,c=void 0;if(-1===this.overlapSubElementClone.indexOf(s)&&this.overlapSubElementClone.push(s),-1===this.overlapSubElementClone.indexOf(this.overlapElementClone[n])&&this.overlapSubElementClone.push(this.overlapElementClone[n]),r>1||d>1){var u=this.getCellInstance(this.overlapElementClone[n].id);p=u.col;for(var m=document.getElementById(u.id),g=u.row;g<l+i;g++){this.isSubValue=!0,this.panelPropertyChange(u,{row:u.row+1}),m.setAttribute("data-row",u.row.toString()),this.setPanelPosition(m,u.row,p),this.updateCollisionChecked(m),this.oldRowCol[m.id]={row:u.row,col:p};var f=this.getCellInstance(m.id);this.panelPropertyChange(f,{col:p,row:u.row});var y=parseInt(m.getAttribute("data-row"),10),v=parseInt(m.getAttribute("data-col"),10),C=parseInt(m.getAttribute("data-sizeX"),10),b=parseInt(m.getAttribute("data-sizeY"),10),w=[];w.push(m),w.push(s),c=this.collisions(y,v,C,b,w),this.mainElement&&-1!==c.indexOf(this.mainElement)&&c.splice(c.indexOf(this.mainElement),1),this.collisionPanel(c,v,y,m)}this.isSubValue=!1}else{this.addPanelCalled&&(this.addPanelCalled=!1),this.overlapElementClone[n].setAttribute("data-row",o.toString());var z=[];z.push(this.overlapElementClone[n]),z.push(s),c=this.collisions(o,h,d,r,z),this.mainElement&&-1!==c.indexOf(this.mainElement)&&c.splice(c.indexOf(this.mainElement),1),p=parseInt(this.overlapElementClone[n].getAttribute("data-col"),10),this.setPanelPosition(this.overlapElementClone[n],o,p),this.updateCollisionChecked(this.overlapElementClone[n]),this.oldRowCol[this.overlapElementClone[n].id]={row:o,col:p};f=this.getCellInstance(this.overlapElementClone[n].id);this.panelPropertyChange(f,{col:p,row:o}),this.collisionPanel(c,p,o,this.overlapElementClone[n])}}}},t.prototype.collisionPanel=function(e,t,s,i){var l=this.getCellInstance(i.id);if(this.panelPropertyChange(l,{row:s,col:t}),e.length>0){var n=this;this.overlapElement=[],this.shouldRestrict=!0,e.forEach((function(e){n.overlapElement.push(e)}));for(var a=parseInt(i.getAttribute("data-row"),10),o=0;o<this.overlapElement.length;o++)this.updateRowColumn(a,this.overlapElement,i);this.shouldRestrict=!1}else{if(this.addPanelCalled||this.sortedPanel(),this.overlapSubElementClone.length>0)for(var r=function(e){var t=parseInt(h.overlapSubElementClone[e].getAttribute("data-row"),10),s=parseInt(h.overlapSubElementClone[e].getAttribute("data-col"),10),i=parseInt(h.overlapSubElementClone[e].getAttribute("data-sizeX"),10),l=parseInt(h.overlapSubElementClone[e].getAttribute("data-sizeY"),10),n=void 0;n=h.collisions(t,s,i,l,h.overlapSubElementClone),h.mainElement&&-1!==n.indexOf(h.mainElement)&&n.splice(n.indexOf(h.mainElement),1);var a=h;n.forEach((function(e){a.overlapElement.push(e)})),n.length>0&&h.updateRowColumn(t,h.overlapElement,h.overlapSubElementClone[e])},h=this,d=0;d<this.overlapSubElementClone.length;d++)r(d);this.overlapSubElementClone=[]}},t.prototype.removeResizeClasses=function(e){for(var t=0;t<e.length;t++)for(var s=e[t].querySelectorAll(".e-resize"),i=0;i<s.length;i++)sf.base.detach(s[i])},t.prototype.ensureDrag=function(){this.checkDragging(this.dragCollection);var e=this.element.querySelectorAll("."+n);sf.base.removeClass(e,[n]),this.setClasses(this.panelCollection)},t.prototype.setClasses=function(e){for(var t=0;t<e.length;t++){var s=e[t],i=e[t].querySelector(".e-panel-container");this.allowDragging&&(this.draggableHandle&&s.querySelectorAll(this.draggableHandle)[0]?sf.base.addClass([s.querySelectorAll(this.draggableHandle)[0]],[n]):sf.base.addClass([s],[n])),this.allowResizing&&this.mediaQuery&&!this.checkMediaQuery()&&this.setResizingClass(s,i)}},t.prototype.setResizingClass=function(e,t){this.availableClasses=this.resizableHandles;for(var s=0;s<this.availableClasses.length;s++){var i=this.createElement("span"),l=void 0;t.appendChild(i),l="e-east"===this.availableClasses[s]||"e-west"===this.availableClasses[s]||"e-north"===this.availableClasses[s]||"e-south"===this.availableClasses[s]?"e-single":"e-double",sf.base.addClass([i],[l,this.availableClasses[s],"e-resize","e-dl-icon"])}},t.prototype.setXYAttributes=function(e,t){var s={value:{sizeX:t.sizeX.toString(),sizeY:t.sizeY.toString(),minSizeX:t.minSizeX.toString(),minSizeY:t.minSizeY.toString(),maxSizeX:sf.base.isNullOrUndefined(t.maxSizeX)?void 0:t.maxSizeX.toString(),maxSizeY:sf.base.isNullOrUndefined(t.maxSizeY)?void 0:t.maxSizeY.toString(),row:t.row.toString(),col:t.col.toString()}};this.setAttributes(s,e)},t.prototype.setXYDimensions=function(e){var t,s=this.getCellSize()[1],i=this.getCellSize()[0];return t=e&&"number"==typeof i&&"number"==typeof e.sizeX&&e.sizeX>1?e.sizeX*i+(e.sizeX-1)*this.cellSpacing[0]:i,[e&&"number"==typeof s&&e.sizeY>1&&"number"==typeof e.sizeY?e.sizeY*s+(e.sizeY-1)*this.cellSpacing[1]:sf.base.formatUnit(s),t]},t.prototype.getRowColumnDragValues=function(e){var t=parseFloat(e.element.style.top),s=parseFloat(e.element.style.left);return[Math.round(t/(this.getCellSize()[1]+this.cellSpacing[1])),Math.round(s/(this.getCellSize()[0]+ +this.cellSpacing[0]))]},t.prototype.checkForChanges=function(e,t,s){var i=[];if(this.removeAllCalled)i=[];else for(var l=0;l<this.panels.length;l++)!sf.base.isNullOrUndefined(t)&&this.panels[l].id===t[0].id||!sf.base.isNullOrUndefined(s)&&this.panels[l].id===s[0].id||this.panels[l].row===this.panelsInitialModel[l].row&&this.panels[l].col===this.panelsInitialModel[l].col||i.push(this.panels[l]);if(i.length>0||this.removeAllCalled){var n={changedPanels:i,isInteracted:e,addedPanels:sf.base.isNullOrUndefined(t)?[]:t,removedPanels:sf.base.isNullOrUndefined(s)?[]:s};this.trigger("change",n)}},t.prototype.enableDraggingContent=function(e){for(var t=this,s=0;s<e.length;s++){var i=[".e-resize",".e-drag-restrict"],l=e[s];this.dragobj=new sf.base.Draggable(l,{preventDefault:!1,clone:!1,dragArea:this.element,isDragScroll:!0,handle:this.draggableHandle?this.draggableHandle:".e-panel",abort:i,dragStart:this.onDraggingStart.bind(this),dragStop:function(e){var s=t.getCellInstance(t.mainElement.id);t.allowPushing&&t.collisions(s.row,s.col,s.sizeX,s.sizeY,t.mainElement).length>0?(t.setHolderPosition(e),t.setPanelPosition(t.mainElement,s.row,s.col),t.updatePanelLayout(t.mainElement,s)):t.setPanelPosition(t.mainElement,s.row,s.col),t.mainElement=null;var i=t.getPanelBase(e);t.shadowEle&&sf.base.detach(t.shadowEle),sf.base.removeClass([t.element],["e-prevent"]),sf.base.removeClass([e.element],["e-dragging"]),t.shadowEle=null,e.element.classList.remove("e-dragging");var l=t.getRowColumnDragValues(e)[0],n=t.getRowColumnDragValues(e)[1],a=t.getCellInstance(e.element.id);t.allowPushing&&0===t.collisions(l,n,a.sizeX,a.sizeY,document.getElementById(i.id)).length?(t.panelPropertyChange(t.getCellInstance(e.element.id),{row:l,col:n}),t.oldRowCol[e.element.id].row=l,t.oldRowCol[e.element.id].col=n,t.setAttributes({value:{col:n.toString(),row:l.toString()}},e.element),t.sortedPanel()):(t.panelPropertyChange(t.getCellInstance(e.element.id),{row:t.oldRowCol[e.element.id].row,col:t.oldRowCol[e.element.id].col}),e.element.setAttribute("data-col",t.getCellInstance(e.element.id).col.toString()),e.element.setAttribute("data-row",t.getCellInstance(e.element.id).row.toString()),t.sortedPanel());var o=t.getCellInstance(e.element.id);t.setPanelPosition(e.element,o.row,o.col),t.updatePanels(),t.updateServerPanelData(),t.updateCloneArrayObject(),t.checkForChanges(!0),t.dragStopEventArgs={event:e.event,element:e.element},t.trigger("dragStop",e),t.resizeEvents(),t.rows=t.maxRow(!0),t.setHeightWidth(),t.updateDragArea()},drag:function(e){t.draggedEventArgs={event:e.event,element:e.element,target:sf.base.closest(e.target,".e-panel")},t.trigger("drag",t.draggedEventArgs),t.onDragStart(e)}}),-1===this.dragCollection.indexOf(this.dragobj)&&this.dragCollection.push(this.dragobj)}},t.prototype.updatePanels=function(){this.moveItemsUpwards(),this.updateOldRowColumn(),this.sortedPanel()},t.prototype.updateDragArea=function(){this.dragCollection.forEach((function(e){e.setDragArea()}))},t.prototype.updateRowsHeight=function(e,t,s){e+t>=this.rows&&(this.rows=this.rows+s,this.setHeightWidth())},t.prototype.onDraggingStart=function(e){var t=e;this.trigger("dragStart",t,(function(t){sf.base.isBlazor()&&t.bindEvents(e.element)})),this.panelsInitialModel=this.cloneModels(this.panels),this.mainElement=e.element,this.cloneObject=JSON.parse(JSON.stringify(this.cloneObject));var s=this.startRow=parseInt(e.element.getAttribute("data-row"),10);this.startCol=parseInt(e.element.getAttribute("data-col"),10);var i=parseInt(e.element.getAttribute("data-sizeY"),10);this.updateRowsHeight(s,i,i),this.updateDragArea(),this.shadowEle=document.createElement("div"),this.shadowEle.classList.add("e-holder"),this.shadowEle.classList.add("e-holder-transition"),sf.base.setStyleAttribute(this.shadowEle,{position:"absolute"}),sf.base.addClass([this.element],["e-prevent"]),sf.base.addClass([e.element],["e-dragging"]),this.element.appendChild(this.shadowEle),this.renderReactTemplates(),this.shadowEle=document.querySelector(".e-holder"),this.shadowEle.style.height=this.getCellInstance(e.element.id).sizeY*this.cellSize[1]+"px",this.shadowEle.style.width=this.getCellInstance(e.element.id).sizeX*this.cellSize[0]+"px";var l=this.getCellInstance(e.element.id);this.setPanelPosition(this.shadowEle,l.row,l.col)},t.prototype.cloneModels=function(e,t){void 0===t&&(t=[]);for(var s=0;s<e.length;s++)for(var i in t[s]||(t[s]={}),e[s])t[s][i]=e[s][i];return t},t.prototype.onDragStart=function(e){var t,s,i,l=i=this.getRowColumnDragValues(e)[1],n=this.getRowColumnDragValues(e)[0];if(!(l<0||n<0)){this.panelPropertyChange(this.getCellInstance(e.element.id),{row:n,col:l});var a=this.getCellInstance(e.element.id);if(this.updateRowsHeight(a.row,a.sizeY,1),this.updateDragArea(),this.allowPushing&&(this.setAttributes({value:{col:l.toString(),row:n.toString()}},e.element),this.panelPropertyChange(this.getCellInstance(e.element.id),{row:n,col:l}),t=this.oldRowCol[e.element.id].col,s=this.oldRowCol[e.element.id].row,this.oldRowCol[e.element.id]={row:n,col:l},this.updateOldRowColumn(),(this.startCol!==t||this.startRow!==s)&&(this.setHolderPosition(e),this.startCol!==t&&(this.startRow=s),this.startRow!==s&&(this.startCol=t),this.allowPushing))){this.mainElement=e.element;var o=a;this.checkCollision=this.collisions(o.row,o.col,o.sizeX,o.sizeY,e.element),a.col>=this.checkColumnValue&&(this.checkCollision=[]),this.updatePanelLayout(e.element,a),this.moveItemsUpwards()}!1!==this.allowPushing&&this.panelPropertyChange(this.getCellInstance(e.element.id),{row:n,col:l}),this.oldRowCol[e.element.id].row===n&&this.oldRowCol[e.element.id].col===l||(this.panelPropertyChange(this.getCellInstance(e.element.id),{row:n,col:l}),this.setAttributes({value:{col:l.toString(),row:n.toString()}},e.element)),this.startCol!==i&&(this.startCol=t,this.moveItemsUpwards()),this.allowPushing||this.setHolderPosition(e),this.removeResizeClasses(this.panelCollection),this.setClasses(this.panelCollection),this.allowPushing}},t.prototype.getPanelBase=function(e){for(var t,s=0;s<this.panelCollection.length;s++)this.panelCollection[s].id===(e.element&&e.element.id||e)&&(t=this.panelCollection[s]);return t},t.prototype.getPanel=function(e,t,s){!s||s instanceof Array||(s=[s]);for(var i=1;e>-1;){for(var l=1,n=t;n>-1;){var a=this.sortedArray[e];if(a){var o=a[n];if(o&&(!s||-1===s.indexOf(o))&&parseInt(o.getAttribute("data-sizeX"),10)>=l&&parseInt(o.getAttribute("data-sizeY"),10)>=i)return o}++l,--n}--e,++i}return null},t.prototype.setHolderPosition=function(e){var t,s,i=parseInt(e.element.getAttribute("data-sizeY"),10),l=parseInt(e.element.getAttribute("data-col"),10),n=parseInt(e.element.getAttribute("data-row"),10),a=parseInt(e.element.getAttribute("data-sizeX"),10),o=this.getCellSize()[0],r=this.getCellSize()[1],h=0===n?0:n*(r+this.cellSpacing[1]),d=0===l?0:l*(o+this.cellSpacing[0]);t=this.getCellSize()[1],s=this.getCellSize()[0],this.elementRef.top=this.shadowEle.style.top=h+"px",this.elementRef.left=this.shadowEle.style.left=d+"px",this.elementRef.height=this.shadowEle.style.height=i*t+(i-1)*this.cellSpacing[1]+"px",this.elementRef.width=this.shadowEle.style.width=a*s+(a-1)*this.cellSpacing[0]+"px"},t.prototype.getCellInstance=function(e){for(var t,s=0;s<this.panels.length;s++)this.panels[s].id===e&&(t=this.panels[s]);return t},t.prototype.addPanel=function(e){this.panelsSizeY=0,this.allowServerDataBinding=!1,this.maxCol(),e.minSizeX||(e.minSizeX=1),e.minSizeY||(e.minSizeY=1),e.id||(e.id="layout_"+this.panelID.toString(),this.panelID=this.panelID+1);var t=new a(this,"panels",e,!0);this.panels.push(t),this.panelsInitialModel=this.cloneModels(this.panels),this.setMinMaxValues(t),(this.maxColumnValue<t.col||this.maxColumnValue<t.col+t.sizeX)&&this.panelPropertyChange(t,{col:this.maxColumnValue-t.sizeX});var s=this.renderCell(t,!0,null);if(this.oldRowCol[t.id]={row:t.row,col:t.col},this.cloneObject[t.id]={row:t.row,col:t.col},this.updateOldRowColumn(),this.element.insertAdjacentElement("afterbegin",s),this.addPanelCalled=!0,this.checkMediaQuery()?(this.checkMediaQuerySizing(),this.isBlazor&&s.style.removeProperty("visibility"),this.removeResizeClasses(this.panelCollection)):(this.mainElement=s,this.checkCollision||(this.checkCollision=[]),this.setPanelPosition(s,t.row,t.col),this.isBlazor&&s.style.removeProperty("visibility"),this.updatePanelLayout(s,t)),this.addPanelCalled=!1,this.allowDragging&&this.mediaQuery&&!this.checkMediaQuery()&&this.enableDraggingContent([document.getElementById(t.id)]),this.setClasses([s]),this.allowFloating&&(this.mainElement=null,this.moveItemsUpwards()),this.updateOldRowColumn(),this.sortedPanel(),this.updateCloneArrayObject(),this.allowResizing)for(var i=0;i<s.querySelectorAll(".e-resize").length;i++){var l="msie"===sf.base.Browser.info.name?"mousedown pointerdown":"mousedown";sf.base.EventHandler.add(s.querySelectorAll(".e-resize")[i],l,this.downResizeHandler,this),"msie"!==sf.base.Browser.info.name&&sf.base.EventHandler.add(s.querySelectorAll(".e-resize")[i],"touchstart",this.touchDownResizeHandler,this)}this.checkForChanges(!1,[t]),this.allowServerDataBinding=!0,this.serverDataBind()},t.prototype.updatePanel=function(e){if(this.panelsSizeY=0,e.id){var t=this.getCellInstance(e.id);if(t){this.maxCol(),e.col=e.col<1?0:e.col>this.columns?this.columns-1:e.col,sf.base.isNullOrUndefined(e.col)&&(e.col=t.col),this.panelPropertyChange(t,e),this.setMinMaxValues(t);var s=document.getElementById(e.id);this.mainElement=s;var i=t.cssClass?t.cssClass.split(" "):null;if(this.panelContent=s.querySelector(".e-panel-container")?s.querySelector(".e-panel-container"):this.createSubElement(i,s.id+"_content","e-panel-container"),s.appendChild(this.panelContent),t.header){var l=s.querySelector(".e-panel-header")?s.querySelector(".e-panel-header"):this.createSubElement([],s.id+"template","");sf.base.addClass([l],["e-panel-header"]),l.innerHTML="";var n=this.element.id+"HeaderTemplate"+t.id;this.renderTemplate(t.header,l,n,!0,"header"),this.panelContent.appendChild(l),this.renderReactTemplates()}else s.querySelector(".e-panel-header")&&sf.base.detach(s.querySelector(".e-panel-header"));if(t.content){var a=t.cssClass?t.cssClass.split(" "):null;this.panelBody=s.querySelector(".e-panel-content")?s.querySelector(".e-panel-content"):this.createSubElement(a,s.id+"_body","e-panel-content"),this.panelBody.innerHTML="";var o="calc( 100% - "+(this.panelContent.querySelector(".e-panel-header")?window.getComputedStyle(this.panelContent.querySelector(".e-panel-header")).height:"0px")+")";sf.base.setStyleAttribute(this.panelBody,{height:o});n=this.element.id+"ContentTemplate"+t.id;this.renderTemplate(t.content,this.panelBody,n,!0,"content"),this.panelContent.appendChild(this.panelBody),this.renderReactTemplates()}else s.querySelector(".e-panel-content")&&sf.base.detach(s.querySelector(".e-panel-content"));this.setXYAttributes(s,t),this.setHeightAndWidth(s,t),this.setPanelPosition(s,t.row,t.col),this.updatePanelLayout(s,t),this.checkMediaQuery()&&this.checkMediaQuerySizing(),this.mainElement=null,this.updatePanels(),this.updateCloneArrayObject()}}},t.prototype.updateCloneArrayObject=function(){this.cloneArray=this.sortedArray,this.cloneObject=JSON.parse(JSON.stringify(this.oldRowCol))},t.prototype.serialize=function(){for(var e=this.cloneModels(this.panels),t=[],s=0;s<e.length;s++)t.push({id:e[s].id,row:e[s].row,col:e[s].col,sizeX:e[s].sizeX,sizeY:e[s].sizeY,minSizeX:e[s].minSizeX,minSizeY:e[s].minSizeY,maxSizeX:e[s].maxSizeX,maxSizeY:e[s].maxSizeY});return t},t.prototype.removeAll=function(){this.removeAllCalled=!0;for(var e=0;e<this.panelCollection.length;e++)sf.base.detach(this.panelCollection[e]),this.clearTemplate();this.removeAllPanel(),this.updateServerPanelData(),this.rows=0,this.gridPanelCollection=[],this.setHeightWidth(),this.sortedPanel(),this.sortedArray=[],this.overlapElementClone=[],this.overlapElement=[],this.overlapSubElementClone=[],this.panelCollection=[],this.oldRowCol={},this.cloneObject={};var t=this.cloneModels(this.panels);this.setProperties({panels:[]},!0),this.updatePanels(),this.updateCloneArrayObject(),this.checkForChanges(!1,null,t),this.removeAllCalled=!1},t.prototype.removePanel=function(e){var t,s=this;this.panelsSizeY=0,this.panelsInitialModel=this.cloneModels(this.panels);for(var i=0;i<this.panelCollection.length;i++)this.panelCollection[i].id===e&&(sf.base.detach(this.panelCollection[i]),this.panelCollection.splice(i,1)),this.panels[i].id===e&&(t=this.panels[i],this.panels.splice(i,1),this.panelsInitialModel.splice(i,1),this.updateOldRowColumn(),this.sortedPanel());this.updatePanels(),this.checkMediaQuery()&&(this.isPanelRemoved=!0,this.checkMediaQuerySizing(),this.isPanelRemoved=!1),this.updateServerPanelData(),this.gridPanelCollection.forEach((function(t){t.id===e&&s.gridPanelCollection.splice(s.gridPanelCollection.indexOf(t),1)})),this.updateCloneArrayObject(),this.checkForChanges(!1,null,[t])},t.prototype.movePanel=function(e,t,s){this.movePanelCalled=!0,this.panelsInitialModel=this.cloneModels(this.panels);var i=this.getCellInstance(e);if(!isNaN(t)&&null!==t&&!isNaN(s)&&null!==s&&i){s<0?s=0:s>this.columns&&(s=this.columns-i.sizeX),this.panelPropertyChange(i,{row:t,col:s});var l=document.getElementById(e);this.mainElement=l,this.startRow=parseInt(l.getAttribute("data-row"),10),this.startCol=parseInt(l.getAttribute("data-col"),10),this.setAttributes({value:{col:s.toString(),row:t.toString()}},l),this.updateOldRowColumn(),this.setPanelPosition(l,t,s),this.updatePanelLayout(l,i),this.updateRowHeight(),this.updatePanels(),this.updateServerPanelData(),this.updateCloneArrayObject(),this.mainElement=null,this.allowFloating&&this.moveItemsUpwards(),this.movePanelCalled=!1,this.checkForChanges(!1)}},t.prototype.setAttributes=function(e,t){for(var s=0;s<Object.keys(e).length;s++)Object.keys(e)&&(e[Object.keys(e)[s]].col&&t.setAttribute("data-col",e[Object.keys(e)[s]].col.toString()),e[Object.keys(e)[s]].row&&t.setAttribute("data-row",e[Object.keys(e)[s]].row.toString()),e[Object.keys(e)[s]].sizeX&&t.setAttribute("data-sizeX",e[Object.keys(e)[s]].sizeX.toString()),e[Object.keys(e)[s]].sizeY&&t.setAttribute("data-sizeY",e[Object.keys(e)[s]].sizeY.toString()),e[Object.keys(e)[s]].minSizeX&&t.setAttribute("data-minSizeX",e[Object.keys(e)[s]].minSizeX.toString()),e[Object.keys(e)[s]].minSizeY&&t.setAttribute("data-minSizeY",e[Object.keys(e)[s]].minSizeY.toString()),e[Object.keys(e)[s]].maxSizeX&&t.setAttribute("data-maxSizeY",e[Object.keys(e)[s]].maxSizeX.toString()),e[Object.keys(e)[s]].maxSizeY&&t.setAttribute("data-maxSizeY",e[Object.keys(e)[s]].maxSizeY.toString()))},t.prototype.resizePanel=function(e,t,s){this.panelsInitialModel=this.cloneModels(this.panels);var i=this.getCellInstance(e);this.resizeCalled=!0;var l=document.getElementById(e),n={event:null,element:l,isInteracted:!1};this.trigger("resizeStart",n),this.panelPropertyChange(i,{sizeX:t,sizeY:s}),this.setMinMaxValues(i),this.checkMinMaxValues(i),this.mainElement=l,this.setAttributes({value:{sizeX:i.sizeX.toString(),sizeY:i.sizeY.toString()}},l),this.setHeightAndWidth(l,i),this.updatePanelLayout(l,i),this.updatePanels(),this.updateServerPanelData(),this.updateRowHeight(),this.resizeCalled=!1,this.trigger("resizeStop",n),this.checkForChanges(!1)},t.prototype.destroy=function(){sf.base.removeClass([this.element],["e-dashboardlayout","e-lib","e-responsive","e-control"]),this.element.removeAttribute("style");for(var t=0;t<this.dragCollection.length;t++)this.dragCollection[t].destroy();this.removeAllPanel(),e.prototype.destroy.call(this),this.clearTemplate(),this.renderReactTemplates()},t.prototype.removeAllPanel=function(){for(;this.element.firstElementChild;)sf.base.detach(this.element.firstElementChild),this.clearTemplate()},t.prototype.setEnableRtl=function(){this.enableRtl?sf.base.addClass([this.element],"e-rtl"):sf.base.removeClass([this.element],"e-rtl")},t.prototype.updateCellSizeAndSpacing=function(){this.panelResponsiveUpdate(),this.setHeightWidth(),this.getRowColumn();for(var e=0;e<this.element.querySelectorAll(".e-panel").length;e++){var t=this.element.querySelectorAll(".e-panel")[e],s=this.getCellInstance(t.id);this.setHeightAndWidth(t,s),this.setPanelPosition(t,s.row,s.col)}},t.prototype.updatePanelsDynamically=function(e){this.removeAll(),this.setProperties({panels:e},!0),this.setOldRowCol(),this.table&&this.table.remove(),this.isBlazor=!1,this.initialize(),this.checkMediaQuery()&&this.refresh(),this.isBlazor=sf.base.isBlazor()&&this.isServerRendered,this.showGridLines&&this.initGridLines()},t.prototype.checkForIDValues=function(e){var t=this;!sf.base.isNullOrUndefined(e)&&e.length>0?(this.panelID=0,e.forEach((function(e){e.id||(t.panelPropertyChange(e,{id:"layout_"+t.panelID.toString()}),t.panelID=t.panelID+1)}))):this.restrictDynamicUpdate=!0},t.prototype.onPropertyChanged=function(e,t){var s=this;e.panels&&e.panels.length>0&&e.panels[0]instanceof a&&this.checkForIDValues(e.panels);for(var i=0,l=Object.keys(e);i<l.length;i++){switch(l[i]){case"enableRtl":this.setProperties({enableRtl:e.enableRtl},!0),this.setEnableRtl();break;case"mediaQuery":this.setProperties({mediaQuery:e.mediaQuery},!0),this.checkMediaQuery()&&this.checkMediaQuerySizing();break;case"allowDragging":this.setProperties({allowDragging:e.allowDragging},!0),this.ensureDrag();break;case"allowResizing":if(this.setProperties({allowResizing:e.allowResizing},!0),this.allowResizing)this.setClasses(this.panelCollection),this.resizeEvents();else{for(var n=this.element.querySelectorAll(".e-panel .e-panel-container .e-resize"),o=0;o<n.length;o++){var r="msie"===sf.base.Browser.info.name?"mousedown pointerdown":"mousedown",h=n[o];sf.base.EventHandler.remove(h,r,this.downResizeHandler),"msie"!==sf.base.Browser.info.name&&sf.base.EventHandler.remove(h,"touchstart",this.touchDownResizeHandler)}this.removeResizeClasses(this.panelCollection)}break;case"cellSpacing":this.setProperties({cellSpacing:e.cellSpacing},!0),this.updateCellSizeAndSpacing(),this.updateGridLines();break;case"draggableHandle":this.setProperties({draggableHandle:e.draggableHandle},!0),this.ensureDrag();break;case"allowFloating":this.setProperties({allowFloating:e.allowFloating},!0),this.moveItemsUpwards();break;case"showGridLines":this.showGridLines?(this.setProperties({showGridLines:e.showGridLines},!0),this.initGridLines()):this.table&&sf.base.detach(this.table);break;case"allowPushing":this.setProperties({allowPushing:e.allowPushing},!0);break;case"panels":!e.columns&&!this.restrictDynamicUpdate&&e.panels[0]&&e.panels.length>0?(this.isRenderComplete=!1,this.updatePanelsDynamically(e.panels),this.isRenderComplete=!0):e.panels[0]&&e.panels.length?this.restrictDynamicUpdate=!1:(this.isRenderComplete=!1,this.updatePanelsDynamically(this.panels),this.isRenderComplete=!0);break;case"columns":this.isRenderComplete=!1,e.panels&&this.updatePanelsDynamically(e.panels),this.setProperties({columns:e.columns},!0),this.panelCollection=[],this.maxColumnValue=this.columns,this.calculateCellSize(),this.panels.forEach((function(e){if(s.setMinMaxValues(e),s.maxColumnValue<e.col||s.maxColumnValue<e.col+e.sizeX){var t=s.maxColumnValue-e.sizeX;s.panelPropertyChange(e,{col:t<0?0:t}),s.setXYAttributes(document.getElementById(e.id),e)}s.setHeightAndWidth(document.getElementById(e.id),e),s.panelCollection.push(document.getElementById(e.id)),s.setPanelPosition(document.getElementById(e.id),e.row,e.col),s.mainElement=document.getElementById(e.id),s.updatePanelLayout(document.getElementById(e.id),e),s.mainElement=null})),this.updatePanels(),this.updateCloneArrayObject(),this.isRenderComplete=!0,this.updateGridLines()}}},t.prototype.getPersistData=function(){return this.addOnPersist(["panels"])},t.prototype.mergePersistPanelData=function(e){var t=window.localStorage.getItem(this.getModuleName()+this.element.id);if(!sf.base.isNullOrUndefined(t)&&""!==t||!sf.base.isNullOrUndefined(e)){var i=sf.base.isNullOrUndefined(e)?JSON.parse(t):e,l=Object.keys(i);this.isProtectedOnChange=!0;for(var n=0,a=l;n<a.length;n++){var o=a[n];"object"!==s(sf.base.getValue(o,this))||sf.base.isNullOrUndefined(sf.base.getValue(o,this))||Array.isArray(sf.base.getValue(o,this))&&"panels"===o&&this.mergePanels(i[o],this[o])}this.isProtectedOnChange=!1}},t.prototype.mergePanels=function(e,t){for(var s=e,i=function(e){l.checkForIDValues(t);var i=t.filter((function(t){return t.id===s[e].id}))[0];sf.base.isNullOrUndefined(i)||(s[e]=sf.base.extend(i,s[e],{},!0))},l=this,n=0;n<s.length;n++)i(n)},t.prototype.getModuleName=function(){return"DashboardLayout"},l([sf.base.Property(!0)],t.prototype,"allowDragging",void 0),l([sf.base.Property(!1)],t.prototype,"allowResizing",void 0),l([sf.base.Property(!0)],t.prototype,"allowPushing",void 0),l([sf.base.Property(!0)],t.prototype,"enableHtmlSanitizer",void 0),l([sf.base.Property(!0)],t.prototype,"allowFloating",void 0),l([sf.base.Property(1)],t.prototype,"cellAspectRatio",void 0),l([sf.base.Property([5,5])],t.prototype,"cellSpacing",void 0),l([sf.base.Property(1)],t.prototype,"columns",void 0),l([sf.base.Property(!1)],t.prototype,"showGridLines",void 0),l([sf.base.Property(null)],t.prototype,"draggableHandle",void 0),l([sf.base.Property("en-US")],t.prototype,"locale",void 0),l([sf.base.Property("max-width: 600px")],t.prototype,"mediaQuery",void 0),l([sf.base.Collection([],a)],t.prototype,"panels",void 0),l([sf.base.Property(["e-south-east"])],t.prototype,"resizableHandles",void 0),l([sf.base.Event()],t.prototype,"change",void 0),l([sf.base.Event()],t.prototype,"dragStart",void 0),l([sf.base.Event()],t.prototype,"drag",void 0),l([sf.base.Event()],t.prototype,"dragStop",void 0),l([sf.base.Event()],t.prototype,"resizeStart",void 0),l([sf.base.Event()],t.prototype,"resize",void 0),l([sf.base.Event()],t.prototype,"resizeStop",void 0),l([sf.base.Event()],t.prototype,"created",void 0),l([sf.base.Event()],t.prototype,"destroyed",void 0),t=l([sf.base.NotifyPropertyChanges],t)}(sf.base.Component);return e.Panel=a,e.DashboardLayout=o,e}({}))}});