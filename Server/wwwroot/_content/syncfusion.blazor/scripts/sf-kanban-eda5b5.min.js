!function(e){var t={};function n(s){if(t[s])return t[s].exports;var i=t[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(s,i,function(t){return e[t]}.bind(null,i));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="_content/Syncfusion.Blazor/scripts/",n(n.s="./bundles/sf-kanban.js")}({"./bundles/sf-kanban.js":function(e,t,n){"use strict";n.r(t);n("./modules/sf-kanban.js")},"./modules/sf-kanban.js":function(e,t){window.sfBlazor=window.sfBlazor||{},window.sfBlazor.Kanban=function(){"use strict";var e="e-kanban-content",t="e-show-add-button",n=function(){function n(e){this.parent=e,this.dragObj={element:null,cloneElement:null,instance:null,targetClone:null,draggedClone:null,targetCloneMulti:null,selectedCards:[],pageX:0,pageY:0,navigationInterval:null,cardDetails:[],modifiedData:[]},this.isDragging=!1,this.dragEdges={left:!1,right:!1,top:!1,bottom:!1}}return n.prototype.wireDragEvents=function(t){this.dragObj.instance=new sf.base.Draggable(t,{clone:!0,enableTapHold:this.parent.isAdaptive,enableTailMode:!0,cursorAt:{top:-10,left:-10},dragArea:t.querySelector("."+e),dragStart:this.dragStart.bind(this),drag:this.drag.bind(this),dragStop:this.dragStop.bind(this),enableAutoScroll:!1,helper:this.dragHelper.bind(this)})},n.prototype.dragHelper=function(e){if(this.dragObj.element=sf.base.closest(e.sender.target,".e-card"),sf.base.isNullOrUndefined(this.dragObj.element))return null;this.dragObj.element.style.width=sf.base.formatUnit(this.dragObj.element.offsetWidth);var t=this.dragObj.element.cloneNode(!0);return this.dragObj.cloneElement=t,sf.base.addClass([this.dragObj.cloneElement],"e-cloned-card"),this.dragObj.element.parentElement.appendChild(this.dragObj.cloneElement),this.dragObj.targetCloneMulti=sf.base.createElement("div",{className:"e-target-multi-clone"}),this.dragObj.targetClone=sf.base.createElement("div",{className:"e-target-dropped-clone",styles:"width:100%;height:"+sf.base.formatUnit(this.dragObj.element.offsetHeight)}),this.dragObj.modifiedData=[],this.dragObj.cloneElement},n.prototype.dragStart=function(e){var t=this;if(this.dragObj.selectedCards=this.dragObj.element,this.dragObj.element.classList.contains("e-selection")){var n=sf.base.closest(this.dragObj.element,".e-content-row");this.dragObj.selectedCards=[].slice.call(n.querySelectorAll(".e-card.e-selection:not(.e-cloned-card)"))}var s=[];if(this.dragObj.selectedCards instanceof HTMLElement){var i=this.dragObj.selectedCards.getAttribute("data-id");s.push(i)}else this.dragObj.selectedCards.forEach((function(e){s.push(e.getAttribute("data-id"))}));if(this.parent.dotNetRef.invokeMethodAsync("DragStart",s,"DragStart"),e.bindEvents(e.dragElement),this.dragObj.element.classList.contains("e-selection")){if(this.dragObj.selectedCards.forEach((function(e){t.draggedClone(e)})),this.dragObj.selectedCards.length>1){this.dragObj.cloneElement.innerHTML="";var o=sf.base.createElement("div",{className:"e-multi-card-text",innerHTML:this.dragObj.selectedCards.length+" Cards"});this.dragObj.cloneElement.appendChild(o),sf.base.classList(this.dragObj.cloneElement,["e-multi-card-clone"],["e-selection"]),this.dragObj.cloneElement.style.width="90px"}}else this.draggedClone(this.dragObj.element)},n.prototype.drag=function(e){var t=this;if(e.target){var n=sf.base.closest(e.target,".e-card"),s=n||e.target,i=sf.base.closest(s,".e-content-row:not(.e-swimlane-row) .e-content-cells.e-droppable");if(this.calculateArgs(e),i){var o=this.getColumnKey(i),l=o.split(",");this.multiCloneRemove();var a=o===this.getColumnKey(sf.base.closest(this.dragObj.draggedClone,".e-content-cells"));if(1===l.length||a)if(s.classList.contains("e-card")||s.classList.contains("e-target-dragged-clone")){var r=s.classList.contains("e-target-dragged-clone")&&s.previousElementSibling.classList.contains("e-kanban-dragged-card")?null:s.previousElementSibling,c="afterend";if(sf.base.isNullOrUndefined(r)){var d=s.classList.contains("e-target-dragged-clone")?this.dragObj.pageY/2:this.dragObj.pageY,h=s.classList.contains("e-target-dragged-clone")?s.offsetHeight:s.offsetHeight/2;d-(this.parent.element.getBoundingClientRect().top+s.offsetTop)<h&&(c="beforebegin")}s.insertAdjacentElement(c,this.dragObj.targetClone)}else s.classList.contains("e-content-cells")&&!sf.base.closest(s,".e-swimlane-row")?s.querySelector(".e-card-container").appendChild(this.dragObj.targetClone):s.classList.contains("e-card-container")&&!sf.base.closest(s,".e-swimlane-row")&&0===i.querySelectorAll(".e-card").length&&s.appendChild(this.dragObj.targetClone);else l.length>1&&i.classList.contains("e-dropping")&&this.multiCloneCreate(l,i)}0===this.parent.element.querySelectorAll(".e-dropping").length&&this.cellDropping();var u=sf.base.closest(s,".e-column-key");if(u){var p=[].slice.call(this.parent.element.querySelectorAll(".e-column-key:not(.e-disabled)")).filter((function(e){return t.getColumnKey(e)===t.getColumnKey(u)}));p.length>0&&(sf.base.addClass(p,"e-multi-active"),p[0].previousElementSibling&&sf.base.addClass([p[0].previousElementSibling],"e-multi-bottom-border"))}document.body.style.cursor=i&&i.classList.contains("e-dropping")?"":"not-allowed",n&&!sf.base.closest(n,".e-content-cells").classList.contains("e-dropping")&&(n.style.cursor="not-allowed",document.body.style.cursor="not-allowed"),"not-allowed"===document.body.style.cursor&&(this.removeElement(this.dragObj.targetClone),this.multiCloneRemove()),this.updateScrollPosition(e)}},n.prototype.dragStop=function(e){var t,n=sf.base.closest(this.dragObj.targetClone,".e-content-cells"),s=0;if(this.dragObj.targetClone.parentElement){s=[].slice.call(this.dragObj.targetClone.parentElement.querySelectorAll(".e-card:not(.e-kanban-dragged-card),.e-target-dropped-clone")).indexOf(this.dragObj.targetClone)}if(this.parent.element.querySelector(".e-target-multi-clone")&&(t=sf.base.closest(e.target,".e-column-key:not(.e-disabled)")),n||t){var i=void 0;n?i=this.getColumnKey(n):(i=this.getColumnKey(t),n=sf.base.closest(t,".e-content-cells"));var o=void 0;if(this.parent.swimlaneSettings.keyField&&this.parent.swimlaneSettings.allowDragAndDrop){var l=sf.base.closest(n,".e-content-row").previousElementSibling;o=this.getColumnKey(l)}var a=[];if(this.dragObj.selectedCards instanceof HTMLElement){var r=this.dragObj.selectedCards.getAttribute("data-id");a.push(r)}else this.dragObj.selectedCards.forEach((function(e){a.push(e.getAttribute("data-id"))}));var c=!1,d=void 0,h="";this.parent.sortSettings.field&&"Index"===this.parent.sortSettings.sortBy&&(!(d="Ascending"===this.parent.sortSettings.direction?this.dragObj.targetClone.previousElementSibling:this.dragObj.targetClone.nextElementSibling)||d.classList.contains("e-kanban-dragged-card")||d.classList.contains("e-cloned-card")||d.classList.contains("e-target-dragged-clone")?this.dragObj.targetClone.nextElementSibling&&"Ascending"===this.parent.sortSettings.direction?d=this.dragObj.targetClone.nextElementSibling:this.dragObj.targetClone.previousElementSibling&&"Descending"===this.parent.sortSettings.direction&&(d=this.dragObj.targetClone.previousElementSibling):c=!0),d&&(h=d.getAttribute("data-id")),this.parent.dotNetRef.invokeMethodAsync("DragStop",a,i,o,s,c,h)}this.removeElement(this.dragObj.draggedClone),this.removeElement(this.dragObj.targetClone),this.removeElement(this.dragObj.cloneElement),[].slice.call(this.parent.element.querySelectorAll(".e-target-dragged-clone")).forEach((function(e){return sf.base.remove(e)})),this.dragObj.element.style.removeProperty("width"),this.multiCloneRemove(),this.dragObj.selectedCards instanceof HTMLElement?sf.base.removeClass([this.dragObj.selectedCards],"e-kanban-dragged-card"):sf.base.removeClass(this.dragObj.selectedCards,"e-kanban-dragged-card"),clearInterval(this.dragObj.navigationInterval),this.dragObj.navigationInterval=null,"not-allowed"===document.body.style.cursor&&(document.body.style.cursor=""),[].slice.call(this.parent.element.querySelectorAll(".e-card[style]")).forEach((function(e){e.style.cursor=""}));[].slice.call(this.parent.element.querySelectorAll(".e-content-row:not(.e-swimlane-row) .e-content-cells")).forEach((function(e){return sf.base.removeClass([e],"e-dropping")})),this.dragObj.cardDetails=this.dragObj.modifiedData=[],this.isDragging=!1},n.prototype.draggedClone=function(e){this.dragObj.draggedClone=sf.base.createElement("div",{className:"e-target-dragged-clone",styles:"width:"+sf.base.formatUnit(e.offsetWidth-1)+";height:"+sf.base.formatUnit(e.offsetHeight)}),e.insertAdjacentElement("afterend",this.dragObj.draggedClone),sf.base.addClass([e],"e-kanban-dragged-card")},n.prototype.calculateArgs=function(e){var t=this.getPageCoordinates(e);this.dragObj.pageY=t.pageY,this.dragObj.pageX=t.pageX,this.isDragging=!0},n.prototype.getPageCoordinates=function(e){var t=e.event;return t&&t.changedTouches?t.changedTouches[0]:e.changedTouches?e.changedTouches[0]:t||e},n.prototype.getColumnKey=function(e){return e&&e.getAttribute("data-key")?e.getAttribute("data-key").trim():""},n.prototype.multiCloneRemove=function(){var e=[].slice.call(this.parent.element.querySelectorAll(".e-target-multi-clone"));e.length>0&&([].slice.call(this.parent.element.querySelectorAll(".e-column-key")).forEach((function(e){return sf.base.remove(e)})),e.forEach((function(e){var n=sf.base.closest(e,".e-content-cells");n&&(n.style.borderStyle="",n.querySelector("."+t)&&sf.base.removeClass([n.querySelector("."+t)],"e-multi-card-container"),sf.base.removeClass([n.querySelector(".e-card-container")],"e-multi-card-container"))})),this.removeElement(this.dragObj.targetCloneMulti))},n.prototype.removeElement=function(e){this.parent.element.getElementsByClassName(e.className).length>0&&sf.base.remove(e)},n.prototype.multiCloneCreate=function(e,n){var s=n.offsetHeight,i=n.querySelector(".e-limits");i&&(s-=i.offsetHeight),this.dragObj.targetCloneMulti.style.height=sf.base.formatUnit(s),n.querySelector("."+t)&&sf.base.addClass([n.querySelector("."+t)],"e-multi-card-container"),sf.base.addClass([n.querySelector(".e-card-container")],"e-multi-card-container"),n.querySelector(".e-card-container").style.height="auto",n.style.borderStyle="none",this.removeElement(this.dragObj.targetClone);for(var o=0,l=e;o<l.length;o++){var a=l[o],r=sf.base.closest(this.dragObj.draggedClone,".e-content-cells"),c=this.parent.transition[r.cellIndex].transitionColumn,d=this.allowedTransition(this.dragObj.element.getAttribute("data-key"),a,c),h=d?"":" e-disabled",u=sf.base.createElement("div",{className:"e-column-key"+h,attrs:{"data-key":a.trim()}}),p=sf.base.createElement("div",{className:"e-text",innerHTML:a.trim()});n.appendChild(this.dragObj.targetCloneMulti).appendChild(u).appendChild(p),u.style.cursor=d?"":"not-allowed",u.style.lineHeight=u.style.height=sf.base.formatUnit(s/e.length),p.style.top=sf.base.formatUnit(s/2-p.offsetHeight/2)}},n.prototype.allowedTransition=function(e,t,n){for(var s=!0,i=t.split(","),o=0;o<i.length;o++){if(e===i[o].trim())return!0;if(n){if(1===n.length&&0===n[0].length)return!0;for(var l=0;l<n.length;l++){if(i[o].trim()===n[l].trim())return!0;s=!1}}}return s},n.prototype.cellDropping=function(){var e=this,t=sf.base.closest(this.dragObj.draggedClone,".e-content-cells"),n=sf.base.closest(this.dragObj.draggedClone,".e-content-row");if(this.addDropping(n,t),t&&t.classList.contains("e-drop")&&sf.base.addClass([t],"e-dropping"),this.parent.swimlaneSettings.keyField&&this.parent.swimlaneSettings.allowDragAndDrop){var s=[].slice.call(this.parent.element.querySelectorAll(".e-content-row:not(.e-swimlane-row):not(.e-collapsed)"));[].slice.call(s).forEach((function(s){n!==s&&e.addDropping(s,t)}))}},n.prototype.addDropping=function(e,t){var n=this;t&&e&&[].slice.call(e.children).forEach((function(e){var s=n.parent.transition[t.cellIndex].transitionColumn;e!==t&&e.classList.contains("e-drop")&&n.allowedTransition(t.getAttribute("data-key"),e.getAttribute("data-key"),s)&&sf.base.addClass([e],"e-dropping")}))},n.prototype.updateScrollPosition=function(e){var t=this;sf.base.isNullOrUndefined(this.dragObj.navigationInterval)&&(this.dragObj.navigationInterval=window.setInterval((function(){t.autoScroll()}),100))},n.prototype.autoScrollValidation=function(){var t=this.dragObj.pageY,n=this.dragObj.pageX,s={left:!1,right:!1,top:!1,bottom:!1},i=this.parent.element.querySelector("."+e).getBoundingClientRect();t<i.top+30+window.pageYOffset&&t>i.top+window.pageYOffset&&(s.top=!0),t>i.bottom-30+window.pageYOffset&&t<i.bottom+window.pageYOffset&&(s.bottom=!0),n<i.left+30+window.pageXOffset&&n>i.left+window.pageXOffset&&(s.left=!0),n>i.right-30+window.pageXOffset&&n<i.right+window.pageXOffset&&(s.right=!0),this.dragEdges=s},n.prototype.autoScroll=function(){this.autoScrollValidation();if(this.parent.isAdaptive){var t;if(this.dragEdges.top||this.dragEdges.bottom?t=this.dragObj.targetClone?sf.base.closest(this.dragObj.targetClone,".e-card-container"):sf.base.closest(this.dragObj.draggedClone,".e-card-container"):(this.dragEdges.right||this.dragEdges.left)&&(t=this.parent.element.querySelector("."+e)),t){var n=t.offsetHeight<=t.scrollHeight,s=t.offsetWidth<=t.scrollWidth,i=t.scrollTop>=0&&t.scrollTop+t.offsetHeight<=t.scrollHeight,o=t.scrollLeft>=0&&t.scrollLeft+t.offsetWidth<=t.scrollWidth;if(n&&i&&(this.dragEdges.top||this.dragEdges.bottom)&&(t.scrollTop+=this.dragEdges.top?-66:30),s&&o&&(this.dragEdges.left||this.dragEdges.right))(this.getWidth()*(this.parent.element.querySelector(".e-content-row:not(.e-swimlane-row)").childElementCount-1)>t.scrollLeft||this.dragEdges.left)&&(t.scrollLeft+=this.dragEdges.left?-30:30)}}else{var l=this.parent.element.querySelector("."+e),a=this.dragObj.targetClone.parentElement,r=l.offsetHeight<=l.scrollHeight,c=l.offsetWidth<=l.scrollWidth,d=r&&l.scrollTop>=0&&l.scrollTop+l.offsetHeight<=l.scrollHeight,h=c&&l.scrollLeft>=0&&l.scrollLeft+l.offsetWidth<=l.scrollWidth;d&&(this.dragEdges.top||this.dragEdges.bottom)&&(l.scrollTop+=this.dragEdges.top?-30:30,a&&(a.scrollTop+=this.dragEdges.top?-30:30)),h&&(this.dragEdges.left||this.dragEdges.right)&&(l.scrollLeft+=this.dragEdges.left?-30:30,a&&(a.scrollLeft+=this.dragEdges.left?-30:30)),this.dragObj.pageY-window.scrollY<30?window.scrollTo(window.scrollX,window.scrollY-30):window.innerHeight-(this.dragObj.pageY-window.scrollY)<30&&window.scrollTo(window.scrollX,window.scrollY+30)}},n.prototype.getWidth=function(){return 80*window.innerWidth/100},n.prototype.unWireDragEvents=function(){this.dragObj.instance&&!this.dragObj.instance.isDestroyed&&this.dragObj.instance.destroy()},n.prototype.destroy=function(){this.unWireDragEvents()},n}(),s=function(){function e(e){this.keyConfigs={firstCardSelection:"36",lastCardSelection:"35",upArrow:"38",downArrow:"40",rightArrow:"39",leftArrow:"37",multiSelectionEnter:"ctrl+13",multiSelectionSpace:"ctrl+32",multiSelectionByUpArrow:"shift+38",multiSelectionByDownArrow:"shift+40",shiftTab:"shift+tab",enter:"13",tab:"tab",delete:"46",escape:"27",space:"32"},this.parent=e,this.parent.element.tabIndex=-1===this.parent.element.tabIndex?0:this.parent.element.tabIndex,this.keyboardModule=new sf.base.KeyboardEvents(this.parent.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}),this.multiSelection=!1}return e.prototype.keyActionHandler=function(e){var n=this.parent.element.querySelectorAll(".e-card.e-selection").item(0);if(n||sf.base.closest(document.activeElement,".e-kanban"))switch(e.action){case"upArrow":case"downArrow":case"multiSelectionByUpArrow":case"multiSelectionByDownArrow":this.processUpDownArrow(e.action,n);break;case"rightArrow":case"leftArrow":this.processLeftRightArrow(e);break;case"firstCardSelection":case"lastCardSelection":this.processCardSelection(e.action,n);break;case"multiSelectionEnter":case"multiSelectionSpace":document.activeElement&&this.parent.cardSelection(document.activeElement,!0,!1);break;case"space":case"enter":this.processEnter(e,n);break;case"escape":if(document.activeElement.classList.contains("e-card")||document.activeElement.classList.contains(t))if(document.activeElement.classList.contains("e-selection"))sf.base.removeClass([document.activeElement],"e-selection"),document.activeElement.focus();else{var s=sf.base.closest(document.activeElement,".e-content-cells"),i=[].slice.call(s.querySelectorAll(".e-card"));sf.base.removeClass(i,"e-selection"),s.focus(),this.cardTabIndexRemove(),this.addRemoveTabIndex("Add")}break;case"tab":case"shiftTab":var o=sf.base.closest(document.activeElement,".e-content-cells");document.activeElement.classList.contains("e-card")&&(document.activeElement.nextElementSibling||"tab"!==e.action||e.preventDefault(),!document.activeElement.previousElementSibling&&o.querySelector("."+t)&&"tab"===e.action&&sf.base.addClass([o.querySelector("."+t)],"e-show-add-focus")),document.activeElement.classList.contains(t)&&(!o.querySelector(".e-card")&&"tab"===e.action||"shiftTab"===e.action)&&e.preventDefault(),document.activeElement.classList.contains("e-kanban")&&(this.cardTabIndexRemove(),this.addRemoveTabIndex("Add"))}},e.prototype.processCardSelection=function(e,t){if(t){sf.base.removeClass([t],"e-selection"),this.parent.disableAttributeSelection(t);var n=this.parent.selectionArray;n.splice(n.indexOf(t.getAttribute("data-id")),1)}this.cardTabIndexRemove();var s=[].slice.call(this.parent.element.querySelectorAll(".e-card")),i="firstCardSelection"===e?s[0]:s[s.length-1];this.parent.cardSelection(i,!1,!1),this.addRemoveTabIndex("Remove"),i.focus(),[].slice.call(sf.base.closest(i,".e-content-cells").querySelectorAll(".e-card")).forEach((function(e){e.setAttribute("tabindex","0")}))},e.prototype.processLeftRightArrow=function(e){document.activeElement.classList.contains("e-content-cells")&&("rightArrow"===e.action&&document.activeElement.nextElementSibling?document.activeElement.nextElementSibling.focus():"leftArrow"===e.action&&document.activeElement.previousElementSibling&&document.activeElement.previousElementSibling.focus())},e.prototype.processUpDownArrow=function(e,n){if("upArrow"===e&&document.activeElement){if(document.activeElement.classList.contains("e-card")&&document.activeElement.previousElementSibling)document.activeElement.previousElementSibling.focus();else if(document.activeElement.classList.contains(t)){document.activeElement.setAttribute("tabindex","-1"),sf.base.removeClass([document.activeElement],"e-show-add-focus");var s=sf.base.closest(document.activeElement,".e-content-cells");s.querySelectorAll(".e-card").length>0&&[].slice.call(s.querySelectorAll(".e-card")).slice(-1)[0].focus()}this.removeSelection()}else if("downArrow"===e&&document.activeElement&&document.activeElement.classList.contains("e-card")){if(document.activeElement.nextElementSibling)document.activeElement.nextElementSibling.focus();else if(sf.base.closest(document.activeElement,".e-card-container").nextElementSibling){var i=sf.base.closest(document.activeElement,".e-card-container").nextElementSibling;i.setAttribute("tabindex","0"),sf.base.addClass([i],"e-show-add-focus"),i.focus()}this.removeSelection()}if(("multiSelectionByUpArrow"===e||"multiSelectionByDownArrow"===e)&&n&&"Multiple"===this.parent.cardSettings.selectionType){var o=void 0;(o="multiSelectionByUpArrow"===e?document.activeElement.previousElementSibling:document.activeElement.nextElementSibling)&&(this.parent.cardSelection(o,!1,!0),o.focus(),this.multiSelection=!0)}},e.prototype.removeSelection=function(){if(this.multiSelection){var e=this.parent.getSelectedCards();e.length>0&&(sf.base.removeClass(e,"e-selection"),this.parent.disableAttributeSelection(e)),this.multiSelection=!1}},e.prototype.cardTabIndexRemove=function(){[].slice.call(this.parent.element.querySelectorAll(".e-card")).forEach((function(e){e.setAttribute("tabindex","-1")})),[].slice.call(this.parent.element.querySelectorAll("."+t)).forEach((function(e){e.setAttribute("tabindex","-1"),sf.base.removeClass([e],"e-show-add-focus")}))},e.prototype.processEnter=function(e,n){var s=e.target;if(s.classList.contains("e-header-icon")&&s.click(),(s.classList.contains("e-swimlane-row-expand")||s.classList.contains("e-swimlane-row-collapse"))&&s.click(),document.activeElement.classList.contains("e-card")&&this.parent.cardSelection(document.activeElement,!1,!1),document.activeElement.classList.contains(t)&&document.activeElement.focus(),s.classList.contains("e-content-cells")){var i=[].slice.call(s.querySelectorAll(".e-card"));this.addRemoveTabIndex("Remove"),i.length>0&&(s.querySelector(".e-card").focus(),i.forEach((function(e){e.setAttribute("tabindex","0")}))),s.querySelector("."+t)&&(s.querySelector("."+t).setAttribute("tabindex","0"),s.querySelector("."+t).focus())}n===document.activeElement&&1===this.parent.element.querySelectorAll(".e-selection").length&&n.focus()},e.prototype.addRemoveTabIndex=function(e){var t="Add"===e?"0":"-1",n=[].slice.call(this.parent.element.querySelectorAll(".e-header-icon"));n.length>0&&n.forEach((function(e){e.setAttribute("tabindex",t)}));var s=[].slice.call(this.parent.element.querySelectorAll(".e-swimlane-row-expand"));s.length>0&&s.forEach((function(e){e.setAttribute("tabindex",t)}));[].slice.call(this.parent.element.querySelectorAll(".e-content-row:not(.e-swimlane-row) .e-content-cells")).forEach((function(e){e.setAttribute("tabindex",t)}))},e.prototype.destroy=function(){this.keyboardModule.destroy()},e}(),i=function(){function t(e){this.parent=e,this.tabHold=!1}return t.prototype.wireTouchEvents=function(){this.element=this.parent.element.querySelector("."+e),this.touchObj=new sf.base.Touch(this.element,{tapHold:this.tapHoldHandler.bind(this)})},t.prototype.tapHoldHandler=function(e){this.tabHold=!0,sf.base.closest(e.originalEvent.target,".e-card")&&"Multiple"===this.parent.cardSettings.selectionType&&(this.mobilePopup||(this.renderMobilePopup(),this.mobilePopup.show()),this.updatePopupContent())},t.prototype.renderMobilePopup=function(){if("Multiple"===this.parent.cardSettings.selectionType){var e=sf.base.createElement("div",{className:"e-mobile-popup-wrapper e-popup-close",innerHTML:'<div class="e-popup-header"><button class="e-btn e-close e-flat e-round e-small"><span class="e-icons e-close-icon"></span></button></div><div class="e-popup-content"></div>'});document.body.appendChild(e),sf.base.addClass([e],"e-device"),this.mobilePopup=new sf.popups.Popup(e,{targetType:"container",enableRtl:this.parent.enableRtl,hideAnimation:{name:"ZoomOut"},showAnimation:{name:"ZoomIn"},collision:{X:"fit",Y:"fit"},position:{X:"left",Y:"top"},viewPortElement:document.body,zIndex:1004,close:this.popupClose.bind(this)});var t=this.mobilePopup.element.querySelector(".e-close");sf.base.EventHandler.add(t,"click",this.closeClick,this)}},t.prototype.closeClick=function(){this.mobilePopup.hide()},t.prototype.popupClose=function(){this.popupDestroy()},t.prototype.getPopupContent=function(){var e,t=this.parent.getSelectedCards();return t.length>1?e="("+t.length+") Cards Selected":1===t.length&&(e=" "+t[0].getAttribute("data-id")),e},t.prototype.updatePopupContent=function(){if(this.mobilePopup){var e=this.getPopupContent();e?this.mobilePopup.element.querySelector(".e-popup-content").textContent=e:this.mobilePopup.hide()}},t.prototype.popupDestroy=function(){this.mobilePopup&&this.mobilePopup.element&&(this.mobilePopup.destroy(),sf.base.remove(this.mobilePopup.element),this.mobilePopup=null)},t.prototype.unWireTouchEvents=function(){this.touchObj&&this.touchObj.destroy(),this.touchObj=null,this.element=null},t.prototype.destroy=function(){this.popupDestroy(),this.unWireTouchEvents(),this.tabHold=!1},t}(),o=function(){function t(e,t,n){this.element=e,this.dotNetRef=n,this.updateContext(t),this.columnToggleArray=[],this.selectionArray=[],this.lastCardSelection=null,this.lastSelectionRow=null,this.lastCard=null,this.selectedCardsElement=[],this.selectedCardsData=[],this.hideColumnKeys=[],this.scrollPosition={content:{},column:{}},this.initializeModules(),this.scrollUiUpdate(),this.wireEvents(),this.element&&(this.element.blazor__instance=this)}return t.prototype.initializeModules=function(){(this.isAdaptive||sf.base.Browser.isTouch)&&(this.touchModule=new i(this)),this.allowDragAndDrop&&(this.dragAndDropModule=new n(this)),this.allowKeyboard&&(this.keyboardModule=new s(this)),this.scrollPosition.content={left:0,top:0},this.initializeSwimlaneTree()},t.prototype.updateContext=function(e){sf.base.extend(this,this,e)},t.prototype.getSelectedCards=function(){return[].slice.call(this.element.querySelectorAll(".e-card.e-selection"))},t.prototype.documentClick=function(e){if(e.target.classList.contains("e-swimlane-overlay")&&this.element.querySelector(".e-swimlane-resource").classList.contains("e-popup-open")&&(this.treePopup.hide(),sf.base.removeClass([this.popupOverlay],"e-enable")),!sf.base.closest(e.target,".e-kanban")){var t=[].slice.call(this.element.querySelectorAll(".e-card.e-selection"));sf.base.removeClass(t,"e-selection"),this.disableAttributeSelection(t)}},t.prototype.disableAttributeSelection=function(e){e instanceof Element?e.setAttribute("aria-selected","false"):e.forEach((function(e){e.setAttribute("aria-selected","false")}))},t.prototype.wireDragEvent=function(){var e=this;if(this.allowDragAndDrop){var t=[].slice.call(this.element.querySelectorAll(".e-content-cells.e-drag .e-card:not(e-draggable)"));sf.base.addClass(t,"e-droppable"),t.forEach((function(t){return e.dragAndDropModule.wireDragEvents(t)}))}},t.prototype.initializeSwimlaneTree=function(){if(this.swimlaneSettings.keyField&&this.isAdaptive){var t,n=this.element.querySelector(".e-swimlane-header").offsetHeight,s=window.innerHeight-n;this.popupOverlay=this.element.querySelector(".e-swimlane-content .e-swimlane-overlay"),sf.base.setStyleAttribute(this.element.querySelector(".e-swimlane-overlay"),{height:s+"px"}),sf.base.setStyleAttribute(this.element.querySelector(".e-swimlane-content"),{top:n+"px"}),t=this.element.querySelector(".e-swimlane-resource"),sf.base.setStyleAttribute(t,{height:s+"px"});var i={targetType:"relative",actionOnScroll:"none",enableRtl:this.enableRtl,zIndex:10,hideAnimation:{name:"SlideLeftOut",duration:500},showAnimation:{name:"SlideLeftIn",duration:500},viewPortElement:this.element.querySelector("."+e)};this.treePopup=new sf.popups.Popup(t,i)}},t.prototype.cardSelection=function(e,t,n){var s=this;if(e){var i=this.getSelectedCards();if("None"!==this.cardSettings.selectionType){var o=sf.base.closest(e,".e-content-row");if((sf.base.isNullOrUndefined(this.lastSelectionRow)?o.rowIndex:this.lastSelectionRow.rowIndex)!==o.rowIndex&&(t||n)&&"Multiple"===this.cardSettings.selectionType)return;if(0===i.length||t&&"Single"!==this.cardSettings.selectionType||(sf.base.removeClass(i,"e-selection"),this.disableAttributeSelection(i),i.forEach((function(e){s.selectionArray.splice(s.selectionArray.indexOf(e.getAttribute("data-id")),1),s.selectedCardsElement.splice(s.selectedCardsElement.indexOf(e),1)}))),i.length>0&&n&&"Multiple"===this.cardSettings.selectionType){var l=[],a=void 0,r=void 0,c=void 0,d=[].slice.call(o.querySelectorAll(".e-card"));d.forEach((function(e){return l.push(e.getAttribute("data-id"))}));var h=e.getAttribute("data-id"),u=this.lastCard.getAttribute("data-id"),p=r=l.indexOf(h),f=a=l.indexOf(u),g=p>f?"next":"prev";for("prev"===g&&(a=p,r=f),c=a;c<=r;c++){var m=d[c];sf.base.addClass([m],"e-selection"),m.setAttribute("aria-selected","true"),m.setAttribute("tabindex","0"),this.selectionArray.push(m.getAttribute("data-id")),this.selectedCardsElement.push(m),this.lastCardSelection=m,"prev"===g&&(this.lastCardSelection=d[a])}}else if(sf.base.addClass([e],"e-selection"),e.setAttribute("aria-selected","true"),e.setAttribute("tabindex","0"),this.selectionArray.push(e.getAttribute("data-id")),this.selectedCardsElement.push(e),this.lastCard=this.lastCardSelection=e,this.lastSelectionRow=sf.base.closest(e,".e-content-row"),this.lastSelectionRow.previousElementSibling){var b=this.lastSelectionRow.previousElementSibling.querySelector(".e-swimlane-row-expand,.e-swimlane-row-collapse");b&&b.classList.contains("e-swimlane-row-collapse")&&b.click()}}}},t.prototype.scrollUiUpdate=function(){var t=this,n=this.element.querySelector(".e-kanban-header"),s=this.element.querySelector("."+e),i=this.element.offsetHeight-n.offsetHeight;if(this.isAdaptive){i=window.innerHeight-(n.offsetHeight+25);var o=this.element.querySelector(".e-swimlane-header");o&&(i-=o.offsetHeight),[].slice.call(this.element.querySelectorAll(".e-content-cells")).forEach((function(e){var n=e.querySelector(".e-card-container");n.classList.contains("e-multi-card-container")||(n.style.height=sf.base.formatUnit(i),sf.base.EventHandler.add(e,"touchmove",t.onAdaptiveScroll,t))}))}"auto"!==this.height&&"100%"!==this.height&&(s.style.height=sf.base.formatUnit(i)),[].slice.call(n.children).forEach((function(e){var n=0;s.offsetWidth-s.clientWidth>0&&(n=17,s.offsetHeight-s.clientHeight>0&&(e.style.width=sf.base.formatUnit(s.clientWidth))),t.enableRtl?e.style.paddingLeft=sf.base.formatUnit(n):e.style.paddingRight=sf.base.formatUnit(n)}))},t.prototype.onContentScroll=function(e){var t=e.target,n=this.element.querySelector(".e-kanban-header");[].slice.call(n.children).forEach((function(e){e.scrollLeft=t.scrollLeft})),this.scrollPosition.content={left:t.scrollLeft,top:t.scrollTop}},t.prototype.onColumnScroll=function(e){var t=e.target;if(t.offsetParent){var n=t.offsetParent.getAttribute("data-key");this.scrollPosition.column[n]={left:t.scrollLeft,top:t.scrollTop}}},t.prototype.onAdaptiveScroll=function(e){this.touchModule.tabHold&&!this.touchModule.mobilePopup&&e.preventDefault()},t.prototype.updateScrollPosition=function(){var t=this,n=this.element.querySelector("."+e);n&&n.scrollTo(this.scrollPosition.content.left,this.scrollPosition.content.top),[].slice.call(this.element.querySelectorAll(".e-card-container")).forEach((function(e){if(e.offsetParent){var n=t.scrollPosition.column[e.offsetParent.getAttribute("data-key")];n&&e.scrollTo(n.left,n.top)}}))},t.prototype.wireEvents=function(){var t=this,n=this.element.querySelector("."+e);sf.base.EventHandler.add(n,"scroll",this.onContentScroll,this),sf.base.EventHandler.add(document,sf.base.Browser.touchStartEvent,this.documentClick,this),[].slice.call(this.element.querySelectorAll(".e-card-container")).forEach((function(e){e.offsetParent&&(t.scrollPosition.column[e.offsetParent.getAttribute("data-key")]={left:0,top:0}),sf.base.EventHandler.add(e,"scroll",t.onColumnScroll,t)})),this.isAdaptive&&this.touchModule.wireTouchEvents(),this.wireDragEvent()},t.prototype.unWireEvents=function(){var t=this,n=this.element.querySelector("."+e);(sf.base.EventHandler.remove(n,"scroll",this.onContentScroll),sf.base.EventHandler.remove(document,sf.base.Browser.touchStartEvent,this.documentClick),[].slice.call(this.element.querySelectorAll(".e-card-container")).forEach((function(e){sf.base.EventHandler.remove(e,"scroll",t.onColumnScroll)})),this.isAdaptive)&&([].slice.call(this.element.querySelectorAll(".e-content-cells")).forEach((function(e){sf.base.EventHandler.remove(e,"touchmove",t.onAdaptiveScroll)})),this.touchModule.unWireTouchEvents())},t.prototype.onCardClick=function(e,t){if(e.classList.contains("e-selection"))sf.base.removeClass([e],"e-selection"),this.disableAttributeSelection(e);else{var n=t.ctrlKey;this.isAdaptive&&this.touchModule&&(n=this.touchModule.mobilePopup&&this.touchModule.tabHold||n),this.cardSelection(e,n,t.shiftKey)}this.isAdaptive&&this.touchModule&&this.touchModule.updatePopupContent();var s=sf.base.closest(e,".e-content-cells");this.allowKeyboard&&([].slice.call(s.querySelectorAll(".e-card")).forEach((function(e){e.setAttribute("tabindex","0")})),this.keyboardModule.addRemoveTabIndex("Remove"))},t.prototype.onMenuClick=function(){this.element.querySelector(".e-swimlane-resource").classList.contains("e-popup-open")?(this.treePopup.hide(),sf.base.removeClass([this.popupOverlay],"e-enable")):(this.treePopup.show(),sf.base.addClass([this.popupOverlay],"e-enable"))},t.prototype.onListViewClick=function(){this.treePopup.hide(),sf.base.removeClass([this.popupOverlay],"e-enable")},t.prototype.onPropertyChanged=function(e){for(var t=0,n=e;t<n.length;t++){switch(n[t]){case"width":this.setWidth();break;case"height":this.setHeight();break;case"enableRtl":this.enableRtl?sf.base.addClass([this.element],"e-rtl"):sf.base.removeClass([this.element],"e-rtl")}}},t.prototype.onSwimlaneProperties=function(e,t){this.swimlaneSettings.allowDragAndDrop=e,this.swimlaneSettings.keyField=t},t.prototype.setWidth=function(){"100%"===this.width?this.element.style.width="":sf.base.setStyleAttribute(this.element,{width:sf.base.formatUnit(this.width)})},t.prototype.setHeight=function(){sf.base.setStyleAttribute(this.element,{height:sf.base.formatUnit(this.height)})},t.prototype.destroy=function(){this.touchModule&&this.touchModule.destroy(),this.dragAndDropModule&&this.dragAndDropModule.destroy(),this.keyboardModule&&this.keyboardModule.destroy(),this.unWireEvents()},t}();return{initialize:function(e,t,n){e&&new o(e,t,n)},isDevice:function(e){e.invokeMethodAsync("WindowWidth",70*window.innerWidth/100)},updateScrollPosition:function(e){e&&e.blazor__instance&&e.blazor__instance.updateScrollPosition()},wireDragEvents:function(e){e&&e.blazor__instance&&e.blazor__instance.wireDragEvent()},propertyChanged:function(e,t){sf.base.isNullOrUndefined(e)||e.blazor__instance.onPropertyChanged(t)},swimlaneProperties:function(e,t,n){sf.base.isNullOrUndefined(e)||e.blazor__instance.onSwimlaneProperties(t,n)},cardClick:function(e,t,n){e.blazor__instance.onCardClick(t,n)},menuClick:function(e){e.blazor__instance.onMenuClick()},listViewClick:function(e){e.blazor__instance.onListViewClick()},getTargetDetails:function(e,t,n,s){if(e&&e.blazor__instance){var i=document.elementFromPoint(t,n),o=void 0,l=null;return s?(o=sf.base.closest(i,".e-card"),l=JSON.stringify(o.getAttribute("data-id"))):i.classList.contains("e-tooltip-text")&&(l=JSON.stringify(i.innerHTML)),l}return null},destroy:function(e){e&&e.blazor__instance&&e.blazor__instance.destroy()}}}()}});