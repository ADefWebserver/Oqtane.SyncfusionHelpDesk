!function(e){var t={};function s(i){if(t[i])return t[i].exports;var l=t[i]={i:i,l:!1,exports:{}};return e[i].call(l.exports,l,l.exports,s),l.l=!0,l.exports}s.m=e,s.c=t,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)s.d(i,l,function(t){return e[t]}.bind(null,l));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="_content/Syncfusion.Blazor/scripts/",s(s.s="./bundles/multiselect.js")}({"./bundles/multiselect.js":function(e,t,s){"use strict";s.r(t);s("./modules/multiselect.js")},"./modules/multiselect.js":function(e,t){function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window.sf=window.sf||{};sf.dropdowns=sf.base.extend({},sf.dropdowns,function(e){"use strict";var t="e-label-top",i="e-label-bottom";function l(e,s,l,o,n,r,h){var p,c;p=sf.base.createElement("span",{className:"e-float-line"}),c=sf.base.createElement("label",{className:"e-float-text"}),sf.base.isNullOrUndefined(l.id)||""===l.id||(c.id="label_"+l.id.replace(/ /g,"_"),sf.base.attributes(l,{"aria-labelledby":c.id})),sf.base.isNullOrUndefined(o.placeholder)||""===o.placeholder||(c.innerText=sf.base.SanitizeHtmlHelper.sanitize(o.placeholder),o.removeAttribute("placeholder")),c.innerText=sf.base.SanitizeHtmlHelper.sanitize(h),s.appendChild(p),s.appendChild(c),e.classList.add("e-float-input"),a(n,c),"Always"===r&&(c.classList.contains(i)&&sf.base.removeClass([c],i),sf.base.addClass([c],t))}function a(e,s){e&&e.length>0?(sf.base.addClass([s],t),sf.base.removeClass([s],i)):(sf.base.removeClass([s],t),sf.base.addClass([s],i))}function o(e,t,s,i,l,a,o){var r,h=t.querySelector(".e-float-text"),p=t.querySelector(".e-float-line");sf.base.isNullOrUndefined(h)?n(l,i,r=null!==o?o:""):(r=h.innerText,sf.base.detach(s.querySelector(".e-float-text")),n(l,i,r),sf.base.isNullOrUndefined(p)||sf.base.detach(s.querySelector(".e-float-line"))),e.classList.remove("e-float-input")}function n(e,t,s){e&&e.length?t.placeholder="":t.placeholder=s}function r(e,s){e.classList.add("e-input-focus");var l=s.querySelector(".e-float-text");sf.base.isNullOrUndefined(l)||(sf.base.addClass([l],t),l.classList.contains(i)&&sf.base.removeClass([l],i))}function h(e,s,l,a,o){e.classList.remove("e-input-focus");var n=s.querySelector(".e-float-text");l&&l.length<=0&&"Auto"===a&&!sf.base.isNullOrUndefined(n)&&(n.classList.contains(t)&&sf.base.removeClass([n],t),sf.base.addClass([n],i))}var p,c=(p=function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(e,t)},function(e,t){function s(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}),d=function(e,t,i,l){var a,o=arguments.length,n=o<3?t:null===l?l=Object.getOwnPropertyDescriptor(t,i):l;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,l);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(n=(o<3?a(n):o>3?a(t,i,n):a(t,i))||n);return o>3&&n&&Object.defineProperty(t,i,n),n},u="e-input-focus",f="e-hide-listitem",m="e-chips",v=function(e){function t(t,s){var i=e.call(this,t,s)||this;return i.clearIconWidth=0,i.isValidKey=!1,i.selectAllEventData=[],i.selectAllEventEle=[],i.isDynamicDataChange=!1,i.scrollFocusStatus=!1,i.keyDownStatus=!1,i}return c(t,e),t.prototype.enableRTL=function(e){e?this.overAllWrapper.classList.add("e-rtl"):this.overAllWrapper.classList.remove("e-rtl"),this.popupObj&&(this.popupObj.enableRtl=e,this.popupObj.dataBind())},t.prototype.requiredModules=function(){var e=[];if("CheckBox"===this.mode){if(this.isGroupChecking=this.enableGroupCheckBox,this.enableGroupCheckBox){var t=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.enableSelectionOrder=!1,this.isProtectedOnChange=t}this.allowCustomValue=!1,this.hideSelectedItem=!1,this.closePopupOnSelect=!1,e.push({member:"CheckBoxSelection",args:[this]})}return e},t.prototype.updateHTMLAttribute=function(){if(Object.keys(this.htmlAttributes).length)for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var s=t[e];switch(s){case"class":var i=this.htmlAttributes[s].replace(/\s+/g," ").trim();""!==i&&(sf.base.addClass([this.overAllWrapper],i.split(" ")),sf.base.addClass([this.popupWrapper],i.split(" ")));break;case"disabled":this.enable(!1);break;case"placeholder":this.placeholder||(this.inputElement.setAttribute(s,this.htmlAttributes[s]),this.setProperties({placeholder:this.inputElement.placeholder},!0),this.refreshPlaceHolder());break;default:["id"].indexOf(s)>-1?this.element.setAttribute(s,this.htmlAttributes[s]):0===s.indexOf("data")||["name","required","aria-required","form"].indexOf(s)>-1?this.hiddenElement.setAttribute(s,this.htmlAttributes[s]):["title","role","style","class"].indexOf(s)>-1?this.overAllWrapper.setAttribute(s,this.htmlAttributes[s]):this.inputElement.setAttribute(s,this.htmlAttributes[s])}}},t.prototype.updateReadonly=function(e){e||"CheckBox"===this.mode?this.inputElement.setAttribute("readonly","true"):this.inputElement.removeAttribute("readonly")},t.prototype.updateClearButton=function(e){e?(this.overAllClear.parentNode?this.overAllClear.style.display="":this.componentWrapper.appendChild(this.overAllClear),this.componentWrapper.classList.remove("e-close-icon-hide")):(this.overAllClear.style.display="none",this.componentWrapper.classList.add("e-close-icon-hide"))},t.prototype.updateCssClass=function(){if(!sf.base.isNullOrUndefined(this.cssClass)&&""!==this.cssClass){var e=this.cssClass;""!==(e=this.cssClass.replace(/\s+/g," ").trim())&&(sf.base.addClass([this.overAllWrapper],e.split(" ")),sf.base.addClass([this.popupWrapper],e.split(" ")))}},t.prototype.updateOldPropCssClass=function(e){sf.base.isNullOrUndefined(e)||""===e||""!==(e=e.replace(/\s+/g," ").trim())&&(sf.base.removeClass([this.overAllWrapper],e.split(" ")),sf.base.removeClass([this.popupWrapper],e.split(" ")))},t.prototype.onPopupShown=function(){var e=this;if(sf.base.Browser.isDevice&&"CheckBox"===this.mode&&this.allowFiltering){var t=this;window.onpopstate=function(){t.hidePopup(),t.inputElement.focus()},history.pushState({},"")}var s={popup:this.popupObj,cancel:!1,animation:{name:"FadeIn",duration:100}};this.trigger("open",s,(function(t){t.cancel||(e.focusAtFirstListItem(),document.body.appendChild(e.popupObj.element),"CheckBox"===e.mode&&e.enableGroupCheckBox&&!sf.base.isNullOrUndefined(e.fields.groupBy)&&e.updateListItems(e.list.querySelectorAll("li.e-list-item"),e.mainList.querySelectorAll("li.e-list-item")),("CheckBox"===e.mode||e.showDropDownIcon)&&sf.base.addClass([e.overAllWrapper],["e-icon-anim"]),e.refreshPopup(),e.renderReactTemplates(),e.popupObj.show(t.animation,1e3===e.zIndex?e.element:null),sf.base.attributes(e.inputElement,{"aria-expanded":"true"}),e.isFirstClick&&e.loadTemplate())}))},t.prototype.updateListItems=function(e,t){for(var s=0;s<e.length;s++)this.findGroupStart(e[s]),this.findGroupStart(t[s]);this.deselectHeader()},t.prototype.loadTemplate=function(){var e=this;"CheckBox"===this.mode&&this.itemTemplate&&sf.base.isBlazor()&&this.isServerRendered&&this.mainData&&this.mainData.length>0?setTimeout((function(){e.refreshListItems(null),"CheckBox"===e.mode&&e.removeFocus(),e.notify("reOrder",{module:"CheckBoxSelection",enable:"CheckBox"===e.mode,e:e})}),this.mainData.length<100?100:this.mainData.length):(this.refreshListItems(null),"CheckBox"===this.mode&&this.removeFocus(),this.notify("reOrder",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,e:this}))},t.prototype.setScrollPosition=function(){if((!this.hideSelectedItem&&"CheckBox"!==this.mode||"CheckBox"===this.mode&&!this.enableSelectionOrder)&&!sf.base.isNullOrUndefined(this.value)&&this.value.length>0){var e=this.findListElement(this.hideSelectedItem?this.ulElement:this.list,"li","data-value",this.value[this.value.length-1]);sf.base.isNullOrUndefined(e)||this.scrollBottom(e)}},t.prototype.focusAtFirstListItem=function(){if(this.ulElement&&this.ulElement.querySelector("li."+sf.dropdowns.dropDownBaseClasses.li)){var e=void 0;if("CheckBox"===this.mode)return void this.removeFocus();null!==(e=this.ulElement.querySelector("li."+sf.dropdowns.dropDownBaseClasses.li+":not(."+f+")"))&&(this.removeFocus(),this.addListFocus(e))}},t.prototype.focusAtLastListItem=function(e){var t;e?t=sf.dropdowns.Search(e,this.liCollections,"StartsWith",this.ignoreCase):this.value&&this.value.length?sf.dropdowns.Search(this.value[this.value.length-1],this.liCollections,"StartsWith",this.ignoreCase):t=null,t&&null!==t.item&&(this.addListFocus(t.item),this.scrollBottom(t.item,t.index))},t.prototype.getAriaAttributes=function(){return{"aria-disabled":"false","aria-owns":this.element.id+"_options",role:"listbox","aria-multiselectable":"true","aria-activedescendant":"null","aria-haspopup":"true","aria-expanded":"false"}},t.prototype.updateListARIA=function(){sf.base.attributes(this.ulElement,{id:this.element.id+"_options",role:"listbox","aria-hidden":"false"});var e=!!this.inputElement.disabled;sf.base.attributes(this.inputElement,this.getAriaAttributes()),e&&sf.base.attributes(this.inputElement,{"aria-disabled":"true"}),this.ensureAriaDisabled(e?"true":"false")},t.prototype.ensureAriaDisabled=function(e){if(this.htmlAttributes&&this.htmlAttributes["aria-disabled"]){var t=this.htmlAttributes;sf.base.extend(t,{"aria-disabled":e},t),this.setProperties({htmlAttributes:t},!0)}},t.prototype.removelastSelection=function(e){var t,s=(t=this.chipCollectionWrapper.querySelectorAll("span."+m))[t.length-1].getAttribute("data-value");sf.base.isNullOrUndefined(this.value)||(this.tempValues=this.value.slice()),this.removeValue(s,e),this.removeChipSelection(),this.updateDelimeter(this.delimiterChar,e),this.makeTextBoxEmpty(),this.mainList&&this.listData&&this.refreshSelection(),this.checkPlaceholderSize()},t.prototype.onActionFailure=function(t){e.prototype.onActionFailure.call(this,t),this.renderPopup(),this.onPopupShown()},t.prototype.targetElement=function(){return this.targetInputElement=this.inputElement,"CheckBox"===this.mode&&this.allowFiltering&&this.notify("targetElement",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode}),this.targetInputElement.value},t.prototype.getForQuery=function(e){for(var t,s=sf.base.isNullOrUndefined(this.fields.value)?this.fields.text:this.fields.value,i=0;i<e.length;i++)t=0===i?new sf.data.Predicate(s,"equal",e[i]):t.or(s,"equal",e[i]);return this.getQuery(this.query).where(t)},t.prototype.onActionComplete=function(t,s,i,l){e.prototype.onActionComplete.call(this,t,s,i),this.updateSelectElementData(this.allowFiltering);if(sf.base.isBlazor()&&this.isServerRendered&&this.isDynamicDataChange&&null!==this.value&&this.value.length>0){for(var a=[],o=0;o<this.value.length;o++){var n=this.getDataByValue(this.value[o]);n&&a.push(n[this.fields.value])}0===a.length&&this.setProperties({value:null})}if(!sf.base.isNullOrUndefined(this.value)&&!this.allowCustomValue)for(var r=0;r<this.value.length;r++){this.findListElement(this.allowFiltering&&!sf.base.isNullOrUndefined(this.mainList)?this.mainList:t,"li","data-value",this.value[r])||(this.value.splice(r,1),r-=1)}this.updateActionList(t,s,i),sf.base.isBlazor()&&this.isServerRendered&&this.allowFiltering&&"CheckBox"===this.mode&&this.removeFocus(),sf.base.isBlazor()&&this.isServerRendered&&this.isDynamicDataChange&&this.value&&this.value.length>0&&(this.updateVal(this.value,null,"value"),this.addValidInputClass(),this.isDynamicDataChange=!1),!(this.dataSource instanceof sf.data.DataManager&&"CheckBox"===this.mode&&this.allowFiltering)||sf.base.isBlazor()&&this.isServerRendered||this.removeFocus()},t.prototype.updateActionList=function(e,t,s,i){"CheckBox"===this.mode&&this.showSelectAll&&this.notify("selectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode}),this.mainList||this.mainData?sf.base.isNullOrUndefined(this.mainData)||0!==this.mainData.length||(this.mainData=t):(this.mainList=e.cloneNode?e.cloneNode(!0):e,this.mainData=t,this.mainListCollection=this.liCollections),(this.remoteCustomValue||t.length<=0)&&this.allowCustomValue&&this.inputFocus&&this.allowFiltering&&this.inputElement.value&&""!==this.inputElement.value?this.checkForCustomValue(this.tempQuery,this.fields):(this.value&&this.value.length&&("CheckBox"!==this.mode&&""!==this.inputElement.value||"CheckBox"===this.mode)&&this.refreshSelection(),this.updateListARIA(),this.unwireListEvents(),this.wireListEvents(),sf.base.isNullOrUndefined(this.setInitialValue)||this.setInitialValue(),sf.base.isNullOrUndefined(this.selectAllAction)||this.selectAllAction(),this.setDynValue&&(sf.base.isNullOrUndefined(this.text)||!sf.base.isNullOrUndefined(this.value)&&0!==this.value.length||this.initialTextUpdate(),this.initialValueUpdate(),this.initialUpdate(),this.refreshPlaceHolder(),"CheckBox"!==this.mode&&this.changeOnBlur&&this.updateValueState(null,this.value,null)),this.renderPopup(),this.beforePopupOpen&&(this.beforePopupOpen=!1,this.onPopupShown()))},t.prototype.refreshSelection=function(){var e,t,s=this.hideSelectedItem?f:sf.dropdowns.dropDownBaseClasses.selected;if(!sf.base.isNullOrUndefined(this.value))for(var i=0;!sf.base.isNullOrUndefined(this.value[i]);i++)if(e=this.value[i],t=this.findListElement(this.list,"li","data-value",e)){if(sf.base.addClass([t],s),this.hideSelectedItem&&t.previousSibling&&t.previousElementSibling.classList.contains(sf.dropdowns.dropDownBaseClasses.group)&&(!t.nextElementSibling||t.nextElementSibling.classList.contains(sf.dropdowns.dropDownBaseClasses.group))&&sf.base.addClass([t.previousElementSibling],s),this.hideSelectedItem&&this.fields.groupBy&&!t.previousElementSibling.classList.contains(f)&&this.hideGroupItem(e),this.hideSelectedItem&&t.classList.contains(sf.dropdowns.dropDownBaseClasses.focus)){sf.base.removeClass([t],sf.dropdowns.dropDownBaseClasses.focus);var l=t.parentElement.querySelectorAll("."+sf.dropdowns.dropDownBaseClasses.li+":not(."+f+")");l.length>0?sf.base.addClass([l[0]],sf.dropdowns.dropDownBaseClasses.focus):(this.ulElement=this.ulElement.cloneNode?this.ulElement.cloneNode(!0):this.ulElement,this.l10nUpdate(),sf.base.addClass([this.list],sf.dropdowns.dropDownBaseClasses.noData))}if(t.setAttribute("aria-selected","true"),"CheckBox"===this.mode&&t.classList.contains("e-active")){var a=t.firstElementChild.getAttribute("aria-checked");if(sf.base.isNullOrUndefined(a)||"false"===a){var o={module:"CheckBoxSelection",enable:"CheckBox"===this.mode,li:t,e:null};this.notify("updatelist",o)}}}this.checkSelectAll(),this.checkMaxSelection()},t.prototype.hideGroupItem=function(e){var t,s,i=this.hideSelectedItem?f:sf.dropdowns.dropDownBaseClasses.selected;s=t=this.findListElement(this.ulElement,"li","data-value",e);var l=0,a=0,o=!0,n=!0;do{t&&t.previousElementSibling&&!t.previousElementSibling.classList.contains(f)&&t.previousElementSibling.classList.contains(sf.dropdowns.dropDownBaseClasses.li)&&(o=!1),!o||!t||t.previousElementSibling&&t.previousElementSibling.classList.contains(sf.dropdowns.dropDownBaseClasses.group)?l=10:t=t.previousElementSibling,s&&s.nextElementSibling&&!s.nextElementSibling.classList.contains(f)&&s.nextElementSibling.classList.contains(sf.dropdowns.dropDownBaseClasses.li)&&(n=!1),!n||!s||s.nextElementSibling&&s.nextElementSibling.classList.contains(sf.dropdowns.dropDownBaseClasses.group)?a=10:s=s.nextElementSibling}while(l<10||a<10);o&&n&&!t.previousElementSibling.classList.contains(f)?sf.base.addClass([t.previousElementSibling],i):o&&n&&t.previousElementSibling.classList.contains(f)&&sf.base.removeClass([t.previousElementSibling],i)},t.prototype.checkSelectAll=function(){var e=this.list.querySelectorAll("li.e-list-group-item.e-active").length,t=this.list.querySelectorAll("li.e-list-item"),s=this.list.querySelectorAll("li."+sf.dropdowns.dropDownBaseClasses.li).length,i=this.list.querySelectorAll("li."+sf.dropdowns.dropDownBaseClasses.selected).length;if(this.enableGroupCheckBox&&!sf.base.isNullOrUndefined(this.fields.groupBy)&&(i-=e),s!==i&&i!==this.maximumSelectionLength||"CheckBox"!==this.mode||!this.showSelectAll?s!==i&&"CheckBox"===this.mode&&this.showSelectAll&&this.notify("checkSelectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:"uncheck"}):this.notify("checkSelectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:"check"}),this.enableGroupCheckBox&&this.fields.groupBy&&!this.enableSelectionOrder){for(var l=0;l<t.length;l++)this.findGroupStart(t[l]);this.deselectHeader()}},t.prototype.openClick=function(e){this.openOnClick||"CheckBox"===this.mode?this.openOnClick||"CheckBox"!==this.mode||this.isPopupOpen()||this.showPopup():""!==this.targetElement()?this.showPopup():this.hidePopup()},t.prototype.KeyUp=function(e){if("CheckBox"===this.mode&&!this.openOnClick){var t=String.fromCharCode(e.keyCode).match(/\w/);sf.base.isNullOrUndefined(t)||(this.isValidKey=!0)}this.isValidKey=this.isPopupOpen()&&8===e.keyCode||this.isValidKey,this.isValidKey=(!e.ctrlKey||86!==e.keyCode)&&this.isValidKey,this.isValidKey&&(this.isValidKey=!1,this.expandTextbox(),this.showOverAllClear(),e.keyCode,this.search(e))},t.prototype.filter=function(e,t,s){this.isFiltered=!0,this.remoteFilterAction=!0,this.dataUpdater(e,t,s)},t.prototype.getQuery=function(e){var t=e?e.clone():this.query?this.query.clone():new sf.data.Query;if(this.filterAction){if(null!==this.targetElement()){var s=this.typeOfData(this.dataSource).typeof;if((this.dataSource instanceof sf.data.DataManager||"string"!==s)&&"number"!==s){var i=this.fields;t.where(sf.base.isNullOrUndefined(i.text)?"":i.text,this.filterType,this.targetElement(),this.ignoreCase,this.ignoreAccent)}else t.where("",this.filterType,this.targetElement(),this.ignoreCase,this.ignoreAccent)}return t}return e||(this.query?this.query:new sf.data.Query)},t.prototype.dataUpdater=function(e,t,s){if(this.isDataFetched=!1,""===this.targetElement().trim()){var i=this.mainList.cloneNode?this.mainList.cloneNode(!0):this.mainList;this.backCommand&&(this.remoteCustomValue=!1,this.onActionComplete(i,this.mainData),this.value&&this.value.length&&this.refreshSelection(),8!==this.keyCode&&this.focusAtFirstListItem(),this.notify("reOrder",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,e:this}))}else this.resetList(e,s,t),this.allowCustomValue&&(e instanceof sf.data.DataManager?(this.remoteCustomValue=!0,this.tempQuery=t):this.checkForCustomValue(t,s));this.refreshPopup(),"CheckBox"===this.mode&&this.removeFocus()},t.prototype.checkForCustomValue=function(e,t){var s=!this.getValueByText(this.inputElement.value,this.ignoreCase);if(this.allowCustomValue&&s){var i=this.inputElement.value,l=t||this.fields;if("string"!=typeof(!sf.base.isNullOrUndefined(this.mainData)&&this.mainData.length>0?this.mainData[0]:this.mainData)){var a={};sf.base.setValue(l.text,i,a),sf.base.setValue(l.value,i,a),(o=JSON.parse(JSON.stringify(this.listData))).splice(0,0,a),this.resetList(o,l,e)}else{var o=[this.inputElement.value];this.resetList(o,l)}}this.value&&this.value.length&&this.refreshSelection()},t.prototype.getNgDirective=function(){return"EJS-MULTISELECT"},t.prototype.wrapperClick=function(e){if(this.setDynValue=!1,this.enabled)if(e.target!==this.overAllClear){if(this.inputFocus||this.inputElement.focus(),!this.readonly){if(e.target&&-1!==e.target.classList.toString().indexOf("e-chips-close"))return void(this.isPopupOpen()&&this.refreshPopup());!this.isPopupOpen()&&(this.openOnClick||this.showDropDownIcon&&e.target&&"e-input-group-icon e-ddl-icon"===e.target.className)?this.showPopup():(this.hidePopup(),"CheckBox"===this.mode&&(this.showOverAllClear(),this.inputFocus=!0,this.overAllWrapper.classList.contains(u)||this.overAllWrapper.classList.add(u)))}this.targetElement()&&""!==this.targetElement()||e.preventDefault()}else e.preventDefault()},t.prototype.enable=function(e){e?(this.overAllWrapper.classList.remove("e-disabled"),this.inputElement.removeAttribute("disabled"),sf.base.attributes(this.inputElement,{"aria-disabled":"false"}),this.ensureAriaDisabled("false")):(this.overAllWrapper.classList.add("e-disabled"),this.inputElement.setAttribute("disabled","true"),sf.base.attributes(this.inputElement,{"aria-disabled":"true"}),this.ensureAriaDisabled("true")),this.enabled!==e&&(this.enabled=e),this.hidePopup()},t.prototype.onBlur=function(e,t){var s;if(sf.base.isNullOrUndefined(e)||(s=e.relatedTarget),this.popupObj&&document.body.contains(this.popupObj.element)&&this.popupObj.element.contains(s))"CheckBox"!==this.mode?this.inputElement.focus():"Auto"===this.floatLabelType&&(this.overAllWrapper.classList.contains("e-outline")||this.overAllWrapper.classList.contains("e-filled"))&&sf.base.addClass([this.overAllWrapper],"e-valid-input");else{if("Auto"===this.floatLabelType&&this.overAllWrapper.classList.contains("e-outline")&&"CheckBox"===this.mode&&(sf.base.isNullOrUndefined(this.value)||0===this.value.length)&&sf.base.removeClass([this.overAllWrapper],"e-valid-input"),"CheckBox"===this.mode&&sf.base.Browser.isIE&&!sf.base.isNullOrUndefined(e)&&!t)return this.inputFocus=!1,void this.overAllWrapper.classList.remove(u);if(this.scrollFocusStatus)return sf.base.isNullOrUndefined(e)||e.preventDefault(),this.inputElement.focus(),void(this.scrollFocusStatus=!1);this.inputFocus=!1,this.overAllWrapper.classList.remove(u),this.refreshListItems(null),"Box"!==this.mode&&"CheckBox"!==this.mode&&this.updateDelimView(),this.changeOnBlur&&(this.updateValueState(e,this.value,this.tempValues),this.dispatchEvent(this.hiddenElement,"change")),this.overAllClear.style.display="none",this.isPopupOpen()&&(this.DropDownBaseresetBlazorTemplates(!1,!1,!0,!0,!1,!0,!0),this.hidePopup()),this.makeTextBoxEmpty(),this.trigger("blur"),this.focused=!0,sf.base.Browser.isDevice&&"Delimiter"!==this.mode&&"CheckBox"!==this.mode&&this.removeChipFocus(),this.removeChipSelection(),this.refreshInputHight(),h(this.overAllWrapper,this.componentWrapper,this.value,this.floatLabelType,this.placeholder),this.refreshPlaceHolder(),(this.allowFiltering||!0===this.enableSelectionOrder&&"CheckBox"===this.mode)&&!sf.base.isNullOrUndefined(this.mainList)&&(this.ulElement=this.mainList),this.checkPlaceholderSize()}},t.prototype.checkPlaceholderSize=function(){if(this.showDropDownIcon){var e=this.dropIcon.offsetWidth+parseInt(window.getComputedStyle(this.dropIcon).marginRight,10);this.setPlaceholderSize(e)}else sf.base.isNullOrUndefined(this.dropIcon)||this.setPlaceholderSize(this.showDropDownIcon?this.dropIcon.offsetWidth:0)},t.prototype.setPlaceholderSize=function(e){sf.base.isNullOrUndefined(this.value)||0===this.value.length?0!==this.dropIcon.offsetWidth?this.searchWrapper.style.width="calc(100% - "+(e+10)+"px":sf.base.addClass([this.searchWrapper],"e-search-custom-width"):sf.base.isNullOrUndefined(this.value)||(this.searchWrapper.removeAttribute("style"),sf.base.removeClass([this.searchWrapper],"e-search-custom-width"))},t.prototype.refreshInputHight=function(){this.value&&this.value.length||!sf.base.isNullOrUndefined(this.text)&&""!==this.text?this.searchWrapper.classList.add("e-zero-size"):this.searchWrapper.classList.remove("e-zero-size")},t.prototype.validateValues=function(e,t){return JSON.stringify(e.slice().sort())!==JSON.stringify(t.slice().sort())},t.prototype.updateValueState=function(e,t,s){var i=t||[],l=s||[];if(this.initStatus&&this.validateValues(i,l)){var a={e:e,oldValue:s,value:t,isInteracted:!!e,element:this.element};this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",a),this.updateTempValue(),this.changeOnBlur||this.dispatchEvent(this.hiddenElement,"change")}},t.prototype.updateTempValue=function(){this.value?this.tempValues=this.value.slice():this.tempValues=this.value},t.prototype.getPagingCount=function(){var e=this.list.classList.contains(sf.dropdowns.dropDownBaseClasses.noData)?null:getComputedStyle(this.getItems()[0],null).getPropertyValue("height");return Math.round(this.list.offsetHeight/parseInt(e,10))},t.prototype.pageUpSelection=function(e){var t,s=this.list.querySelectorAll("li."+sf.dropdowns.dropDownBaseClasses.li+":not(."+f+"):not(.e-reorder-hide)");t=e>=0?s[e+1]:s[0],this.addListFocus(t),this.scrollBottom(t,this.getIndexByValue(t.getAttribute("data-value")))},t.prototype.pageDownSelection=function(e){this.getItems();var t,s=this.list.querySelectorAll("li."+sf.dropdowns.dropDownBaseClasses.li+":not(."+f+"):not(.e-reorder-hide)");t=e<=s.length?s[e-1]:s[s.length-1],this.addListFocus(t),this.scrollBottom(t,this.getIndexByValue(t.getAttribute("data-value")))},t.prototype.getItems=function(){return this.list||e.prototype.render.call(this),this.ulElement&&this.ulElement.querySelectorAll("."+sf.dropdowns.dropDownBaseClasses.li).length>0?this.ulElement.querySelectorAll("."+sf.dropdowns.dropDownBaseClasses.li+":not(."+f+")"):[]},t.prototype.focusInHandler=function(e){if(this.enabled){if(this.showOverAllClear(),this.inputFocus=!0,this.value&&this.value.length&&("Delimiter"!==this.mode&&"CheckBox"!==this.mode?this.chipCollectionWrapper.style.display="":this.showDelimWrapper(),"CheckBox"!==this.mode&&(this.viewWrapper.style.display="none")),"CheckBox"!==this.mode&&this.searchWrapper.classList.remove("e-zero-size"),this.checkPlaceholderSize(),this.focused){var t={isInteracted:!!e,event:e};this.trigger("focus",t),this.focused=!1}return this.overAllWrapper.classList.contains(u)||this.overAllWrapper.classList.add(u),r(this.overAllWrapper,this.componentWrapper),this.isPopupOpen()&&this.refreshPopup(),!0}return!1},t.prototype.showDelimWrapper=function(){"CheckBox"===this.mode?this.viewWrapper.style.display="":this.delimiterWrapper.style.display="",this.componentWrapper.classList.add("e-delimiter")},t.prototype.hideDelimWrapper=function(){this.delimiterWrapper.style.display="none",this.componentWrapper.classList.remove("e-delimiter")},t.prototype.expandTextbox=function(){var e=5;this.placeholder&&(e=e>this.inputElement.placeholder.length?e:this.inputElement.placeholder.length),this.inputElement.value.length>e?this.inputElement.size=this.inputElement.value.length:this.inputElement.size=e},t.prototype.isPopupOpen=function(){return null!==this.popupWrapper&&null!==this.popupWrapper.parentElement},t.prototype.refreshPopup=function(){this.popupObj&&this.mobFilter&&(this.popupObj.setProperties({width:this.calcPopupWidth()}),this.popupObj.refreshPosition(this.overAllWrapper),this.popupObj.resolveCollision())},t.prototype.checkTextLength=function(){return this.targetElement().length<1},t.prototype.popupKeyActions=function(e){switch(e.keyCode){case 38:this.hidePopup(),"CheckBox"===this.mode&&this.inputElement.focus(),e.preventDefault();break;case 40:this.isPopupOpen()||(this.showPopup(),e.preventDefault())}},t.prototype.updateAriaAttribute=function(){var e=this.list.querySelector("."+sf.dropdowns.dropDownBaseClasses.focus);sf.base.isNullOrUndefined(e)||this.inputElement.setAttribute("aria-activedescendant",e.id)},t.prototype.homeNavigation=function(e){this.removeFocus();var t=this.ulElement.querySelectorAll("li."+sf.dropdowns.dropDownBaseClasses.li+":not(."+f+"):not(.e-reorder-hide)");if(t.length>0){var s=t[e?0:t.length-1];s.classList.add(sf.dropdowns.dropDownBaseClasses.focus),this.scrollBottom(s)}},t.prototype.onKeyDown=function(e){if(!this.readonly&&(this.enabled||"CheckBox"===this.mode)&&(this.keyDownStatus=!0,!(e.keyCode>111&&e.keyCode<124)))if(e.altKey)this.popupKeyActions(e);else{if(this.isPopupOpen()){var t=this.list.querySelector("."+sf.dropdowns.dropDownBaseClasses.focus);switch(e.keyCode){case 36:case 35:this.homeNavigation(36===e.keyCode);break;case 33:return e.preventDefault(),void(t&&(this.getIndexByValue(t.getAttribute("data-value")),this.pageUpSelection(void 0-this.getPagingCount()),this.updateAriaAttribute()));case 34:return e.preventDefault(),void(t&&(this.getIndexByValue(t.getAttribute("data-value")),this.pageDownSelection(void 0+this.getPagingCount()),this.updateAriaAttribute()));case 38:this.arrowUp(e);break;case 40:this.arrowDown(e);break;case 27:return e.preventDefault(),this.hidePopup(),void("CheckBox"===this.mode&&this.inputElement.focus());case 13:return e.preventDefault(),"CheckBox"!==this.mode&&this.selectByKey(e),void this.checkPlaceholderSize();case 32:return void this.spaceKeySelection(e);case 9:e.preventDefault(),this.hidePopup(),this.inputElement.focus(),this.overAllWrapper.classList.add(u)}}else switch(e.keyCode){case 13:case 9:case 16:case 17:case 20:return;case 40:this.openOnClick&&this.showPopup();break;case 27:return e.preventDefault(),void this.escapeAction()}this.checkTextLength()&&this.keyNavigation(e),"CheckBox"===this.mode&&this.enableSelectionOrder&&this.checkBackCommand(e),this.expandTextbox(),this.refreshPopup()}},t.prototype.arrowDown=function(e){e.preventDefault(),this.moveByList(1),this.keyAction=!0,(document.activeElement.classList.contains("e-input-filter")||"CheckBox"===this.mode&&!this.allowFiltering&&document.activeElement!==this.list)&&(this.list.focus(),sf.base.EventHandler.add(this.list,"keydown",this.onKeyDown,this)),this.updateAriaAttribute()},t.prototype.arrowUp=function(e){e.preventDefault(),this.keyAction=!0;var t=this.list.querySelectorAll("li."+sf.dropdowns.dropDownBaseClasses.li+":not(."+f+"):not(.e-reorder-hide)");this.enableGroupCheckBox&&"CheckBox"===this.mode&&!sf.base.isNullOrUndefined(this.fields.groupBy)&&(t=this.list.querySelectorAll("li."+sf.dropdowns.dropDownBaseClasses.li+",li."+sf.dropdowns.dropDownBaseClasses.group+":not(."+f+"):not(.e-reorder-hide)"));var s=this.list.querySelector("li."+sf.dropdowns.dropDownBaseClasses.focus);Array.prototype.slice.call(t).indexOf(s)<=0&&"CheckBox"===this.mode&&this.allowFiltering&&(this.keyAction=!1,this.notify("inputFocus",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:"focus"})),this.moveByList(-1),this.updateAriaAttribute()},t.prototype.spaceKeySelection=function(e){"CheckBox"===this.mode&&(document.activeElement.classList.contains("e-input-filter")||(e.preventDefault(),this.keyAction=!0,this.list.focus()),this.selectByKey(e)),this.checkPlaceholderSize()},t.prototype.checkBackCommand=function(e){8===e.keyCode&&""===this.targetElement()?this.backCommand=!1:this.backCommand=!0},t.prototype.keyNavigation=function(e){if("Delimiter"!==this.mode&&"CheckBox"!==this.mode&&this.value&&this.value.length)switch(e.keyCode){case 37:e.preventDefault(),this.moveBy(-1,e);break;case 39:e.preventDefault(),this.moveBy(1,e);break;case 8:this.removelastSelection(e);break;case 46:this.removeSelectedChip(e)}else if(8===e.keyCode&&"Delimiter"===this.mode&&this.value&&this.value.length){e.preventDefault();var t=this.value[this.value.length-1];this.removeValue(t,e),this.updateDelimeter(this.delimiterChar,e),this.focusAtLastListItem(t)}},t.prototype.selectByKey=function(e){this.removeChipSelection(),this.selectListByKey(e),this.hideSelectedItem&&this.focusAtFirstListItem()},t.prototype.escapeAction=function(){var e=this.tempValues?this.tempValues.slice():[];this.value&&this.validateValues(this.value,e)&&("CheckBox"!==this.mode&&(this.value=e,this.initialValueUpdate()),"Delimiter"!==this.mode&&"CheckBox"!==this.mode?this.chipCollectionWrapper.style.display="":this.showDelimWrapper(),this.refreshPlaceHolder(),this.value.length?this.showOverAllClear():this.hideOverAllClear()),this.makeTextBoxEmpty()},t.prototype.scrollBottom=function(e,t){var s=this.list.offsetHeight,i=e.offsetTop+e.offsetHeight-this.list.scrollTop,l=this.list.scrollTop+i-s,a=e.offsetTop+e.offsetHeight-this.list.scrollTop;a=this.fields.groupBy&&!sf.base.isNullOrUndefined(this.fixedHeaderElement)?a-this.fixedHeaderElement.offsetHeight:a,0===t?this.list.scrollTop=0:i>s?this.list.scrollTop=l:a>0&&this.list.offsetHeight>a||(this.list.scrollTop=l)},t.prototype.scrollTop=function(e,t){var s=e.offsetTop-this.list.scrollTop;e.offsetTop,e.offsetHeight,this.list.scrollTop;s=this.fields.groupBy&&!sf.base.isUndefined(this.fixedHeaderElement)?s-this.fixedHeaderElement.offsetHeight:s;var i=e.offsetTop+e.offsetHeight-this.list.scrollTop;0===t?this.list.scrollTop=0:s<0?this.list.scrollTop=this.list.scrollTop+s:i>0&&this.list.offsetHeight>i||(this.list.scrollTop=e.offsetTop-(this.fields.groupBy&&!sf.base.isUndefined(this.fixedHeaderElement)?this.fixedHeaderElement.offsetHeight:0))},t.prototype.selectListByKey=function(e){var t,s=this.list.querySelector("li."+sf.dropdowns.dropDownBaseClasses.focus),i=this.value&&this.value.length?this.value.length:0;null!==s&&(s.classList.contains("e-active")&&(i-=1),this.isValidLI(s)&&i<this.maximumSelectionLength?(this.updateListSelection(s,e),this.addListFocus(s),"CheckBox"===this.mode?(this.updateDelimView(),this.updateDelimeter(this.delimiterChar,e),this.refreshInputHight(),this.checkPlaceholderSize(),this.enableGroupCheckBox&&!sf.base.isNullOrUndefined(this.fields.groupBy)&&(t=s.firstElementChild.lastElementChild,this.findGroupStart(t),this.deselectHeader())):this.updateDelimeter(this.delimiterChar,e),this.makeTextBoxEmpty(),"CheckBox"!==this.mode&&this.refreshListItems(s.textContent),this.changeOnBlur||this.updateValueState(e,this.value,this.tempValues),this.refreshPopup()):!this.isValidLI(s)&&i<this.maximumSelectionLength&&((t=s.firstElementChild.lastElementChild).classList.contains("e-check")?this.selectAllItem(!1,e,s):this.selectAllItem(!0,e,s)),this.refreshSelection(),this.closePopupOnSelect&&this.hidePopup()),this.refreshPlaceHolder()},t.prototype.refreshListItems=function(e){if((this.allowFiltering||"CheckBox"===this.mode&&!0===this.enableSelectionOrder||this.allowCustomValue)&&this.mainList&&this.listData){var t;t=this.mainList.cloneNode?this.mainList.cloneNode(!0):this.mainList,this.onActionComplete(t,this.mainData),this.focusAtLastListItem(e),this.value&&this.value.length&&this.refreshSelection()}},t.prototype.removeSelectedChip=function(e){var t,s=this.chipCollectionWrapper.querySelector("span.e-chip-selected");null!==s&&(sf.base.isNullOrUndefined(this.value)||(this.tempValues=this.value.slice()),null!==(t=s.nextElementSibling)&&(this.removeChipSelection(),this.addChipSelection(t,e)),this.removeValue(s.getAttribute("data-value"),e),this.makeTextBoxEmpty()),this.closePopupOnSelect&&this.hidePopup(),this.checkPlaceholderSize()},t.prototype.moveByTop=function(e){var t,s=this.list.querySelectorAll("li."+sf.dropdowns.dropDownBaseClasses.li);s.length>1&&(this.removeFocus(),t=e?0:s.length-1,this.addListFocus(s[t]),this.scrollBottom(s[t],t)),this.updateAriaAttribute()},t.prototype.moveByList=function(e){if(this.list){var t=this.list.querySelectorAll("li."+sf.dropdowns.dropDownBaseClasses.li+":not(."+f+"):not(.e-reorder-hide)");"CheckBox"===this.mode&&this.enableGroupCheckBox&&!sf.base.isNullOrUndefined(this.fields.groupBy)&&(t=this.list.querySelectorAll("li."+sf.dropdowns.dropDownBaseClasses.li+",li."+sf.dropdowns.dropDownBaseClasses.group+":not(."+f+"):not(.e-reorder-hide)"));var s=this.list.querySelector("li."+sf.dropdowns.dropDownBaseClasses.focus),i=-1;if(t.length){for(var l=0;l<t.length;l++)if(t[l]===s){i=l;break}e>0?i<t.length-1&&(this.removeFocus(),this.addListFocus(t[++i]),this.updateCheck(t[i]),this.scrollBottom(t[i],i)):i>0&&(this.removeFocus(),this.addListFocus(t[--i]),this.updateCheck(t[i]),this.scrollTop(t[i],i))}}},t.prototype.updateCheck=function(e){"CheckBox"===this.mode&&this.enableGroupCheckBox&&!sf.base.isNullOrUndefined(this.fields.groupBy)&&(e.firstElementChild.lastElementChild.classList.contains("e-check")?e.classList.add("e-active"):e.classList.remove("e-active"))},t.prototype.moveBy=function(e,t){var s,i,l;s=this.chipCollectionWrapper.querySelectorAll("span."+m),null===(i=this.chipCollectionWrapper.querySelector("span.e-chip-selected"))?e<0&&this.addChipSelection(s[s.length-1],t):e<0?null!==(l=i.previousElementSibling)&&(this.removeChipSelection(),this.addChipSelection(l,t)):(l=i.nextElementSibling,this.removeChipSelection(),null!==l&&this.addChipSelection(l,t))},t.prototype.chipClick=function(e){if(this.enabled){var t=sf.base.closest(e.target,"."+m);this.removeChipSelection(),this.addChipSelection(t,e)}},t.prototype.removeChipSelection=function(){this.chipCollectionWrapper&&this.removeChipFocus()},t.prototype.addChipSelection=function(e,t){sf.base.addClass([e],"e-chip-selected"),this.trigger("chipSelection",t)},t.prototype.onChipRemove=function(e){if(3!==e.which&&2!==e.button&&this.enabled&&!this.readonly){var t=e.target.parentElement.getAttribute("data-value"),s=this.getFormattedValue(t);if(this.allowCustomValue&&("false"!==t&&!1===s||!sf.base.isNullOrUndefined(s)&&"NaN"===s.toString())&&(s=t),this.isPopupOpen()&&"CheckBox"!==this.mode&&this.hidePopup(),this.inputFocus||this.inputElement.focus(),this.removeValue(s,e),sf.base.isNullOrUndefined(this.findListElement(this.list,"li","data-value",s))&&this.mainList&&this.listData){var i=this.mainList.cloneNode?this.mainList.cloneNode(!0):this.mainList;this.onActionComplete(i,this.mainData)}this.updateDelimeter(this.delimiterChar,e),this.placeholder&&"Never"===this.floatLabelType?(this.makeTextBoxEmpty(),this.checkPlaceholderSize()):this.inputElement.value="",e.preventDefault()}},t.prototype.makeTextBoxEmpty=function(){this.inputElement.value="",this.refreshPlaceHolder()},t.prototype.refreshPlaceHolder=function(){this.placeholder&&"Never"===this.floatLabelType?this.value&&this.value.length||!sf.base.isNullOrUndefined(this.text)&&""!==this.text?this.inputElement.placeholder="":this.inputElement.placeholder=this.placeholder:this.setFloatLabelType(),this.expandTextbox()},t.prototype.removeValue=function(e,t,s,i){var l=this,a=this.value.indexOf(this.getFormattedValue(e));-1===a&&this.allowCustomValue&&!sf.base.isNullOrUndefined(e)&&(a=this.value.indexOf(e.toString()));var o=t&&t.target;i=!!(i||o&&o.classList.contains("e-close-hooker"))||null;var n=this.hideSelectedItem?f:sf.dropdowns.dropDownBaseClasses.selected;if(-1!==a){var r=this.findListElement(this.list,"li","data-value",e),h=this.getDataByValue(e),p={e:t,item:r,itemData:h,isInteracted:!!t,cancel:!1};this.trigger("removing",p,(function(o){if(o.cancel)l.removeIndex++;else{var p=l.value.slice(0);if(p.splice(a,1),sf.base.isBlazor()&&l.isServerRendered){var c=[].concat([],p);l.setProperties({value:0===c.length?null:c},!0)}else l.setProperties({value:[].concat([],p)},!0);if(null!==r){var d=l.findListElement(l.mainList,"li","data-value",e);r.setAttribute("aria-selected","false"),sf.base.removeClass([r],n),d&&(d.setAttribute("aria-selected","false"),sf.base.removeClass([r,d],n)),l.notify("activeList",{module:"CheckBoxSelection",enable:"CheckBox"===l.mode,li:r,e:l,index:a}),l.notify("updatelist",{module:"CheckBoxSelection",enable:"CheckBox"===l.mode,li:r,e:t}),sf.base.attributes(l.inputElement,{"aria-activedescendant":r.id}),l.value&&l.value.length!==l.mainData.length&&"CheckBox"===l.mode&&l.showSelectAll&&!l.isSelectAll&&!i&&l.notify("checkSelectAll",{module:"CheckBoxSelection",enable:"CheckBox"===l.mode,value:"uncheck"})}if(l.hideSelectedItem&&l.fields.groupBy&&l.hideGroupItem(e),l.updateMainList(!0,e),l.removeChip(e),l.updateChipStatus(),(l.value&&l.value.length?l.value.length:0)<l.maximumSelectionLength){var u=l.list.querySelectorAll("li."+sf.dropdowns.dropDownBaseClasses.li+":not(.e-active)");sf.base.removeClass(u,"e-disable")}l.trigger("removed",o);var f=t&&t.currentTarget,m=!(!f||!f.classList.contains("e-selectall-parent"))||null;if(l.changeOnBlur||i||!t||!s||m||l.updateValueState(t,l.value,l.tempValues),s&&(l.selectAllEventData.push(h),l.selectAllEventEle.push(r)),1===s){l.changeOnBlur||l.updateValueState(t,l.value,l.tempValues);var v={event:t,items:l.selectAllEventEle,itemData:l.selectAllEventData,isInteracted:!!t,isChecked:!1};l.trigger("selectedAll",v),l.selectAllEventData=[],l.selectAllEventEle=[]}!i||1!==s&&null!==s||l.clearAllCallback(t,i),sf.base.isBlazor()&&l.isServerRendered&&(sf.base.isNullOrUndefined(l.value)||0===l.value.length)&&l.updatedataValueItems(t)}}))}},t.prototype.updateMainList=function(e,t){if(this.allowFiltering||"CheckBox"===this.mode){var s=this.findListElement(this.mainList,"li","data-value",t);s&&(e?(s.setAttribute("aria-selected","false"),sf.base.removeClass([s],this.hideSelectedItem?f:sf.dropdowns.dropDownBaseClasses.selected),"CheckBox"===this.mode&&(s.firstElementChild.setAttribute("aria-checked","false"),sf.base.removeClass([s.firstElementChild.lastElementChild],"e-check"))):(s.setAttribute("aria-selected","true"),sf.base.addClass([s],this.hideSelectedItem?f:sf.dropdowns.dropDownBaseClasses.selected),"CheckBox"===this.mode&&(s.firstElementChild.setAttribute("aria-checked","true"),sf.base.addClass([s.firstElementChild.lastElementChild],"e-check"))))}},t.prototype.removeChip=function(e){if(this.chipCollectionWrapper){var t=this.findListElement(this.chipCollectionWrapper,"span","data-value",e);t&&sf.base.remove(t)}},t.prototype.setWidth=function(e){sf.base.isNullOrUndefined(e)||("number"==typeof e?this.overAllWrapper.style.width=sf.base.formatUnit(e):"string"==typeof e&&(this.overAllWrapper.style.width=e.match(/px|%|em/)?e:sf.base.formatUnit(e)))},t.prototype.updateChipStatus=function(){this.value&&this.value.length?(sf.base.isNullOrUndefined(this.chipCollectionWrapper)||(this.chipCollectionWrapper.style.display=""),"Delimiter"!==this.mode&&"CheckBox"!==this.mode||this.showDelimWrapper(),this.showOverAllClear()):(sf.base.isNullOrUndefined(this.chipCollectionWrapper)||(this.chipCollectionWrapper.style.display="none"),sf.base.isNullOrUndefined(this.delimiterWrapper)||(this.delimiterWrapper.style.display="none"),this.hideOverAllClear())},t.prototype.addValue=function(e,t,s){this.value||(this.value=[]),this.value.indexOf(e)<0&&this.setProperties({value:[].concat([],this.value,[e])},!0);var i=this.findListElement(this.list,"li","data-value",e);this.removeFocus(),i&&(this.addListFocus(i),this.addListSelection(i)),"Delimiter"!==this.mode&&"CheckBox"!==this.mode&&this.addChip(t,e,s),this.hideSelectedItem&&this.fields.groupBy&&this.hideGroupItem(e),this.updateChipStatus(),this.checkMaxSelection()},t.prototype.checkMaxSelection=function(){if((this.value&&this.value.length?this.value.length:0)===this.maximumSelectionLength){var e=this.list.querySelectorAll("li."+sf.dropdowns.dropDownBaseClasses.li+":not(.e-active)");sf.base.addClass(e,"e-disable")}},t.prototype.dispatchSelect=function(e,t,s,i,l){var a=this,o=this.listData;if(this.initStatus&&!i){var n=this.getDataByValue(e),r={e:t,item:s,itemData:n,isInteracted:!!t,cancel:!1};this.trigger("select",r,(function(i){if(!i.cancel){if(l&&(a.selectAllEventData.push(n),a.selectAllEventEle.push(s)),1===l){var r={event:t,items:a.selectAllEventEle,itemData:a.selectAllEventData,isInteracted:!!t,isChecked:!0};a.trigger("selectedAll",r),a.selectAllEventData=[]}a.allowCustomValue&&a.isServerRendered&&a.listData!==o&&(a.listData=o),a.updateListSelectEventCallback(e,s,t)}}))}},t.prototype.addChip=function(e,t,s){this.chipCollectionWrapper&&this.getChip(e,t,s)},t.prototype.removeChipFocus=function(){var e,t;if(e=this.chipCollectionWrapper.querySelectorAll("span."+m),t=this.chipCollectionWrapper.querySelectorAll("span."+"e-chips-close".split(" ")[0]),sf.base.removeClass(e,"e-chip-selected"),sf.base.Browser.isDevice)for(var s=0;s<t.length;s++)t[s].style.display="none"},t.prototype.onMobileChipInteraction=function(e){var t=sf.base.closest(e.target,"."+m),s=t.querySelector("span."+"e-chips-close".split(" ")[0]);this.enabled&&!this.readonly&&(t.classList.contains("e-chip-selected")||(this.removeChipFocus(),s.style.display="",t.classList.add("e-chip-selected")),this.refreshPopup(),e.preventDefault())},t.prototype.multiCompiler=function(e){var t=!1;if(e)try{t=!!sf.base.select(e,document).length}catch(e){t=!1}return t},t.prototype.getChip=function(e,t,s){var i=this,l={text:t,value:t},a=this.createElement("span",{className:m,attrs:{"data-value":t,title:e}}),o=this.createElement("span",{className:"e-chipcontent"}),n=this.createElement("span",{className:"e-chips-close"});if(this.mainData&&(l=sf.base.isBlazor()&&this.isServerRendered?JSON.parse(JSON.stringify(this.getDataByValue(t))):this.getDataByValue(t)),this.valueTemplate&&!sf.base.isNullOrUndefined(l)){var r=(this.multiCompiler(this.valueTemplate)?sf.base.compile(sf.base.select(this.valueTemplate,document).innerHTML.trim()):sf.base.compile(this.valueTemplate))(l,this,"valueTemplate",this.valueTemplateId,this.isStringTemplate,null,o);if(r&&r.length>0)for(var h=0;h<r.length;h++)o.appendChild(r[h]);this.renderReactTemplates(),this.DropDownBaseupdateBlazorTemplates(!1,!1,!1,!1,!0,!1,!1,!1)}else this.enableHtmlSanitizer?o.innerText=e:o.innerHTML=e;a.appendChild(o);var p={isInteracted:!!s,itemData:l,e:s,setClass:function(e){sf.base.addClass([a],e)},cancel:!1};this.isPreventChange=this.isAngular&&this.preventChange,this.trigger("tagging",p,(function(e){e.cancel||(e.setClass&&"string"==typeof e.setClass&&sf.base.isBlazor()&&i.isServerRendered&&sf.base.addClass([a],e.setClass),sf.base.Browser.isDevice?(a.classList.add("e-mob-chip"),sf.base.append([n],a),n.style.display="none",sf.base.EventHandler.add(a,"click",i.onMobileChipInteraction,i)):(sf.base.EventHandler.add(a,"mousedown",i.chipClick,i),i.showClearButton&&a.appendChild(n)),sf.base.EventHandler.add(n,"mousedown",i.onChipRemove,i),i.chipCollectionWrapper.appendChild(a),!i.changeOnBlur&&s&&i.updateValueState(s,i.value,i.tempValues))}))},t.prototype.calcPopupWidth=function(){var e=sf.base.formatUnit(this.popupWidth);e.indexOf("%")>-1&&(e=(this.componentWrapper.offsetWidth*parseFloat(e)/100).toString()+"px");return e},t.prototype.mouseIn=function(){this.enabled&&!this.readonly&&this.showOverAllClear()},t.prototype.mouseOut=function(){this.inputFocus||(this.overAllClear.style.display="none")},t.prototype.listOption=function(e,t){var s=!sf.base.isNullOrUndefined(t.iconCss),i=sf.base.isNullOrUndefined(t.properties)?t:t.properties;return this.listCurrentOptions=null!==t.text||null!==t.value?{fields:i,showIcon:s,ariaAttributes:{groupItemRole:"presentation"}}:{fields:{value:"text"}},sf.base.extend(this.listCurrentOptions,this.listCurrentOptions,t,!0),"CheckBox"===this.mode&&this.notify("listoption",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,dataSource:e,fieldProperty:i}),this.listCurrentOptions},t.prototype.renderPopup=function(){var t=this;if(this.list||e.prototype.render.call(this),!this.popupObj){document.body.appendChild(this.popupWrapper);var s=this.popupWrapper.querySelector(".e-filter-parent");"CheckBox"===this.mode&&!this.allowFiltering&&s&&this.filterParent&&(s.remove(),this.filterParent=null);var i=parseInt(this.popupHeight,10);if(this.popupWrapper.style.visibility="hidden",this.headerTemplate&&(this.setHeaderTemplate(),i-=this.header.offsetHeight),sf.base.append([this.list],this.popupWrapper),this.footerTemplate&&(this.setFooterTemplate(),i-=this.footer.offsetHeight),"CheckBox"===this.mode&&this.showSelectAll?(this.notify("selectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode}),i-=this.selectAllHeight):"CheckBox"!==this.mode||this.showSelectAll||this.headerTemplate||this.footerTemplate?"CheckBox"!==this.mode||this.showSelectAll||(this.notify("selectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode}),i=parseInt(this.popupHeight,10),this.headerTemplate&&this.header&&(i-=this.header.offsetHeight),this.footerTemplate&&this.footer&&(i-=this.footer.offsetHeight)):(this.notify("selectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode}),i=parseInt(this.popupHeight,10)),"CheckBox"===this.mode){var l={module:"CheckBoxSelection",enable:"CheckBox"===this.mode,popupElement:this.popupWrapper};this.allowFiltering&&(this.notify("searchBox",l),i-=this.searchBoxHeight),sf.base.addClass([this.popupWrapper],"e-checkbox")}"auto"!==this.popupHeight?(this.list.style.maxHeight=sf.base.formatUnit(i),this.popupWrapper.style.maxHeight=sf.base.formatUnit(this.popupHeight)):this.list.style.maxHeight=sf.base.formatUnit(this.popupHeight),this.popupObj=new sf.popups.Popup(this.popupWrapper,{width:this.calcPopupWidth(),targetType:"relative",position:{X:"left",Y:"bottom"},relateTo:this.overAllWrapper,collision:{X:"flip",Y:"flip"},offsetY:1,enableRtl:this.enableRtl,zIndex:this.zIndex,close:function(){t.popupObj.element.parentElement&&(t.popupObj.unwireScrollEvents(),sf.base.detach(t.popupObj.element))},open:function(){if(t.popupObj.resolveCollision(),!t.isFirstClick){var e=t.list.querySelector("ul");e&&(t.itemTemplate&&sf.base.isBlazor()&&t.isServerRendered?setTimeout((function(){t.mainList=t.ulElement}),0):"CheckBox"!==t.mode&&(t.allowFiltering||t.allowCustomValue)&&""!==t.targetElement().trim()||(t.mainList=e.cloneNode?e.cloneNode(!0):e)),t.isFirstClick=!0}t.popupObj.wireScrollEvents(),"CheckBox"!==t.mode&&(t.allowFiltering||t.allowCustomValue)&&""!==t.targetElement().trim()||t.loadTemplate(),t.setScrollPosition(),t.allowFiltering&&t.notify("inputFocus",{module:"CheckBoxSelection",enable:"CheckBox"===t.mode,value:"focus"})},targetExitViewport:function(){sf.base.Browser.isDevice||t.hidePopup()}}),"CheckBox"===this.mode&&sf.base.Browser.isDevice&&this.allowFiltering&&this.notify("deviceSearchBox",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode}),this.popupObj.close(),this.popupWrapper.style.visibility=""}},t.prototype.setHeaderTemplate=function(){this.header&&this.header.remove(),this.header=this.createElement("div"),sf.base.addClass([this.header],"e-ddl-header");var e=(this.multiCompiler(this.headerTemplate)?sf.base.compile(sf.base.select(this.headerTemplate,document).innerHTML.trim()):sf.base.compile(this.headerTemplate))({},this,"headerTemplate",this.headerTemplateId,this.isStringTemplate,null,this.header);if(e&&e.length>0)for(var t=0;t<e.length;t++)this.header.appendChild(e[t]);this.DropDownBaseupdateBlazorTemplates(!1,!1,!1,!1,!1,!0,!1),"CheckBox"===this.mode&&this.showSelectAll?sf.base.prepend([this.header],this.popupWrapper):sf.base.append([this.header],this.popupWrapper),sf.base.EventHandler.add(this.header,"mousedown",this.onListMouseDown,this)},t.prototype.setFooterTemplate=function(){this.footer&&this.footer.remove(),this.footer=this.createElement("div"),sf.base.addClass([this.footer],"e-ddl-footer");var e=(this.multiCompiler(this.footerTemplate)?sf.base.compile(sf.base.select(this.footerTemplate,document).innerHTML.trim()):sf.base.compile(this.footerTemplate))({},this,"footerTemplate",this.footerTemplateId,this.isStringTemplate,null,this.footer);if(e&&e.length>0)for(var t=0;t<e.length;t++)this.footer.appendChild(e[t]);this.DropDownBaseupdateBlazorTemplates(!1,!1,!1,!1,!1,!1,!0),sf.base.append([this.footer],this.popupWrapper),sf.base.EventHandler.add(this.footer,"mousedown",this.onListMouseDown,this)},t.prototype.ClearAll=function(e){if(this.enabled&&!this.readonly){var t=void 0;if(this.value&&this.value.length>0){var s=this.list&&this.list.querySelectorAll("li.e-list-item");if(s&&s.length>0)this.selectAllItems(!1,e);else for(this.removeIndex=0,t=this.value[this.removeIndex];this.removeIndex<this.value.length&&(this.removeValue(t,e,null,!0),null!==this.value||!sf.base.isBlazor()||!this.isServerRendered);t=this.value[this.removeIndex]);}else this.clearAllCallback(e)}},t.prototype.clearAllCallback=function(e,t){var s=this.value?this.value.slice():[];if(this.mainList&&this.listData&&(this.allowFiltering&&"CheckBox"!==this.mode||this.allowCustomValue)){var i=this.mainList.cloneNode?this.mainList.cloneNode(!0):this.mainList;this.onActionComplete(i,this.mainData)}this.focusAtFirstListItem(),this.updateDelimeter(this.delimiterChar,e),"Box"===this.mode||this.inputFocus&&"CheckBox"!==this.mode||this.updateDelimView(),""!==this.inputElement.value&&(this.makeTextBoxEmpty(),this.search(null)),this.checkPlaceholderSize(),this.isPopupOpen()&&this.refreshPopup(),this.inputFocus||(this.changeOnBlur&&this.updateValueState(e,this.value,s),"CheckBox"!==this.mode&&this.inputElement.focus()),"CheckBox"===this.mode&&(this.refreshPlaceHolder(),this.refreshInputHight(),this.changeOnBlur&&t&&(sf.base.isNullOrUndefined(this.value)||0===this.value.length)&&this.updateValueState(e,this.value,this.tempValues)),this.changeOnBlur||!t||!sf.base.isNullOrUndefined(this.value)&&0!==this.value.length||this.updateValueState(e,this.value,this.tempValues),"CheckBox"===this.mode&&this.enableGroupCheckBox&&!sf.base.isNullOrUndefined(this.fields.groupBy)&&this.updateListItems(this.list.querySelectorAll("li.e-list-item"),this.mainList.querySelectorAll("li.e-list-item")),e.preventDefault()},t.prototype.windowResize=function(){this.refreshPopup(),this.inputFocus&&"CheckBox"!==this.mode||!this.viewWrapper||!this.viewWrapper.parentElement||this.updateDelimView()},t.prototype.resetValueHandler=function(e){var t=sf.base.closest(this.inputElement,"form");if(t&&e.target===t){var s=this.element.tagName===this.getNgDirective()?null:this.element.getAttribute("data-initial-value");this.text=s}},t.prototype.wireEvent=function(){sf.base.EventHandler.add(this.componentWrapper,"mousedown",this.wrapperClick,this),sf.base.EventHandler.add(window,"resize",this.windowResize,this),sf.base.EventHandler.add(this.inputElement,"focus",this.focusInHandler,this),sf.base.EventHandler.add(this.inputElement,"keydown",this.onKeyDown,this),sf.base.EventHandler.add(this.inputElement,"keyup",this.KeyUp,this),"CheckBox"!==this.mode&&sf.base.EventHandler.add(this.inputElement,"input",this.onInput,this),sf.base.EventHandler.add(this.inputElement,"blur",this.onBlur,this),sf.base.EventHandler.add(this.componentWrapper,"mousemove",this.mouseIn,this);var e=sf.base.closest(this.inputElement,"form");e&&sf.base.EventHandler.add(e,"reset",this.resetValueHandler,this),sf.base.EventHandler.add(this.componentWrapper,"mouseout",this.mouseOut,this),sf.base.EventHandler.add(this.overAllClear,"mouseup",this.ClearAll,this),sf.base.EventHandler.add(this.inputElement,"paste",this.pasteHandler,this)},t.prototype.onInput=function(e){this.keyDownStatus?this.isValidKey=!0:this.isValidKey=!1,this.keyDownStatus=!1,sf.base.Browser.isDevice&&"mozilla"===sf.base.Browser.info.name&&this.search(e)},t.prototype.pasteHandler=function(e){var t=this;setTimeout((function(){t.search(e)}))},t.prototype.search=function(e){var t=this;if(!this.isPopupOpen()&&this.openOnClick&&this.showPopup(),this.openClick(e),!this.checkTextLength()||this.allowFiltering||sf.base.isNullOrUndefined(e)||8===e.keyCode){var s=this.targetElement();if(sf.base.isNullOrUndefined(e)||(this.keyCode=e.keyCode),this.allowFiltering){var i={preventDefaultAction:!1,text:this.targetElement(),updateData:function(e,s,l){i.cancel||(t.isFiltered=!0,t.remoteFilterAction=!0,t.dataUpdater(e,s,l))},event:e,cancel:!1};this.trigger("filtering",i,(function(e){e.cancel||t.isFiltered||e.preventDefaultAction||(t.filterAction=!0,t.dataUpdater(t.dataSource,null,t.fields))}))}else if(this.allowCustomValue){var l=new sf.data.Query;l=""!==s?l.where(this.fields.text,"startswith",s,this.ignoreCase,this.ignoreAccent):l,this.dataUpdater(this.mainData,l,this.fields)}else{var a;a=this.list.querySelectorAll("li."+sf.dropdowns.dropDownBaseClasses.li+":not(.e-hide-listitem)");var o=sf.dropdowns.Search(this.targetElement(),a,"StartsWith",this.ignoreCase);o&&null!==o.item?(this.addListFocus(o.item),this.list.scrollTop=o.item.offsetHeight*o.index):""!==this.targetElement()?this.removeFocus():this.focusAtFirstListItem()}}else this.focusAtFirstListItem()},t.prototype.preRender=function(){null===this.allowFiltering&&(this.allowFiltering="CheckBox"===this.mode),this.initializeData(),this.updateDataAttribute(this.htmlAttributes),e.prototype.preRender.call(this)},t.prototype.getLocaleName=function(){return"multi-select"},t.prototype.initializeData=function(){this.mainListCollection=[],this.beforePopupOpen=!1,this.filterAction=!1,this.remoteFilterAction=!1,this.isFirstClick=!1,this.mobFilter=!0,this.isFiltered=!1,this.focused=!0,this.initial=!0,this.backCommand=!0},t.prototype.updateData=function(e,t){var s,i="",l="Delimiter"===this.mode||"CheckBox"===this.mode,a=[],o=this.listData;if(this.listData=this.mainData,this.hiddenElement.innerHTML="",!sf.base.isNullOrUndefined(this.value))for(var n=0;!sf.base.isNullOrUndefined(this.value[n]);n++){var r=this.findListElement(sf.base.isNullOrUndefined(this.mainList)?this.ulElement:this.mainList,"li","data-value",this.value[n]);sf.base.isBlazor()&&this.isServerRendered||!sf.base.isNullOrUndefined(r)||this.allowCustomValue?(i+=(s=this.listData?this.getTextByValue(this.value[n]):this.value[n])+e+" ",a.push(s)):(this.value.splice(n,1),n-=1),this.hiddenElement.innerHTML+='<option selected value ="'+this.value[n]+'">'+n+"</option>"}this.setProperties({text:a.toString()},!0),l&&(this.updateWrapperText(this.delimiterWrapper,i),this.delimiterWrapper.setAttribute("id",sf.base.getUniqueID("delim_val")),this.inputElement.setAttribute("aria-describedby",this.delimiterWrapper.id));var h=t&&t.target,p=!(!h||!h.classList.contains("e-close-hooker"))||null;(!this.changeOnBlur&&t&&!p||this.isSelectAll)&&(this.isSelectAll=!1,this.updateValueState(t,this.value,this.tempValues)),this.listData=o,this.addValidInputClass()},t.prototype.initialTextUpdate=function(){if(sf.base.isNullOrUndefined(this.text))this.setProperties({value:null},!0);else{for(var e=this.text.split(this.delimiterChar),t=[],s=0;e.length>s;s++){var i=this.getValueByText(e[s]);sf.base.isNullOrUndefined(i)?this.allowCustomValue&&t.push(e[s]):t.push(i)}t&&t.length&&this.setProperties({value:t},!0)}},t.prototype.renderList=function(t){!t&&this.allowCustomValue&&this.list&&(this.list.textContent===this.noRecordsTemplate||this.list.querySelector(".e-ul")&&0===this.list.querySelector(".e-ul").childElementCount)&&(t=!0),e.prototype.render.call(this,t),this.unwireListEvents(),this.wireListEvents()},t.prototype.initialValueUpdate=function(){if(this.list){var e=void 0,t=void 0,s=void 0;if(this.chipCollectionWrapper&&(this.chipCollectionWrapper.innerHTML=""),this.removeListSelection(),!sf.base.isNullOrUndefined(this.value))for(var i=0;!sf.base.isNullOrUndefined(this.value[i]);i++)if(s=this.value[i],t=this.findListElement(this.hideSelectedItem?this.ulElement:this.list,"li","data-value",s),e=this.getTextByValue(s),t&&"true"!==t.getAttribute("aria-selected")||t&&"true"===t.getAttribute("aria-selected")&&this.hideSelectedItem&&("Box"===this.mode||"Default"===this.mode))this.addChip(e,s),this.addListSelection(t);else if(s&&this.allowCustomValue){var l=this.listData.length,a={};sf.base.setValue(this.fields.text,s,a),sf.base.setValue(this.fields.value,s,a);var o=this.popupWrapper.querySelector("."+sf.dropdowns.dropDownBaseClasses.noData);this.addItem(a,l),this.popupWrapper.contains(o)&&(this.list.setAttribute("style",o.getAttribute("style")),this.popupWrapper.replaceChild(this.list,o),this.wireListEvents()),this.addChip(e,s),this.addListSelection(t)}"CheckBox"===this.mode?(this.updateDelimView(),this.changeOnBlur&&this.updateValueState(null,this.value,this.tempValues),this.updateDelimeter(this.delimiterChar),this.refreshInputHight()):this.updateDelimeter(this.delimiterChar),"CheckBox"!==this.mode||!this.showSelectAll||!sf.base.isNullOrUndefined(this.value)&&this.value.length||this.notify("checkSelectAll",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,value:"uncheck"}),"Box"===this.mode||"Default"===this.mode&&this.inputFocus?this.chipCollectionWrapper.style.display="":"Delimiter"!==this.mode&&"CheckBox"!==this.mode||this.showDelimWrapper()}},t.prototype.updateActionCompleteData=function(e,t){this.value&&this.value.indexOf(e.getAttribute("data-value"))>-1&&(this.mainList=this.ulElement,sf.base.addClass([e],f))},t.prototype.updateAddItemList=function(e,t){this.popupObj&&this.popupObj.element&&this.popupObj.element.querySelector("."+sf.dropdowns.dropDownBaseClasses.noData)&&e&&(this.list=e,this.mainList=this.ulElement=e.querySelector("ul"),sf.base.remove(this.popupWrapper.querySelector(".e-content")),this.popupObj=null,this.renderPopup())},t.prototype.updateDataList=function(){this.mainList&&this.ulElement&&this.mainList.childElementCount<this.ulElement.childElementCount&&(this.mainList=this.ulElement.cloneNode?this.ulElement.cloneNode(!0):this.ulElement)},t.prototype.isValidLI=function(e){return e&&!e.classList.contains(sf.dropdowns.dropDownBaseClasses.disabled)&&!e.classList.contains(sf.dropdowns.dropDownBaseClasses.group)&&e.classList.contains(sf.dropdowns.dropDownBaseClasses.li)},t.prototype.updateListSelection=function(e,t,s){var i=e.getAttribute("data-value"),l=this.getFormattedValue(i);this.allowCustomValue&&("false"!==i&&!1===l||!sf.base.isNullOrUndefined(l)&&"NaN"===l.toString())&&(l=i),this.removeHover(),this.value&&-1!==this.value.indexOf(l)?this.removeValue(l,t,s):this.dispatchSelect(l,t,e,"true"===e.getAttribute("aria-selected"),s)},t.prototype.updateListSelectEventCallback=function(e,t,s){var i=this,l=this.getTextByValue(e);if(!this.allowCustomValue&&!this.allowFiltering||this.findListElement(this.mainList,"li","data-value",e))this.remoteCustomValue=!1,this.addValue(e,l,s);else{var a=t.cloneNode(!0),o=this.fields.value?this.fields.value:"value";this.allowCustomValue&&this.mainData.length&&"number"==typeof sf.base.getValue(o,this.mainData[0])&&(e=isNaN(parseFloat(e.toString()))?e:parseFloat(e.toString()));var n=this.getDataByValue(e),r={newData:n,cancel:!1};this.trigger("customValueSelection",r,(function(t){t.cancel||(sf.base.append([a],i.mainList),i.mainData.push(n),i.remoteCustomValue=!1,i.addValue(e,l,s),sf.base.isBlazor()&&i.isServerRendered&&(i.checkPlaceholderSize(),i.makeTextBoxEmpty()))}))}sf.base.isBlazor()&&this.isServerRendered&&this.value&&this.list&&(this.value.length===this.list.querySelectorAll("li.e-list-item").length||this.value.length===this.maximumSelectionLength)&&(this.updatedataValueItems(s),this.checkPlaceholderSize()),sf.base.isBlazor()&&this.isServerRendered&&(this.checkPlaceholderSize(),this.makeTextBoxEmpty())},t.prototype.removeListSelection=function(){var e=this.hideSelectedItem?f:sf.dropdowns.dropDownBaseClasses.selected,t=this.list.querySelectorAll("."+e),s=t.length;if(t&&t.length)for(sf.base.removeClass(t,e);s>0;)t[s-1].setAttribute("aria-selected","false"),s--;if(!sf.base.isNullOrUndefined(this.mainList)){var i=this.mainList.querySelectorAll("."+e),l=i.length;if(i&&i.length)for(sf.base.removeClass(i,e);l>0;)i[l-1].setAttribute("aria-selected","false"),"CheckBox"===this.mode&&(t&&t.length>l-1&&(t[l-1].firstElementChild.setAttribute("aria-checked","false"),sf.base.removeClass([t[l-1].firstElementChild.lastElementChild],"e-check")),i[l-1].firstElementChild.setAttribute("aria-checked","false"),sf.base.removeClass([i[l-1].firstElementChild.lastElementChild],"e-check")),l--}},t.prototype.removeHover=function(){var e=this.list.querySelectorAll("."+sf.dropdowns.dropDownBaseClasses.hover);e&&e.length&&sf.base.removeClass(e,sf.dropdowns.dropDownBaseClasses.hover)},t.prototype.removeFocus=function(){if(this.list&&this.mainList){var e=this.list.querySelectorAll("."+sf.dropdowns.dropDownBaseClasses.focus),t=this.mainList.querySelectorAll("."+sf.dropdowns.dropDownBaseClasses.focus);e&&e.length&&(sf.base.removeClass(e,sf.dropdowns.dropDownBaseClasses.focus),sf.base.removeClass(t,sf.dropdowns.dropDownBaseClasses.focus))}},t.prototype.addListHover=function(e){(this.enabled&&this.isValidLI(e)||null!==e&&e.classList.contains("e-list-group-item")&&this.enableGroupCheckBox&&"CheckBox"===this.mode&&!sf.base.isNullOrUndefined(this.fields.groupBy))&&(this.removeHover(),sf.base.addClass([e],sf.dropdowns.dropDownBaseClasses.hover))},t.prototype.addListFocus=function(e){this.enabled&&this.isValidLI(e)?(this.removeFocus(),sf.base.addClass([e],sf.dropdowns.dropDownBaseClasses.focus)):this.enableGroupCheckBox&&"CheckBox"===this.mode&&!sf.base.isNullOrUndefined(this.fields.groupBy)&&sf.base.addClass([e],sf.dropdowns.dropDownBaseClasses.focus)},t.prototype.addListSelection=function(e){var t=this.hideSelectedItem?f:sf.dropdowns.dropDownBaseClasses.selected;if(this.isValidLI(e)&&!e.classList.contains(sf.dropdowns.dropDownBaseClasses.hover)){if(sf.base.addClass([e],t),this.updateMainList(!1,e.getAttribute("data-value")),e.setAttribute("aria-selected","true"),"CheckBox"===this.mode){var s=e.firstElementChild.getAttribute("aria-checked");("false"===s||sf.base.isNullOrUndefined(s))&&this.notify("updatelist",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,li:e,e:this})}this.notify("activeList",{module:"CheckBoxSelection",enable:"CheckBox"===this.mode,li:e,e:this}),this.chipCollectionWrapper&&this.removeChipSelection(),sf.base.attributes(this.inputElement,{"aria-activedescendant":e.id})}},t.prototype.updateDelimeter=function(e,t){this.updateData(e,t)},t.prototype.onMouseClick=function(e){var t=this;this.scrollFocusStatus=!1;var s=e.target,i=sf.base.closest(s,"."+sf.dropdowns.dropDownBaseClasses.li);if(sf.base.closest(s,"."+sf.dropdowns.dropDownBaseClasses.group)&&this.enableGroupCheckBox&&"CheckBox"===this.mode&&this.fields.groupBy)(s=s.classList.contains("e-list-group-item")?s.firstElementChild.lastElementChild:e.target).classList.contains("e-check")?(this.selectAllItem(!1,e),s.classList.remove("e-check"),s.classList.remove("e-stop"),sf.base.closest(s,".e-list-group-item").classList.remove("e-active"),s.setAttribute("aria-selected","false")):(this.selectAllItem(!0,e),s.classList.remove("e-stop"),s.classList.add("e-check"),sf.base.closest(s,".e-list-group-item").classList.add("e-active"),s.setAttribute("aria-selected","true")),this.refreshSelection(),this.checkSelectAll();else{if(this.isValidLI(i)){var l=this.value&&this.value.length?this.value.length:0;i.classList.contains("e-active")&&(l-=1),l<this.maximumSelectionLength&&(this.updateListSelection(i,e),this.checkPlaceholderSize(),this.addListFocus(i),(this.allowCustomValue||this.allowFiltering)&&this.mainList&&this.listData?"CheckBox"!==this.mode&&(this.focusAtLastListItem(i.getAttribute("data-value")),this.refreshSelection()):this.makeTextBoxEmpty()),"CheckBox"===this.mode?(this.updateDelimView(),this.value&&this.value.length>50?setTimeout((function(){t.updateDelimeter(t.delimiterChar,e)}),0):this.updateDelimeter(this.delimiterChar,e),this.refreshInputHight()):this.updateDelimeter(this.delimiterChar,e),this.checkSelectAll(),this.refreshPopup(),this.hideSelectedItem&&this.focusAtFirstListItem(),this.closePopupOnSelect?this.hidePopup():e.preventDefault(),this.makeTextBoxEmpty(),this.findGroupStart(s)}else e.preventDefault();"CheckBox"!==this.mode&&this.refreshListItems(sf.base.isNullOrUndefined(i)?null:i.textContent),this.refreshPlaceHolder(),this.deselectHeader()}},t.prototype.findGroupStart=function(e){if(this.enableGroupCheckBox&&"CheckBox"===this.mode&&!sf.base.isNullOrUndefined(this.fields.groupBy)){var t=void 0;if(this.itemTemplate&&!e.getElementsByClassName("e-frame").length)for(;!e.getElementsByClassName("e-frame").length;)e=e.parentElement;for(e.classList.contains("e-frame")&&(e=e.parentElement.parentElement),t=this.findGroupAttrtibutes(e,0,0,0,0),t=this.findGroupAttrtibutes(e,t[0],t[1],t[2],1);!e.classList.contains("e-list-group-item")&&(e.classList.contains("e-list-icon")&&(e=e.parentElement),null!=(e=e.previousElementSibling)););this.updateCheckBox(e,t[0],t[1],t[2])}},t.prototype.findGroupAttrtibutes=function(e,t,s,i,l){for(;!e.classList.contains("e-list-group-item")&&(e.classList.contains("e-list-icon")&&(e=e.parentElement),e.getElementsByClassName("e-frame")[0].classList.contains("e-check")&&e.classList.contains("e-list-item")?t++:e.classList.contains("e-list-item")&&s++,i++,null!=(e=l?e.nextElementSibling:e.previousElementSibling)););return[t,s,i]},t.prototype.updateCheckBox=function(e,t,s,i){if(null!==e){var l=e.getElementsByClassName("e-frame")[0];i===t?(l.classList.remove("e-stop"),l.classList.add("e-check"),sf.base.closest(l,".e-list-group-item").classList.add("e-active"),e.setAttribute("aria-selected","true")):i===s?(l.classList.remove("e-check"),l.classList.remove("e-stop"),sf.base.closest(l,".e-list-group-item").classList.remove("e-active"),e.setAttribute("aria-selected","false")):this.maximumSelectionLength===t-1?(l.classList.remove("e-stop"),e.setAttribute("aria-selected","true"),sf.base.closest(l,".e-list-group-item").classList.add("e-active"),l.classList.add("e-check")):(l.classList.remove("e-check"),l.classList.add("e-stop"),sf.base.closest(l,".e-list-group-item").classList.add("e-active"),e.setAttribute("aria-selected","false"))}},t.prototype.deselectHeader=function(){var e=this.value&&this.value.length?this.value.length:0,t=this.list.querySelectorAll("li.e-list-group-item:not(.e-active)");e<this.maximumSelectionLength&&sf.base.removeClass(t,"e-disable"),e===this.maximumSelectionLength&&sf.base.addClass(t,"e-disable")},t.prototype.onMouseOver=function(e){var t=sf.base.closest(e.target,"."+sf.dropdowns.dropDownBaseClasses.li);null===t&&"CheckBox"===this.mode&&!sf.base.isNullOrUndefined(this.fields.groupBy)&&this.enableGroupCheckBox&&(t=sf.base.closest(e.target,"."+sf.dropdowns.dropDownBaseClasses.group)),this.addListHover(t)},t.prototype.onMouseLeave=function(e){this.removeHover()},t.prototype.onListMouseDown=function(e){e.preventDefault(),this.scrollFocusStatus=!0},t.prototype.onDocumentClick=function(e){if("CheckBox"!==this.mode){var t=e.target;!sf.base.isNullOrUndefined(this.popupObj)&&sf.base.closest(t,'[id="'+this.popupObj.element.id+'"]')||this.overAllWrapper.contains(e.target)?this.scrollFocusStatus=(sf.base.Browser.isIE||"edge"===sf.base.Browser.info.name)&&document.activeElement===this.inputElement:this.scrollFocusStatus=!1}},t.prototype.wireListEvents=function(){sf.base.EventHandler.add(document,"mousedown",this.onDocumentClick,this),sf.base.EventHandler.add(this.list,"mousedown",this.onListMouseDown,this),sf.base.EventHandler.add(this.list,"mouseup",this.onMouseClick,this),sf.base.EventHandler.add(this.list,"mouseover",this.onMouseOver,this),sf.base.EventHandler.add(this.list,"mouseout",this.onMouseLeave,this)},t.prototype.unwireListEvents=function(){sf.base.EventHandler.remove(document,"mousedown",this.onDocumentClick),this.list&&(sf.base.EventHandler.remove(this.list,"mousedown",this.onListMouseDown),sf.base.EventHandler.remove(this.list,"mouseup",this.onMouseClick),sf.base.EventHandler.remove(this.list,"mouseover",this.onMouseOver),sf.base.EventHandler.remove(this.list,"mouseout",this.onMouseLeave))},t.prototype.hideOverAllClear=function(){this.value&&this.value.length&&""!==this.inputElement.value||(this.overAllClear.style.display="none")},t.prototype.showOverAllClear=function(){(this.value&&this.value.length||""!==this.inputElement.value)&&this.showClearButton&&!0!==this.readonly?this.overAllClear.style.display="":this.overAllClear.style.display="none"},t.prototype.focusIn=function(){document.activeElement!==this.inputElement&&this.enabled&&this.inputElement.focus()},t.prototype.focusOut=function(){document.activeElement===this.inputElement&&this.enabled&&this.inputElement.blur()},t.prototype.showSpinner=function(){sf.base.isNullOrUndefined(this.spinnerElement)&&("none"!==this.overAllClear.style.display?this.spinnerElement=this.overAllClear:(this.spinnerElement=this.createElement("span",{className:"e-chips-close e-close-hooker e-ms-spinner-icon"}),this.componentWrapper.appendChild(this.spinnerElement)),sf.popups.createSpinner({target:this.spinnerElement,width:sf.base.Browser.isDevice?"16px":"14px"},this.createElement),sf.base.addClass([this.spinnerElement],"e-ddl-disable-icon"),sf.popups.showSpinner(this.spinnerElement))},t.prototype.hideSpinner=function(){sf.base.isNullOrUndefined(this.spinnerElement)||(sf.popups.hideSpinner(this.spinnerElement),sf.base.removeClass([this.spinnerElement],"e-ddl-disable-icon"),this.spinnerElement.classList.contains("e-ms-spinner-icon")?sf.base.detach(this.spinnerElement):this.spinnerElement.innerHTML="",this.spinnerElement=null)},t.prototype.updateWrapperText=function(e,t){this.valueTemplate||!this.enableHtmlSanitizer?e.innerHTML=t:e.innerText=sf.base.SanitizeHtmlHelper.sanitize(t)},t.prototype.updateDelimView=function(){if(this.delimiterWrapper&&this.hideDelimWrapper(),this.chipCollectionWrapper&&(this.chipCollectionWrapper.style.display="none"),this.viewWrapper.style.display="",this.viewWrapper.style.width="",this.viewWrapper.classList.remove("e-delim-total"),this.value&&this.value.length){var e="",t=void 0,s=void 0,i=1,l=void 0,a=void 0,o=0,n=void 0;this.updateWrapperText(this.viewWrapper,e);var r={noRecordsTemplate:"No records found",actionFailureTemplate:"Request failed",overflowCountTemplate:"+${count} more..",totalCountTemplate:"${count} selected"},h=new sf.base.L10n(this.getLocaleName(),r,this.locale);""===h.getConstant("actionFailureTemplate")&&(h=new sf.base.L10n("dropdowns",r,this.locale)),""===h.getConstant("noRecordsTemplate")&&(h=new sf.base.L10n("dropdowns",r,this.locale));var p=h.getConstant("overflowCountTemplate"),c=this.createElement("span",{className:"e-remain"}),d=sf.base.compile(p),u=sf.base.compile(h.getConstant("totalCountTemplate")),f=d({count:this.value.length},this,"overflowCountTemplate",null,!this.isStringTemplate,null,c);f&&f.length>0&&c.appendChild(f[0]),this.viewWrapper.appendChild(c),this.renderReactTemplates();var m=c.offsetWidth;if(sf.base.remove(c),this.showDropDownIcon&&(o=this.dropIcon.offsetWidth+parseInt(window.getComputedStyle(this.dropIcon).marginRight,10)),this.checkClearIconWidth(),!sf.base.isNullOrUndefined(this.value))for(var v=0;!sf.base.isNullOrUndefined(this.value[v]);v++){if(e+=0===v?"":this.delimiterChar+" ",e+=t=this.getOverflowVal(v),t=this.viewWrapper.innerHTML,this.updateWrapperText(this.viewWrapper,e),l=this.viewWrapper.offsetWidth+parseInt(window.getComputedStyle(this.viewWrapper).paddingRight,10),n=this.componentWrapper.offsetWidth-parseInt(window.getComputedStyle(this.componentWrapper).paddingLeft,10)-parseInt(window.getComputedStyle(this.componentWrapper).paddingRight,10),l+o+this.clearIconWidth>n){for(void 0!==s&&""!==s&&(t=s,v=i+1),this.updateWrapperText(this.viewWrapper,t),a=this.value.length-v,l=this.viewWrapper.offsetWidth+parseInt(window.getComputedStyle(this.viewWrapper).paddingRight,10);l+m+o+this.clearIconWidth>n&&0!==l&&""!==this.viewWrapper.innerHTML;){var b=this.viewWrapper.innerHTML.split(this.delimiterChar);b.pop(),this.viewWrapper.innerHTML=b.join(this.delimiterChar),a++,l=this.viewWrapper.offsetWidth+parseInt(window.getComputedStyle(this.viewWrapper).paddingRight,10)}break}l+m+o+this.clearIconWidth<=n?(s=e,i=v):0===v&&(s="",i=-1)}if(a>0){var y=n-o-this.clearIconWidth;this.viewWrapper.appendChild(this.updateRemainTemplate(c,this.viewWrapper,a,d,u,y)),this.updateRemainWidth(this.viewWrapper,y),this.updateRemainingText(c,o,a,d,u)}}else this.viewWrapper.innerHTML="",this.viewWrapper.style.display="none"},t.prototype.checkClearIconWidth=function(){this.showClearButton&&(this.clearIconWidth=this.overAllClear.offsetWidth)},t.prototype.updateRemainWidth=function(e,t){e.classList.contains("e-delim-total")&&t<e.offsetWidth+parseInt(window.getComputedStyle(e).paddingLeft,10)+parseInt(window.getComputedStyle(e).paddingLeft,10)&&(e.style.width=t+"px")},t.prototype.updateRemainTemplate=function(e,t,s,i,l,a){t.firstChild&&3===t.firstChild.nodeType&&""===t.firstChild.nodeValue&&t.removeChild(t.firstChild),e.innerHTML="";var o=i({count:s},this,"overflowCountTemplate",null,!this.isStringTemplate,null,e),n=l({count:s},this,"totalCountTemplate",null,!this.isStringTemplate,null,e);return e.appendChild(t.firstChild&&3===t.firstChild.nodeType?o&&o[0]:n&&n[0]),t.firstChild&&3===t.firstChild.nodeType?t.classList.remove("e-delim-total"):(t.classList.add("e-delim-total"),this.updateRemainWidth(t,a)),e},t.prototype.updateRemainingText=function(e,t,s,i,l){var a=this.componentWrapper.offsetWidth-parseInt(window.getComputedStyle(this.componentWrapper).paddingLeft,10)-parseInt(window.getComputedStyle(this.componentWrapper).paddingRight,10),o=this.viewWrapper.offsetWidth+parseInt(window.getComputedStyle(this.viewWrapper).paddingRight,10);if(o+t>=a&&0!==o&&this.viewWrapper.firstChild&&3===this.viewWrapper.firstChild.nodeType){for(;o+t>a&&0!==o&&this.viewWrapper.firstChild&&3===this.viewWrapper.firstChild.nodeType;){var n=this.viewWrapper.firstChild.nodeValue.split(this.delimiterChar);n.pop(),this.viewWrapper.firstChild.nodeValue=n.join(this.delimiterChar),""===this.viewWrapper.firstChild.nodeValue&&this.viewWrapper.removeChild(this.viewWrapper.firstChild),s++,o=this.viewWrapper.offsetWidth}var r=a-t;this.updateRemainTemplate(e,this.viewWrapper,s,i,l,r)}},t.prototype.getOverflowVal=function(e){var t;if(this.mainData&&this.mainData.length)if("CheckBox"===this.mode){var s=this.listData;this.listData=this.mainData,t=this.getTextByValue(this.value[e]),this.listData=s}else t=this.getTextByValue(this.value[e]);else t=this.value[e];return t},t.prototype.unWireEvent=function(){sf.base.EventHandler.remove(this.componentWrapper,"mousedown",this.wrapperClick),sf.base.EventHandler.remove(window,"resize",this.windowResize),sf.base.EventHandler.remove(this.inputElement,"focus",this.focusInHandler),sf.base.EventHandler.remove(this.inputElement,"keydown",this.onKeyDown),"CheckBox"!==this.mode&&sf.base.EventHandler.remove(this.inputElement,"input",this.onInput),sf.base.EventHandler.remove(this.inputElement,"keyup",this.KeyUp);var e=sf.base.closest(this.inputElement,"form");e&&sf.base.EventHandler.remove(e,"reset",this.resetValueHandler),sf.base.EventHandler.remove(this.inputElement,"blur",this.onBlur),sf.base.EventHandler.remove(this.componentWrapper,"mousemove",this.mouseIn),sf.base.EventHandler.remove(this.componentWrapper,"mouseout",this.mouseOut),sf.base.EventHandler.remove(this.overAllClear,"mousedown",this.ClearAll),sf.base.EventHandler.remove(this.inputElement,"paste",this.pasteHandler)},t.prototype.selectAllItem=function(e,t,s){var i;if(i=this.list.querySelectorAll(e?'li.e-list-item:not([aria-selected="true"]):not(.e-reorder-hide)':'li.e-list-item[aria-selected="true"]:not(.e-reorder-hide)'),this.value&&this.value.length&&this.isPopupOpen()&&t&&t.target&&sf.base.closest(t.target,".e-close-hooker")&&this.allowFiltering&&(i=this.mainList.querySelectorAll(e?'li.e-list-item:not([aria-selected="true"]):not(.e-reorder-hide)':'li.e-list-item[aria-selected="true"]:not(.e-reorder-hide)')),this.enableGroupCheckBox&&"CheckBox"===this.mode&&!sf.base.isNullOrUndefined(this.fields.groupBy)){var l=t?t.target:null;if((l=(l=t&&32===t.keyCode?s:l)&&l.classList.contains("e-frame")?l.parentElement.parentElement:l)&&l.classList.contains("e-list-group-item")){var a=l.nextElementSibling;if(sf.base.isNullOrUndefined(a))return;for(;a.classList.contains("e-list-item");){if(e){if(!a.firstElementChild.lastElementChild.classList.contains("e-check")){var o=this.value&&this.value.length?this.value.length:0;a.classList.contains("e-active")&&(o-=1),o<this.maximumSelectionLength&&this.updateListSelection(a,t)}}else a.firstElementChild.lastElementChild.classList.contains("e-check")&&this.updateListSelection(a,t);if(null==(a=a.nextElementSibling))break}if(l.classList.contains("e-list-group-item")){var n=this.list.getElementsByClassName("e-item-focus")[0];n&&n.classList.remove("e-item-focus"),e?l.classList.add("e-active"):l.classList.remove("e-active"),l.classList.add("e-item-focus")}this.textboxValueUpdate(),this.checkPlaceholderSize(),!this.changeOnBlur&&t&&this.updateValueState(t,this.value,this.tempValues)}else this.updateValue(t,i,e)}else this.updateValue(t,i,e)},t.prototype.updateValue=function(e,t,s){var i=this,l=t.length,a="";if(t&&t.length){var o=0,n=0;for(n=this.enableGroupCheckBox?s?this.maximumSelectionLength-(this.value?this.value.length:0):t.length:s?this.maximumSelectionLength-(this.value?this.value.length:0):this.maximumSelectionLength;o<l&&o<=50&&o<n;)this.updateListSelection(t[o],e,l-o),this.enableGroupCheckBox&&this.findGroupStart(t[o]),s&&(a+='<option selected value ="'+this.value[o]+'">'+o+"</option>"),o++;this.hiddenElement.innerHTML=a,l>50&&setTimeout((function(){for(a="";o<l&&o<n;)i.updateListSelection(t[o],e,l-o),i.enableGroupCheckBox&&i.findGroupStart(t[o]),s&&(a+='<option selected value ="'+i.value[o]+'">'+o+"</option>"),o++;sf.base.isBlazor()&&i.isServerRendered||(i.hiddenElement.innerHTML+=a,i.updatedataValueItems(e),i.changeOnBlur||(i.updateValueState(e,i.value,i.tempValues),i.isSelectAll=i.isSelectAll?!i.isSelectAll:i.isSelectAll))}),0)}sf.base.isBlazor()&&this.isServerRendered||(this.updatedataValueItems(e),this.checkPlaceholderSize(),l<=50&&(this.changeOnBlur||(this.updateValueState(e,this.value,this.tempValues),this.isSelectAll=this.isSelectAll?!this.isSelectAll:this.isSelectAll)))},t.prototype.updatedataValueItems=function(e){this.deselectHeader(),this.textboxValueUpdate(e)},t.prototype.textboxValueUpdate=function(e){var t=e&&e.target&&(sf.base.closest(e.target,".e-selectall-parent")||sf.base.closest(e.target,".e-close-hooker"));"Box"===this.mode||this.isPopupOpen()||"CheckBox"===this.mode&&(this.isSelectAll||t)?this.searchWrapper.classList.remove("e-zero-size"):this.updateDelimView(),"CheckBox"===this.mode?(this.updateDelimView(),t||this.isSelectAll||this.updateDelimeter(this.delimiterChar,e),this.refreshInputHight()):this.updateDelimeter(this.delimiterChar,e),this.refreshPlaceHolder()},t.prototype.setZIndex=function(){this.popupObj&&this.popupObj.setProperties({zIndex:this.zIndex})},t.prototype.updateDataSource=function(e){sf.base.isNullOrUndefined(this.list)?this.renderPopup():this.resetList(this.dataSource),!this.value||!this.value.length||sf.base.isBlazor()&&this.isServerRendered||(this.setProperties({value:this.value}),this.refreshSelection())},t.prototype.onLoadSelect=function(){this.setDynValue=!0,this.renderPopup()},t.prototype.selectAllItems=function(t,s){var i=this;if(sf.base.isNullOrUndefined(this.list))this.selectAllAction=function(){if("CheckBox"===i.mode&&i.showSelectAll){var e={module:"CheckBoxSelection",enable:"CheckBox"===i.mode,value:t?"check":"uncheck"};i.notify("checkSelectAll",e)}i.selectAllItem(t,s),i.selectAllAction=null},e.prototype.render.call(this);else{if(this.selectAllAction=null,"CheckBox"===this.mode&&this.showSelectAll){var l={value:t?"check":"uncheck",enable:"CheckBox"===this.mode,module:"CheckBoxSelection"};this.notify("checkSelectAll",l)}this.selectAllItem(t,s)}},t.prototype.getPersistData=function(){return this.addOnPersist(["value"])},t.prototype.onPropertyChanged=function(t,s){(t.dataSource&&!sf.base.isNullOrUndefined(Object.keys(t.dataSource))||t.query&&!sf.base.isNullOrUndefined(Object.keys(t.query)))&&(this.mainList=null,this.mainData=null,this.isFirstClick=!1,this.isDynamicDataChange=!0),"multiselect"===this.getModuleName()&&(this.filterAction=!1,this.setUpdateInitial(["fields","query","dataSource"],t));for(var i=0,l=Object.keys(t);i<l.length;i++){var a=l[i];switch(a){case"query":case"dataSource":"CheckBox"===this.mode&&this.showSelectAll&&(sf.base.isNullOrUndefined(this.popupObj)||(this.popupObj.destroy(),this.popupObj=null),this.renderPopup());break;case"htmlAttributes":this.updateHTMLAttribute();break;case"showClearButton":this.updateClearButton(t.showClearButton);break;case"text":this.updateVal(this.value,this.value,"text");break;case"value":this.updateVal(this.value,s.value,"value"),this.addValidInputClass(),!this.closePopupOnSelect&&this.isPopupOpen()&&this.refreshPopup();break;case"width":this.setWidth(t.width),this.popupObj.setProperties({width:this.calcPopupWidth()});break;case"placeholder":this.refreshPlaceHolder();break;case"filterBarPlaceholder":this.allowFiltering&&this.notify("filterBarPlaceholder",{filterBarPlaceholder:t.filterBarPlaceholder});break;case"delimiterChar":"Box"!==this.mode&&this.updateDelimView(),this.updateData(t.delimiterChar);break;case"cssClass":this.updateOldPropCssClass(s.cssClass),this.updateCssClass();break;case"enableRtl":this.enableRTL(t.enableRtl),e.prototype.onPropertyChanged.call(this,t,s);break;case"readonly":this.updateReadonly(t.readonly),this.hidePopup();break;case"enabled":this.hidePopup(),this.enable(t.enabled);break;case"showSelectAll":this.popupObj&&(this.popupObj.destroy(),this.popupObj=null),this.renderPopup();break;case"showDropDownIcon":this.dropDownIcon();break;case"floatLabelType":this.setFloatLabelType(),this.addValidInputClass();break;case"enableSelectionOrder":break;case"selectAllText":this.notify("selectAllText",!1);break;case"popupHeight":case"headerTemplate":case"footerTemplate":this.reInitializePoup();break;case"allowFiltering":"CheckBox"===this.mode&&this.popupObj&&this.reInitializePoup(),this.updateSelectElementData(this.allowFiltering);break;default:var o;o=this.getPropObject(a,t,s),e.prototype.onPropertyChanged.call(this,o.newProperty,o.oldProperty)}}this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange},t.prototype.reInitializePoup=function(){this.popupObj&&(this.popupObj.destroy(),this.popupObj=null),this.renderPopup()},t.prototype.updateVal=function(e,t,s){this.list&&(!(this.dataSource instanceof sf.data.DataManager)||this.listData&&this.mainList&&this.mainData)?("text"===s&&(this.initialTextUpdate(),e=this.value),(sf.base.isNullOrUndefined(this.value)||0===this.value.length)&&(this.tempValues=t),this.initialValueUpdate(),"Box"===this.mode||this.inputFocus||this.updateDelimView(),this.inputFocus||this.refreshInputHight(),this.refreshPlaceHolder(),"CheckBox"!==this.mode&&this.changeOnBlur&&this.updateValueState(null,e,t),this.checkPlaceholderSize()):this.onLoadSelect(),this.changeOnBlur||this.updateValueState(null,e,t)},t.prototype.addItem=function(t,s){e.prototype.addItem.call(this,t,s)},t.prototype.hidePopup=function(){var e=this;if(this.isPopupOpen()){var t={name:"FadeOut",duration:100,delay:100},s={popup:this.popupObj,cancel:!1,animation:t};this.trigger("close",s,(function(t){t.cancel||(e.beforePopupOpen=!1,e.overAllWrapper.classList.remove("e-icon-anim"),e.popupObj.hide(new sf.base.Animation(t.animation)),sf.base.attributes(e.inputElement,{"aria-expanded":"false"}),e.allowFiltering&&e.notify("inputFocus",{module:"CheckBoxSelection",enable:"CheckBox"===e.mode,value:"clear"}),e.popupObj.hide(),sf.base.removeClass([document.body,e.popupObj.element],"e-popup-full-page"),sf.base.EventHandler.remove(e.list,"keydown",e.onKeyDown))}))}},t.prototype.showPopup=function(){var t=this;if(this.enabled){this.trigger("beforeOpen",{cancel:!1},(function(s){if(!s.cancel){if(sf.base.isBlazor()&&t.isServerRendered&&t.itemTemplate&&(t.DropDownBaseupdateBlazorTemplates(!0,!1,!1,!1,!1,!1,!1,!1),"CheckBox"!==t.mode&&t.list&&t.refreshSelection()),!t.ulElement)return t.beforePopupOpen=!0,e.prototype.render.call(t),void("CheckBox"===t.mode&&sf.base.Browser.isDevice&&t.allowFiltering&&t.notify("popupFullScreen",{module:"CheckBoxSelection",enable:"CheckBox"===t.mode}));"CheckBox"===t.mode&&sf.base.Browser.isDevice&&t.allowFiltering&&t.notify("popupFullScreen",{module:"CheckBoxSelection",enable:"CheckBox"===t.mode});var i=t.ulElement.querySelectorAll("li.e-list-item").length,l=t.ulElement.querySelectorAll("li."+sf.dropdowns.dropDownBaseClasses.li+"."+f).length;if(i>0&&i===l&&l===t.mainData.length)return void(t.beforePopupOpen=!1);t.onPopupShown()}}))}},t.prototype.selectAll=function(e){this.isSelectAll=!0,this.selectAllItems(e)},t.prototype.getModuleName=function(){return"multiselect"},t.prototype.clear=function(){var e=this;this.selectAll(!1),this.value&&this.value.length?setTimeout((function(){e.setProperties({value:null},!0)}),0):this.setProperties({value:null},!0)},t.prototype.render=function(){this.setDynValue=this.initStatus=!1,this.isSelectAll=!1,this.searchWrapper=this.createElement("span",{className:"e-searcher "+("Box"===this.mode?"e-multiselect-box":"")}),this.viewWrapper=this.createElement("span",{className:"e-delim-view e-delim-values",styles:"display:none;"}),this.overAllClear=this.createElement("span",{className:"e-chips-close e-close-hooker",styles:"display:none;"}),this.componentWrapper=this.createElement("div",{className:"e-multi-select-wrapper"}),this.overAllWrapper=this.createElement("div",{className:"e-multiselect e-input-group e-control-wrapper"}),"CheckBox"===this.mode&&sf.base.addClass([this.overAllWrapper],"e-checkbox"),sf.base.Browser.isDevice&&this.componentWrapper.classList.add("e-mob-wrapper"),this.setWidth(this.width),this.overAllWrapper.appendChild(this.componentWrapper),this.popupWrapper=this.createElement("div",{id:this.element.id+"_popup",className:"e-ddl e-popup e-multi-select-list-wrapper"}),"Delimiter"===this.mode||"CheckBox"===this.mode?(this.delimiterWrapper=this.createElement("span",{className:"e-delim-values",styles:"display:none"}),this.componentWrapper.appendChild(this.delimiterWrapper)):(this.chipCollectionWrapper=this.createElement("span",{className:"e-chips-collection",styles:"display:none"}),"Default"===this.mode?this.chipCollectionWrapper.setAttribute("id",sf.base.getUniqueID("chip_default")):"Box"===this.mode&&this.chipCollectionWrapper.setAttribute("id",sf.base.getUniqueID("chip_box")),this.componentWrapper.appendChild(this.chipCollectionWrapper)),"Box"!==this.mode&&this.componentWrapper.appendChild(this.viewWrapper),this.componentWrapper.appendChild(this.searchWrapper),this.showClearButton&&!sf.base.Browser.isDevice?this.componentWrapper.appendChild(this.overAllClear):this.componentWrapper.classList.add("e-close-icon-hide"),this.dropDownIcon(),this.inputElement=this.createElement("input",{className:"e-dropdownbase",attrs:{spellcheck:"false",type:"text",autocomplete:"off",tabindex:"0"}}),"Default"!==this.mode&&"Box"!==this.mode||this.inputElement.setAttribute("aria-describedby",this.chipCollectionWrapper.id),this.element.tagName!==this.getNgDirective()&&(this.element.style.display="none"),this.element.tagName===this.getNgDirective()?(this.element.appendChild(this.overAllWrapper),this.searchWrapper.appendChild(this.inputElement)):(this.element.parentElement.insertBefore(this.overAllWrapper,this.element),this.searchWrapper.appendChild(this.inputElement),this.searchWrapper.appendChild(this.element),this.element.removeAttribute("tabindex")),"Never"!==this.floatLabelType?l(this.overAllWrapper,this.searchWrapper,this.element,this.inputElement,this.value,this.floatLabelType,this.placeholder):"Never"===this.floatLabelType&&this.refreshPlaceHolder(),this.addValidInputClass(),this.element.style.opacity="";var e=this.element.getAttribute("id")?this.element.getAttribute("id"):sf.base.getUniqueID("ej2_dropdownlist");this.element.id=e,this.hiddenElement=this.createElement("select",{attrs:{"aria-hidden":"true",class:"e-multi-hidden",tabindex:"-1",multiple:""}}),this.componentWrapper.appendChild(this.hiddenElement),this.validationAttribute(this.element,this.hiddenElement),"CheckBox"!==this.mode&&this.hideOverAllClear(),this.wireEvent(),this.enable(this.enabled),this.enableRTL(this.enableRtl),this.checkInitialValue(),this.element.hasAttribute("data-val")&&this.element.setAttribute("data-val","false"),this.renderComplete()},t.prototype.checkInitialValue=function(){var e=this,t=this.dataSource instanceof Array?this.dataSource.length>0:!sf.base.isNullOrUndefined(this.dataSource);if((!this.value||!this.value.length)&&sf.base.isNullOrUndefined(this.text)&&!t&&"SELECT"===this.element.tagName&&this.element.options.length>0){for(var s=this.element.options,i=[],l="",a=0,o=s.length;a<o;a++){var n=s[a];sf.base.isNullOrUndefined(n.getAttribute("selected"))||(n.getAttribute("value")?i.push(n.getAttribute("value")):l+=n.text+this.delimiterChar)}i.length>0?this.setProperties({value:i},!0):""!==l&&this.setProperties({text:l},!0),(i.length>0||""!==l)&&(this.refreshInputHight(),this.refreshPlaceHolder())}(this.value&&this.value.length||!sf.base.isNullOrUndefined(this.text))&&this.renderPopup(),sf.base.isNullOrUndefined(this.text)||!sf.base.isNullOrUndefined(this.value)&&0!==this.value.length||this.initialTextUpdate(),this.value&&this.value.length?(this.dataSource instanceof sf.data.DataManager?this.setInitialValue=function(){e.initStatus=!1,e.initialValueUpdate(),e.initialUpdate(),e.setInitialValue=null,e.initStatus=!0}:(this.initialValueUpdate(),this.initialUpdate()),this.updateTempValue()):this.initialUpdate(),this.initStatus=!0,this.checkAutoFocus(),sf.base.isNullOrUndefined(this.text)||this.element.setAttribute("data-initial-value",this.text)},t.prototype.checkAutoFocus=function(){this.element.hasAttribute("autofocus")&&this.inputElement.focus()},t.prototype.setFloatLabelType=function(){o(this.overAllWrapper,this.componentWrapper,this.searchWrapper,this.inputElement,this.value,this.floatLabelType,this.placeholder),"Never"!==this.floatLabelType&&l(this.overAllWrapper,this.searchWrapper,this.element,this.inputElement,this.value,this.floatLabelType,this.placeholder)},t.prototype.addValidInputClass=function(){!sf.base.isNullOrUndefined(this.value)&&this.value.length||"Always"===this.floatLabelType?sf.base.addClass([this.overAllWrapper],"e-valid-input"):sf.base.removeClass([this.overAllWrapper],"e-valid-input")},t.prototype.dropDownIcon=function(){this.showDropDownIcon?(this.dropIcon=this.createElement("span",{className:"e-input-group-icon e-ddl-icon"}),this.componentWrapper.appendChild(this.dropIcon),sf.base.addClass([this.componentWrapper],["e-down-icon"])):sf.base.isNullOrUndefined(this.dropIcon)||(this.dropIcon.parentElement.removeChild(this.dropIcon),sf.base.removeClass([this.componentWrapper],["e-down-icon"]))},t.prototype.initialUpdate=function(){"Box"===this.mode||this.setDynValue&&"Default"===this.mode&&this.inputFocus||this.updateDelimView(),this.updateCssClass(),this.updateHTMLAttribute(),this.updateReadonly(this.readonly),this.refreshInputHight(),this.checkPlaceholderSize()},t.prototype.destroy=function(){this.isReact&&this.clearTemplate(),this.popupObj&&this.popupObj.hide(),this.notify("destroy",{}),this.unwireListEvents(),this.unWireEvent(),this.list=null,this.popupObj=null,this.mainList=null,this.mainData=null,this.filterParent=null,this.ulElement=null,e.prototype.destroy.call(this);for(var t=["readonly","aria-disabled","aria-placeholder","placeholder"],s=t.length;s>0;)this.inputElement.removeAttribute(t[s-1]),s--;this.element.removeAttribute("data-initial-value"),this.element.style.display="block",this.overAllWrapper.parentElement&&(this.overAllWrapper.parentElement.tagName===this.getNgDirective()||this.overAllWrapper.parentElement.insertBefore(this.element,this.overAllWrapper),sf.base.remove(this.overAllWrapper))},d([sf.base.Complex({text:null,value:null,iconCss:null,groupBy:null},sf.dropdowns.FieldSettings)],t.prototype,"fields",void 0),d([sf.base.Property(!1)],t.prototype,"enablePersistence",void 0),d([sf.base.Property(null)],t.prototype,"groupTemplate",void 0),d([sf.base.Property("No records found")],t.prototype,"noRecordsTemplate",void 0),d([sf.base.Property("Request failed")],t.prototype,"actionFailureTemplate",void 0),d([sf.base.Property("None")],t.prototype,"sortOrder",void 0),d([sf.base.Property(!0)],t.prototype,"enabled",void 0),d([sf.base.Property(!1)],t.prototype,"enableHtmlSanitizer",void 0),d([sf.base.Property([])],t.prototype,"dataSource",void 0),d([sf.base.Property(null)],t.prototype,"query",void 0),d([sf.base.Property("StartsWith")],t.prototype,"filterType",void 0),d([sf.base.Property(1e3)],t.prototype,"zIndex",void 0),d([sf.base.Property(!1)],t.prototype,"ignoreAccent",void 0),d([sf.base.Property()],t.prototype,"locale",void 0),d([sf.base.Property(!1)],t.prototype,"enableGroupCheckBox",void 0),d([sf.base.Property(null)],t.prototype,"cssClass",void 0),d([sf.base.Property("100%")],t.prototype,"width",void 0),d([sf.base.Property("300px")],t.prototype,"popupHeight",void 0),d([sf.base.Property("100%")],t.prototype,"popupWidth",void 0),d([sf.base.Property(null)],t.prototype,"placeholder",void 0),d([sf.base.Property(null)],t.prototype,"filterBarPlaceholder",void 0),d([sf.base.Property({})],t.prototype,"htmlAttributes",void 0),d([sf.base.Property(null)],t.prototype,"valueTemplate",void 0),d([sf.base.Property(null)],t.prototype,"headerTemplate",void 0),d([sf.base.Property(null)],t.prototype,"footerTemplate",void 0),d([sf.base.Property(null)],t.prototype,"itemTemplate",void 0),d([sf.base.Property(null)],t.prototype,"allowFiltering",void 0),d([sf.base.Property(!0)],t.prototype,"changeOnBlur",void 0),d([sf.base.Property(!1)],t.prototype,"allowCustomValue",void 0),d([sf.base.Property(!0)],t.prototype,"showClearButton",void 0),d([sf.base.Property(1e3)],t.prototype,"maximumSelectionLength",void 0),d([sf.base.Property(!1)],t.prototype,"readonly",void 0),d([sf.base.Property(null)],t.prototype,"text",void 0),d([sf.base.Property(null)],t.prototype,"value",void 0),d([sf.base.Property(!0)],t.prototype,"hideSelectedItem",void 0),d([sf.base.Property(!0)],t.prototype,"closePopupOnSelect",void 0),d([sf.base.Property("Default")],t.prototype,"mode",void 0),d([sf.base.Property(",")],t.prototype,"delimiterChar",void 0),d([sf.base.Property(!0)],t.prototype,"ignoreCase",void 0),d([sf.base.Property(!1)],t.prototype,"showDropDownIcon",void 0),d([sf.base.Property("Never")],t.prototype,"floatLabelType",void 0),d([sf.base.Property(!1)],t.prototype,"showSelectAll",void 0),d([sf.base.Property("Select All")],t.prototype,"selectAllText",void 0),d([sf.base.Property("Unselect All")],t.prototype,"unSelectAllText",void 0),d([sf.base.Property(!0)],t.prototype,"enableSelectionOrder",void 0),d([sf.base.Property(!0)],t.prototype,"openOnClick",void 0),d([sf.base.Event()],t.prototype,"change",void 0),d([sf.base.Event()],t.prototype,"removing",void 0),d([sf.base.Event()],t.prototype,"removed",void 0),d([sf.base.Event()],t.prototype,"selectedAll",void 0),d([sf.base.Event()],t.prototype,"beforeOpen",void 0),d([sf.base.Event()],t.prototype,"open",void 0),d([sf.base.Event()],t.prototype,"close",void 0),d([sf.base.Event()],t.prototype,"blur",void 0),d([sf.base.Event()],t.prototype,"focus",void 0),d([sf.base.Event()],t.prototype,"chipSelection",void 0),d([sf.base.Event()],t.prototype,"filtering",void 0),d([sf.base.Event()],t.prototype,"tagging",void 0),d([sf.base.Event()],t.prototype,"customValueSelection",void 0),t=d([sf.base.NotifyPropertyChanges],t)}(sf.dropdowns.DropDownBase),b="e-check",y=function(){function e(e){this.activeLi=[],this.activeEle=[],this.parent=e,this.removeEventListener(),this.addEventListener()}return e.prototype.getModuleName=function(){return"CheckBoxSelection"},e.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on("updatelist",this.listSelection,this),this.parent.on("listoption",this.listOption,this),this.parent.on("selectAll",this.setSelectAll,this),this.parent.on("checkSelectAll",this.checkSelectAll,this),this.parent.on("searchBox",this.setSearchBox,this),this.parent.on("blur",this.onBlur,this),this.parent.on("targetElement",this.targetElement,this),this.parent.on("deviceSearchBox",this.setDeviceSearchBox,this),this.parent.on("inputFocus",this.getFocus,this),this.parent.on("reOrder",this.setReorder,this),this.parent.on("activeList",this.getActiveList,this),this.parent.on("selectAllText",this.setLocale,this),this.parent.on("filterBarPlaceholder",this.setPlaceholder,this),sf.base.EventHandler.add(document,"mousedown",this.onDocumentClick,this),this.parent.on("addItem",this.checboxCreate,this),this.parent.on("popupFullScreen",this.setPopupFullScreen,this))},e.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off("updatelist",this.listSelection),this.parent.off("listoption",this.listOption),this.parent.off("selectAll",this.setSelectAll),this.parent.off("checkSelectAll",this.checkSelectAll),this.parent.off("searchBox",this.setSearchBox),this.parent.off("blur",this.onBlur),this.parent.off("targetElement",this.targetElement),this.parent.off("deviceSearchBox",this.setDeviceSearchBox),this.parent.off("inputFocus",this.getFocus),this.parent.off("reOrder",this.setReorder),this.parent.off("activeList",this.getActiveList),this.parent.off("selectAllText",this.setLocale),this.parent.off("filterBarPlaceholder",this.setPlaceholder),this.parent.off("addItem",this.checboxCreate),this.parent.off("popupFullScreen",this.setPopupFullScreen))},e.prototype.listOption=function(e){var t=this;if(sf.base.isNullOrUndefined(this.parent.listCurrentOptions.itemCreated))this.parent.listCurrentOptions.itemCreated=function(e){t.checboxCreate(e)};else{var s=this.parent.listCurrentOptions.itemCreated;this.parent.listCurrentOptions.itemCreated=function(e){t.checboxCreate(e),s.apply(t,[e])}}},e.prototype.setPlaceholder=function(e){sf.inputs.Input.setPlaceholder(e.filterBarPlaceholder,this.filterInput)},e.prototype.checboxCreate=function(e){var t;if(t=sf.base.isNullOrUndefined(e.item)?e:e.item,this.parent.enableGroupCheckBox||"e-list-group-item "!==t.className&&"e-list-group-item"!==t.className){var s=sf.buttons.createCheckBox(this.parent.createElement,!0),i=sf.base.select("div.e-icons",t);t.getAttribute("data-uid");t.insertBefore(s,t.childNodes[sf.base.isNullOrUndefined(i)?0:1]),sf.base.select(".e-frame",s);sf.base.select(".e-frame",s);return this.parent.enableGroupCheckBox&&this.parent.popupWrapper.classList.add("e-multiselect-group"),t}return t},e.prototype.setSelectAll=function(){this.parent.showSelectAll?(sf.base.isNullOrUndefined(this.checkAllParent)&&(this.checkAllParent=this.parent.createElement("div",{className:"e-selectall-parent"}),this.selectAllSpan=this.parent.createElement("span",{className:"e-all-text"}),this.selectAllSpan.textContent="",this.checkAllParent.appendChild(this.selectAllSpan),this.setLocale(),this.checboxCreate(this.checkAllParent),this.parent.headerTemplate&&(sf.base.isNullOrUndefined(this.parent.filterParent)?sf.base.append([this.checkAllParent],this.parent.popupWrapper):sf.base.append([this.checkAllParent],this.parent.filterParent)),this.parent.headerTemplate||(sf.base.isNullOrUndefined(this.parent.filterParent)?sf.base.prepend([this.checkAllParent],this.parent.popupWrapper):this.parent.filterParent.parentNode.insertBefore(this.checkAllParent,this.parent.filterParent.nextSibling)),sf.base.EventHandler.add(this.checkAllParent,"mousedown",this.clickHandler,this)),this.parent.list.classList.contains("e-nodata")||this.parent.listData&&this.parent.listData.length<=1&&(!this.parent.isDynamicDataChange||!sf.base.isBlazor())||this.parent.isDynamicDataChange&&!sf.base.isNullOrUndefined(this.parent.value)&&this.parent.value.length<=1&&sf.base.isBlazor()?this.checkAllParent.style.display="none":this.checkAllParent.style.display="block",this.parent.selectAllHeight=this.checkAllParent.getBoundingClientRect().height):sf.base.isNullOrUndefined(this.checkAllParent)||(this.checkAllParent.parentElement.removeChild(this.checkAllParent),this.checkAllParent=null)},e.prototype.destroy=function(){this.removeEventListener(),sf.base.EventHandler.remove(document,"mousedown",this.onDocumentClick)},e.prototype.listSelection=function(e){var t,s=sf.base.isBlazor()&&e.module&&"listbox"===e.module;if(sf.base.isNullOrUndefined(e.e)){var i=e.li.querySelector(".e-checkbox-wrapper");t=i?s?i.querySelector(".e-frame"):i.childNodes[1]:e.li.lastElementChild.childNodes[1]}else{var l=e.li.querySelector(".e-checkbox-wrapper .e-frame");t=sf.base.isNullOrUndefined(e.e.target)?s?l:e.li.querySelector(".e-checkbox-wrapper").childNodes[1]:e.e.target.classList.contains("e-frame")&&(!this.parent.showSelectAll||this.checkAllParent&&!this.checkAllParent.contains(e.e.target))?e.e.target:s?l:e.li.querySelector(".e-checkbox-wrapper").childNodes[1]}if((this.parent.itemTemplate||this.parent.enableGroupCheckBox)&&(t=e.li.firstElementChild.childNodes[1]),sf.base.isNullOrUndefined(t)||(this.checkWrapper=sf.base.closest(t,".e-checkbox-wrapper")),!sf.base.isNullOrUndefined(this.checkWrapper)){var a=sf.base.select(".e-frame",this.checkWrapper);this.validateCheckNode(this.checkWrapper,a.classList.contains(b),e.li,e.e,!1)}},e.prototype.validateCheckNode=function(e,t,s,i,l){this.changeState(e,t?"uncheck":"check",i,!0,l)},e.prototype.clickHandler=function(e){var t;t=e.currentTarget.classList.contains(this.checkAllParent.className)?e.currentTarget.firstElementChild.lastElementChild:e.currentTarget,this.checkWrapper=sf.base.closest(t,".e-checkbox-wrapper");if(!sf.base.isNullOrUndefined(this.checkWrapper)){var s=sf.base.select(".e-frame",this.checkWrapper);this.validateCheckNode(this.checkWrapper,s.classList.contains(b),null,e,!0)}e.preventDefault()},e.prototype.changeState=function(e,t,s,i,l){var a,o=e.getElementsByClassName("e-frame")[0];"check"!==t||o.classList.contains(b)?"uncheck"===t&&(o.classList.contains(b)||o.classList.contains("e-stop"))?(sf.base.removeClass([o],[b,"e-stop"]),a="false",l&&(this.parent.selectAllItems(!1,s),this.setLocale())):"indeterminate"!==t||o.classList.contains("e-stop")||(sf.base.removeClass([o],[b]),o.classList.add("e-stop"),a="false",l&&(this.parent.selectAllItems(!1,s),this.setLocale())):(o.classList.remove("e-stop"),o.classList.add(b),a="true",l&&(this.parent.selectAllItems(!0,s),this.setLocale(!0))),a="check"===t?"true":"uncheck"===t?"false":a,sf.base.isNullOrUndefined(a)||e.setAttribute("aria-checked",a)},e.prototype.setSearchBox=function(e){if(sf.base.isNullOrUndefined(this.parent.filterParent)){this.parent.filterParent=this.parent.createElement("span",{className:"e-filter-parent"}),this.filterInput=this.parent.createElement("input",{attrs:{type:"text"},className:"e-input-filter"}),this.parent.element.parentNode.insertBefore(this.filterInput,this.parent.element);var t=!1;return sf.base.Browser.isDevice&&(t=!0,this.parent.mobFilter=!1),this.filterInputObj=sf.inputs.Input.createInput({element:this.filterInput,buttons:t?["e-input-group-icon e-back-icon e-icons","e-input-group-icon e-clear-icon e-icons"]:["e-input-group-icon e-clear-icon e-icons"],properties:{placeholder:this.parent.filterBarPlaceholder}},this.parent.createElement),sf.base.isNullOrUndefined(this.parent.cssClass)||(-1!==this.parent.cssClass.split(" ").indexOf("e-outline")?sf.base.addClass([this.filterInputObj.container],"e-outline"):-1!==this.parent.cssClass.split(" ").indexOf("e-filled")&&sf.base.addClass([this.filterInputObj.container],"e-filled")),sf.base.append([this.filterInputObj.container],this.parent.filterParent),sf.base.prepend([this.parent.filterParent],e.popupElement),sf.base.attributes(this.filterInput,{"aria-disabled":"false","aria-owns":this.parent.element.id+"_options",role:"listbox","aria-activedescendant":null,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"}),this.clearIconElement=this.filterInput.parentElement.querySelector(".e-clear-icon"),!sf.base.Browser.isDevice&&this.clearIconElement&&(sf.base.EventHandler.add(this.clearIconElement,"mousedown",this.clearText,this),this.clearIconElement.style.visibility="hidden"),sf.base.EventHandler.add(this.filterInput,"input",this.parent.onInput,this.parent),sf.base.EventHandler.add(this.filterInput,"keyup",this.parent.KeyUp,this.parent),sf.base.EventHandler.add(this.filterInput,"keydown",this.parent.onKeyDown,this.parent),sf.base.EventHandler.add(this.filterInput,"blur",this.onBlur,this),sf.base.EventHandler.add(this.filterInput,"paste",this.parent.pasteHandler,this.parent),this.parent.searchBoxHeight=this.filterInputObj.container.parentElement.getBoundingClientRect().height,this.filterInputObj}},e.prototype.clickOnBackIcon=function(e){this.parent.hidePopup(),sf.base.removeClass([document.body,this.parent.popupObj.element],"e-popup-full-page"),this.parent.inputElement.focus()},e.prototype.clearText=function(e){this.parent.targetInputElement.value="",this.parent.allowFiltering&&""===this.parent.targetInputElement.value&&this.parent.search(null),this.parent.refreshPopup(),this.parent.refreshListItems(null),this.clearIconElement.style.visibility="hidden",this.filterInput.focus(),this.setReorder(e),e.preventDefault()},e.prototype.setDeviceSearchBox=function(){this.parent.popupObj.element.classList.add("e-ddl-device"),this.parent.popupObj.element.classList.add("e-ddl-device-filter"),this.parent.popupObj.position={X:0,Y:0},this.parent.popupObj.dataBind(),this.setSearchBoxPosition(),this.backIconElement=this.filterInputObj.container.querySelector(".e-back-icon"),this.clearIconElement=this.filterInputObj.container.querySelector(".e-clear-icon"),this.clearIconElement.style.visibility="hidden",sf.base.EventHandler.add(this.backIconElement,"click",this.clickOnBackIcon,this),sf.base.EventHandler.add(this.clearIconElement,"click",this.clearText,this)},e.prototype.setSearchBoxPosition=function(){var e=this.filterInput.parentElement.getBoundingClientRect().height,t=0;this.checkAllParent&&(t=this.checkAllParent.getBoundingClientRect().height),this.parent.popupObj.element.style.maxHeight="100%",this.parent.popupObj.element.style.width="100%",this.parent.list.style.maxHeight=window.innerHeight-e-t+"px",this.parent.list.style.height=window.innerHeight-e-t+"px";var s=this.filterInput.parentElement.querySelector(".e-clear-icon");sf.base.detach(this.filterInput),s.parentElement.insertBefore(this.filterInput,s)},e.prototype.setPopupFullScreen=function(){sf.base.attributes(this.parent.popupObj.element,{style:"left:0px;right:0px;top:0px;bottom:0px;"}),sf.base.addClass([document.body,this.parent.popupObj.element],"e-popup-full-page"),this.parent.popupObj.element.style.maxHeight="100%",this.parent.popupObj.element.style.width="100%"},e.prototype.targetElement=function(){return sf.base.isNullOrUndefined(this.clearIconElement)||(this.parent.targetInputElement=this.filterInput,this.clearIconElement.style.visibility=""===this.parent.targetInputElement.value?"hidden":"visible"),this.parent.targetInputElement.value},e.prototype.onBlur=function(e){if(!this.parent.element.classList.contains("e-listbox")){var t=void 0;if(this.parent.keyAction)return;if(sf.base.Browser.isIE&&(t=!sf.base.isNullOrUndefined(e)&&e.target),sf.base.Browser.isIE||(t=!sf.base.isNullOrUndefined(e)&&e.relatedTarget),this.parent.popupObj&&document.body.contains(this.parent.popupObj.element)&&this.parent.popupObj.element.contains(t)&&!sf.base.Browser.isIE&&this.filterInput)return void this.filterInput.focus();if(this.parent.scrollFocusStatus&&this.filterInput)return e.preventDefault(),this.filterInput.focus(),void(this.parent.scrollFocusStatus=!1);this.parent.popupObj&&document.body.contains(this.parent.popupObj.element)&&!this.parent.popupObj.element.classList.contains("e-popup-close")&&(this.parent.inputFocus=!1,this.parent.updateValueState(e,this.parent.value,this.parent.tempValues),this.parent.dispatchEvent(this.parent.hiddenElement,"change")),this.parent.popupObj&&document.body.contains(this.parent.popupObj.element)&&!this.parent.popupObj.element.classList.contains("e-popup-close")&&(this.parent.inputFocus=!1,this.parent.overAllWrapper.classList.remove("e-input-focus"),this.parent.trigger("blur"),this.parent.focused=!0),this.parent.popupObj&&document.body.contains(this.parent.popupObj.element)&&!this.parent.popupObj.element.classList.contains("e-popup-close")&&!sf.base.Browser.isDevice&&this.parent.hidePopup()}},e.prototype.onDocumentClick=function(e){if("listbox"!==this.parent.getLocaleName()){var t=e.target;!sf.base.isNullOrUndefined(this.parent.popupObj)&&sf.base.closest(t,'[id="'+this.parent.popupObj.element.id+'"]')&&(this.filterInput&&""!==this.filterInput.value||e.preventDefault()),!sf.base.isNullOrUndefined(this.parent.popupObj)&&sf.base.closest(t,'[id="'+this.parent.popupObj.element.id+'"]')||this.parent.overAllWrapper.contains(e.target)?this.parent.scrollFocusStatus=(sf.base.Browser.isIE||"edge"===sf.base.Browser.info.name)&&document.activeElement===this.filterInput:(this.parent.overAllWrapper.classList.contains(sf.dropdowns.dropDownBaseClasses.focus)||this.parent.isPopupOpen())&&(this.parent.inputFocus=!1,this.parent.scrollFocusStatus=!1,this.parent.hidePopup(),this.parent.onBlur(e,!0),this.parent.focused=!0),this.parent.overAllWrapper.contains(e.target)||!this.parent.overAllWrapper.classList.contains("e-input-focus")||this.parent.isPopupOpen()||(sf.base.Browser.isIE?this.parent.onBlur():this.parent.onBlur(e)),this.filterInput===t&&this.filterInput.focus()}},e.prototype.getFocus=function(e){this.parent.overAllWrapper.classList.remove("e-input-focus"),this.parent.keyAction&&"clear"!==e.value&&"focus"!==e.value?this.parent.keyAction=!1:("focus"===e.value&&(this.filterInput.focus(),this.parent.removeFocus(),sf.base.EventHandler.remove(this.parent.list,"keydown",this.parent.onKeyDown)),"clear"===e.value&&(this.filterInput.value="",this.clearIconElement.style.visibility="hidden"))},e.prototype.checkSelectAll=function(e){"check"===e.value&&"true"!==this.checkAllParent.getAttribute("aria-checked")&&(this.changeState(this.checkAllParent,e.value,null,null,!1),this.setLocale(!0)),"uncheck"===e.value&&(this.changeState(this.checkAllParent,e.value,null,null,!1),this.setLocale()),"indeterminate"===e.value&&(this.changeState(this.checkAllParent,e.value,null,null,!1),this.setLocale())},e.prototype.setLocale=function(e){if("Select All"!==this.parent.selectAllText||"Unselect All"!==this.parent.unSelectAllText){var t=e?this.parent.unSelectAllText:this.parent.selectAllText;this.selectAllSpan.textContent="";for(var s=e?"unSelectAllText":"selectAllText",i=0,l=sf.base.compile(t)({},this.parent,s,null,!this.parent.isStringTemplate);i<l.length;i++){var a=l[i];this.selectAllSpan.textContent=a.textContent}}else{var o=new sf.base.L10n(this.parent.getLocaleName(),{},this.parent.locale);""===o.getConstant("selectAllText")&&(o=new sf.base.L10n("dropdowns",{selectAllText:"Select All",unSelectAllText:"Unselect All"},this.parent.locale)),this.selectAllSpan.textContent=e?o.getConstant("unSelectAllText"):o.getConstant("selectAllText")}},e.prototype.getActiveList=function(e){e.li.classList.contains("e-active")?this.activeLi.push(e.li.cloneNode(!0)):this.activeLi.splice(e.index,1)},e.prototype.setReorder=function(e){if(this.parent.enableSelectionOrder&&!sf.base.isNullOrUndefined(this.parent.value)){var t=this.parent.ulElement.querySelectorAll("li.e-active").length,s=void 0,i=this.parent.createElement("ul",{className:"e-list-parent e-ul e-reorder"});this.parent.createElement("div");t>0&&(sf.base.append(this.parent.ulElement.querySelectorAll("li.e-active"),i),s=this.parent.ulElement.querySelectorAll("li.e-active"),sf.base.addClass(s,"e-reorder-hide"),sf.base.prepend([i],this.parent.list)),this.parent.focusAtFirstListItem()}},e}();return v.Inject(y),e.MultiSelect=v,e.CheckBoxSelection=y,e.createFloatLabel=l,e.updateFloatLabelState=a,e.removeFloating=o,e.setPlaceHolder=n,e.floatLabelFocus=r,e.floatLabelBlur=h,e}({}))}});